{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/hexo-theme-snippet/source/favicon.ico","path":"favicon.ico","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/assets/highlight.pack.js","path":"assets/highlight.pack.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/css/font-awesome.min.css","path":"css/font-awesome.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/css/style.css","path":"css/style.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/avatar.jpg","path":"img/avatar.jpg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/avatar1.jpg","path":"img/avatar1.jpg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/branding.png","path":"img/branding.png","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/head-img.jpg","path":"img/head-img.jpg","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/timeline-clock.gif","path":"img/timeline-clock.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/timeline-dot.gif","path":"img/timeline-dot.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/timeline.gif","path":"img/timeline.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/js/app.js","path":"js/app.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/js/search.js","path":"js/search.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/assets/valine.min.js","path":"assets/valine.min.js","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/css/bootstrap.min.css","path":"css/bootstrap.min.css","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.woff","path":"fonts/fontawesome-webfont.woff","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.woff2","path":"fonts/fontawesome-webfont.woff2","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/img/loading.gif","path":"img/loading.gif","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/fonts/FontAwesome.otf","path":"fonts/FontAwesome.otf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.eot","path":"fonts/fontawesome-webfont.eot","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.ttf","path":"fonts/fontawesome-webfont.ttf","modified":1,"renderable":1},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.svg","path":"fonts/fontawesome-webfont.svg","modified":1,"renderable":1}],"Cache":[{"_id":"themes/hexo-theme-snippet/.gitignore","hash":"5636464498c54867468ad1459c76b960af9c275c","modified":1535611295608},{"_id":"themes/hexo-theme-snippet/.travis.yml","hash":"c1fab2846fb56e0c444faffecbcd46bf746e9f91","modified":1535611295610},{"_id":"themes/hexo-theme-snippet/LICENSE","hash":"c976aafe3bc44246a978850b18102966afe3eeb5","modified":1535611295611},{"_id":"themes/hexo-theme-snippet/README.md","hash":"51933ece3e2515ba5a80d18726a3bc8dd224b7d2","modified":1535611295612},{"_id":"themes/hexo-theme-snippet/_config.yml","hash":"0bd85abf6856b3c41e6bb58ff68478c4af8763a8","modified":1535617552922},{"_id":"themes/hexo-theme-snippet/_travis.sh","hash":"030b5b59dc485b5fa7d155a1da30d9c5c4868f6b","modified":1535611295616},{"_id":"themes/hexo-theme-snippet/gulpfile.js","hash":"41ab8395f1aea0af1467c58ecda05ae04145dfd3","modified":1535611295617},{"_id":"themes/hexo-theme-snippet/package.json","hash":"5d914ea40bae7de59fd8c4b04f1f72b328bfd01b","modified":1535611295693},{"_id":"source/_posts/hexo 常用命令.md","hash":"f428c16fbde15c6bf48f8757464a0a64a9907cb6","modified":1535595541218},{"_id":"source/_posts/删除服务器乱码文件.md","hash":"df6ed9224feded5f945aa2ab0fc82d4ac251d75a","modified":1535615683765},{"_id":"source/_posts/动态路由-路由访问权限.md","hash":"f34ecfa5d8010974d4d94f1005c4870487e066c4","modified":1535615703388},{"_id":"source/_posts/文件管理php.md","hash":"24ebe21cdea6b1547631e2b227c80af9a2533842","modified":1535615642447},{"_id":"source/_posts/自定义百度云分享密码.md","hash":"483b8aefe0a2bf31667df6cf0eb6c8900e9ec86f","modified":1535618551572},{"_id":"themes/hexo-theme-snippet/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1535611295574},{"_id":"themes/hexo-theme-snippet/.git/config","hash":"df40e1ae5b75cd04f7d476826e76ab7f30de669f","modified":1535611295596},{"_id":"themes/hexo-theme-snippet/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1535611291859},{"_id":"themes/hexo-theme-snippet/.git/index","hash":"558e507f91ba4e8d28e4a1b83b279d793cd43fb1","modified":1535611295753},{"_id":"themes/hexo-theme-snippet/.git/packed-refs","hash":"7918001af13212e7c949be63d706c40b91de3c6f","modified":1535611295552},{"_id":"themes/hexo-theme-snippet/.github/ISSUE_TEMPLATE.md","hash":"c32422877f786b7a1a35aa59fd9bcbc9c869b583","modified":1535611295603},{"_id":"themes/hexo-theme-snippet/languages/default.yml","hash":"eb5575ae1f5c51abd8f0b43e491566eb7576c976","modified":1535611295619},{"_id":"themes/hexo-theme-snippet/languages/ja.yml","hash":"7c167ac36b5617d650eaf3c75800a46066b6cd96","modified":1535611295621},{"_id":"themes/hexo-theme-snippet/languages/zh-CN.yml","hash":"25c10529aabb0cf5925d0e84c2e2a15eb561be06","modified":1535611295622},{"_id":"themes/hexo-theme-snippet/languages/zh-TW.yml","hash":"ae1b9580bf11458305f9534d7b58c6f5bcce55c7","modified":1535611295623},{"_id":"themes/hexo-theme-snippet/layout/archive.ejs","hash":"71d95943fe978f6f85922800e801cfdd3d06b958","modified":1535611295683},{"_id":"themes/hexo-theme-snippet/layout/category.ejs","hash":"91d904f43ae2ad5ec2b05bf1e2473657a8315b5c","modified":1535611295684},{"_id":"themes/hexo-theme-snippet/layout/index.ejs","hash":"86ac2e3239f2b51db5524df28161d9056fdb31d7","modified":1535611295686},{"_id":"themes/hexo-theme-snippet/layout/layout.ejs","hash":"0a1a1cd49cb9cf53e2d870c23cdc8488921f78f9","modified":1535611295687},{"_id":"themes/hexo-theme-snippet/layout/page.ejs","hash":"7d80e4e36b14d30a7cd2ac1f61376d9ebf264e8b","modified":1535611295689},{"_id":"themes/hexo-theme-snippet/layout/post.ejs","hash":"fcc8e3cb343c9003b7790faf4c72500889cb8e1f","modified":1535611295690},{"_id":"themes/hexo-theme-snippet/layout/tag.ejs","hash":"e7062d08cfff13dfe8b8c8915a2eb0fafb0ae567","modified":1535611295693},{"_id":"themes/hexo-theme-snippet/scripts/helper.js","hash":"5502d8b4937be2463cd76ca82dcb8bd23c0090f6","modified":1535611295695},{"_id":"themes/hexo-theme-snippet/scripts/process.js","hash":"3b3ca8da64cacd9070ea8d888872348f301be2ac","modified":1535611295697},{"_id":"themes/hexo-theme-snippet/source/favicon.ico","hash":"65f26147ea3433ffd64d3f18bf281af48dc5d06e","modified":1535611295718},{"_id":"themes/hexo-theme-snippet/.git/hooks/applypatch-msg.sample","hash":"4de88eb95a5e93fd27e78b5fb3b5231a8d8917dd","modified":1535611291861},{"_id":"themes/hexo-theme-snippet/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1535611291862},{"_id":"themes/hexo-theme-snippet/.git/hooks/fsmonitor-watchman.sample","hash":"f7c0aa40cb0d620ff0bca3efe3521ec79e5d7156","modified":1535611291864},{"_id":"themes/hexo-theme-snippet/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1535611291866},{"_id":"themes/hexo-theme-snippet/.git/hooks/pre-applypatch.sample","hash":"f208287c1a92525de9f5462e905a9d31de1e2d75","modified":1535611291867},{"_id":"themes/hexo-theme-snippet/.git/hooks/pre-push.sample","hash":"5c8518bfd1d1d3d2c1a7194994c0a16d8a313a41","modified":1535611291871},{"_id":"themes/hexo-theme-snippet/.git/hooks/pre-commit.sample","hash":"33729ad4ce51acda35094e581e4088f3167a0af8","modified":1535611291869},{"_id":"themes/hexo-theme-snippet/.git/hooks/pre-rebase.sample","hash":"288efdc0027db4cfd8b7c47c4aeddba09b6ded12","modified":1535611291872},{"_id":"themes/hexo-theme-snippet/.git/hooks/pre-receive.sample","hash":"705a17d259e7896f0082fe2e9f2c0c3b127be5ac","modified":1535611291874},{"_id":"themes/hexo-theme-snippet/.git/hooks/prepare-commit-msg.sample","hash":"2584806ba147152ae005cb675aa4f01d5d068456","modified":1535611291875},{"_id":"themes/hexo-theme-snippet/.git/hooks/update.sample","hash":"e729cd61b27c128951d139de8e7c63d1a3758dde","modified":1535611291877},{"_id":"themes/hexo-theme-snippet/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1535611291879},{"_id":"themes/hexo-theme-snippet/.git/logs/HEAD","hash":"7148e10b635ae46ee8662ddbdfe87cc10241d741","modified":1535611295583},{"_id":"themes/hexo-theme-snippet/.github/ISSUE_TEMPLATE/bug_report.md","hash":"f3a5af2cdf1eb03ddb349e1948501b648d72eed5","modified":1535611295605},{"_id":"themes/hexo-theme-snippet/.github/ISSUE_TEMPLATE/feature_request.md","hash":"73a98280892b1a46317dad9721b6de5244ded398","modified":1535611295607},{"_id":"themes/hexo-theme-snippet/layout/_partial/article-meta.ejs","hash":"943bc4b4086144cbf528d97e58d701dfec73c16a","modified":1535611295634},{"_id":"themes/hexo-theme-snippet/layout/_partial/archive.ejs","hash":"f84e9ef94d8ec61b0788c1f489df93d211833ea7","modified":1535611295633},{"_id":"themes/hexo-theme-snippet/layout/_partial/article.ejs","hash":"5f7c7bdfbc09acf5ae86293a9cf6018c812a3250","modified":1535611295636},{"_id":"themes/hexo-theme-snippet/layout/_partial/copyright.ejs","hash":"b3cb72fcd30201246fac64750461661154bdcfaf","modified":1535611295637},{"_id":"themes/hexo-theme-snippet/layout/_partial/footer.ejs","hash":"4985f82693b922e03382af244f4699d5703242a6","modified":1535611295638},{"_id":"themes/hexo-theme-snippet/layout/_partial/gallery.ejs","hash":"aecfcee48528c5e8cbf7d23765e030a3fbdd1baf","modified":1535611295640},{"_id":"themes/hexo-theme-snippet/layout/_partial/head.ejs","hash":"57e37e6560bb201b0e2afaa4b8efd20bebb7f26e","modified":1535611295641},{"_id":"themes/hexo-theme-snippet/layout/_partial/header.ejs","hash":"25625d64245a6e378da030ce77ddf6a53213225b","modified":1535611295643},{"_id":"themes/hexo-theme-snippet/layout/_partial/nav.ejs","hash":"197741d4d213fa560e830da855efae286a9729ec","modified":1535611295644},{"_id":"themes/hexo-theme-snippet/layout/_partial/pagination.ejs","hash":"20eff43ad205febe8fc675d669b2be0b88c7158e","modified":1535611295645},{"_id":"themes/hexo-theme-snippet/layout/_partial/script.ejs","hash":"15b6a50c715fde41ed9ca6fb9c5fd5290619c5b2","modified":1535611295647},{"_id":"themes/hexo-theme-snippet/layout/_partial/sidebar.ejs","hash":"7a4dd0aa5a5acf3a56734385152c28591c45602e","modified":1535611295648},{"_id":"themes/hexo-theme-snippet/layout/_partial/toc.ejs","hash":"57a144a4680936731c853a5d79c893584fc6a8f0","modified":1535611295650},{"_id":"themes/hexo-theme-snippet/layout/_vendor/baidu_sitemap.ejs","hash":"6ed45973126cd3fc75810d32216760f7be0ef60f","modified":1535611295660},{"_id":"themes/hexo-theme-snippet/layout/_widget/archive.ejs","hash":"2a925b8c86fecabb7a79869080b0e32bba2cece3","modified":1535611295672},{"_id":"themes/hexo-theme-snippet/layout/_widget/category.ejs","hash":"dcdb7a08a2f17beaf610de4e937047c291f39a90","modified":1535611295674},{"_id":"themes/hexo-theme-snippet/layout/_widget/friends.ejs","hash":"26eb71dd79f1e7d222b210ecd3afd2e177e1250e","modified":1535611295676},{"_id":"themes/hexo-theme-snippet/layout/_widget/notification.ejs","hash":"6a0781f4e7fb684a46bc277e59eb5a5f5d6925af","modified":1535611295677},{"_id":"themes/hexo-theme-snippet/layout/_widget/search.ejs","hash":"f94a530179225d88fbc3a7b23ec63e06da30a972","modified":1535611295678},{"_id":"themes/hexo-theme-snippet/layout/_widget/social.ejs","hash":"83be8c71b5b40b79aed50263c28c99282559c23a","modified":1535611295680},{"_id":"themes/hexo-theme-snippet/layout/_widget/stick.ejs","hash":"5077377d40926f3b119e6ecf94679adc5db709b3","modified":1535611295681},{"_id":"themes/hexo-theme-snippet/layout/_widget/tagcloud.ejs","hash":"5d9929f9e771878d473b0b8dc6381c8bb78c9a44","modified":1535611295682},{"_id":"themes/hexo-theme-snippet/source/assets/highlight.pack.js","hash":"b93558f0b97e233132a8ccf7f0275053f2df4628","modified":1535611295700},{"_id":"themes/hexo-theme-snippet/source/css/font-awesome.min.css","hash":"624e4a106f0cf385ff4bd6a65c52cecd84f42ef9","modified":1535611295706},{"_id":"themes/hexo-theme-snippet/source/css/style.css","hash":"2baf1beadd776be59c52b72cbff5eadf96fa6c77","modified":1535611295717},{"_id":"themes/hexo-theme-snippet/source/img/avatar.jpg","hash":"78c9740b65126b394a8523a457dfd2d5fa88b172","modified":1535617937990},{"_id":"themes/hexo-theme-snippet/source/img/avatar1.jpg","hash":"512025710a8c6c938ab636fcb3c9da1c8df0eec0","modified":1535611295738},{"_id":"themes/hexo-theme-snippet/source/img/branding.png","hash":"18bee49d6a4c521ad230047c0b416245e009c2c9","modified":1535611295740},{"_id":"themes/hexo-theme-snippet/source/img/head-img.jpg","hash":"a318d304665c2f410f79e6d2eb1b98119f675b4b","modified":1535611295742},{"_id":"themes/hexo-theme-snippet/source/img/timeline-clock.gif","hash":"e1f3e1061a38e9dcaa26963ab809ba0a70bb8221","modified":1535611295745},{"_id":"themes/hexo-theme-snippet/source/img/timeline-dot.gif","hash":"c85ef87be5b631c009e7c5737d33b61dfe580a4d","modified":1535611295746},{"_id":"themes/hexo-theme-snippet/source/img/timeline.gif","hash":"b7c7aac44e618df19626d882dc46db48a4aa3673","modified":1535611295748},{"_id":"themes/hexo-theme-snippet/source/js/app.js","hash":"ea09fee9577cda06f27a57a7a889e758545b05cb","modified":1535611295750},{"_id":"themes/hexo-theme-snippet/source/js/search.js","hash":"f5d4be173934c38be5b6e8561bdcabe91c6cc2d7","modified":1535611295751},{"_id":"themes/hexo-theme-snippet/source/assets/valine.min.js","hash":"690ec400b4b23456f77e86e217a10a58a0954562","modified":1535611295702},{"_id":"themes/hexo-theme-snippet/source/css/bootstrap.min.css","hash":"224c9f9ad11b495358aa61dbd53e838e9b61015b","modified":1535611295704},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.woff","hash":"28b782240b3e76db824e12c02754a9731a167527","modified":1535611295734},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.woff2","hash":"d6f48cba7d076fb6f2fd6ba993a75b9dc1ecbf0c","modified":1535611295736},{"_id":"themes/hexo-theme-snippet/source/img/loading.gif","hash":"6cea4dc953ac09fb744c7fedc12a1f4736faf8ec","modified":1535611295744},{"_id":"themes/hexo-theme-snippet/.git/objects/pack/pack-fe226d269f5a994b8d1ac80851e6716aa780a92a.idx","hash":"f196cb9074c5bc582fea26fdc12d25287a9fd675","modified":1535611295408},{"_id":"themes/hexo-theme-snippet/.git/refs/heads/master","hash":"9af7ffdce7f7778c96c350ff2ed51ec03dc79991","modified":1535611295581},{"_id":"themes/hexo-theme-snippet/layout/_partial/_head-sections/IE.ejs","hash":"7cdbf6bc632c135925e00d5e27243d94a44c8031","modified":1535611295627},{"_id":"themes/hexo-theme-snippet/layout/_partial/_head-sections/seo.ejs","hash":"1eabe3d23806f659206ee4f5ab51c21818112c07","modified":1535611295629},{"_id":"themes/hexo-theme-snippet/layout/_partial/_head-sections/style.ejs","hash":"8ff2d85b26e0a5b844bfbfbdd55a7cf5628cfc03","modified":1535611295630},{"_id":"themes/hexo-theme-snippet/layout/_partial/_head-sections/title.ejs","hash":"0b55f4dcab22788bb5b9b4f0246264278145a424","modified":1535611295632},{"_id":"themes/hexo-theme-snippet/layout/_vendor/analytics/baidu.ejs","hash":"e616c6d618d2aa34baa0f244de770abcee8b56f4","modified":1535611295652},{"_id":"themes/hexo-theme-snippet/layout/_vendor/analytics/cnzz.ejs","hash":"e12c2cba1b0a9447e7a46b88a1c4d175e65bbf98","modified":1535611295654},{"_id":"themes/hexo-theme-snippet/layout/_vendor/analytics/google.ejs","hash":"1ee0f1fadedc00633b3ab30b93bdeffe22b18afe","modified":1535611295656},{"_id":"themes/hexo-theme-snippet/layout/_vendor/analytics/index.ejs","hash":"68b3680acd34f62b0b4e0017e3d8bab20d4e459f","modified":1535611295657},{"_id":"themes/hexo-theme-snippet/layout/_vendor/analytics/tencent.ejs","hash":"52e4f2541482ae473a750921dfc6bf088fd78b33","modified":1535611295658},{"_id":"themes/hexo-theme-snippet/layout/_vendor/comments/changyan.ejs","hash":"c75ac620d6a336921fa61090d22e5cf0a09019a1","modified":1535611295662},{"_id":"themes/hexo-theme-snippet/layout/_vendor/comments/disqus.ejs","hash":"0713d00c14a9b5f3b6814f5a9ea6cf21142a511c","modified":1535611295663},{"_id":"themes/hexo-theme-snippet/layout/_vendor/comments/gitment.ejs","hash":"61572c2616c319d798024597c2fb8ca470767ca5","modified":1535611295665},{"_id":"themes/hexo-theme-snippet/layout/_vendor/comments/index.ejs","hash":"253e8019dd6ad0dff1fc51640c58869d8efe287e","modified":1535611295666},{"_id":"themes/hexo-theme-snippet/layout/_vendor/comments/livere.ejs","hash":"084108977f3767b961361495216271972b1ada39","modified":1535611295668},{"_id":"themes/hexo-theme-snippet/layout/_vendor/comments/uyan.ejs","hash":"4d5e43c69eb28d2f45bba3c1cee25d773b02f0d0","modified":1535611295669},{"_id":"themes/hexo-theme-snippet/layout/_vendor/comments/valine.ejs","hash":"ab1d025b2e3f236dd7cd0f6d366a251b8b5ef9bd","modified":1535611295670},{"_id":"themes/hexo-theme-snippet/source/css/less/_mixins.less","hash":"74f250b8c287ca5840f4d09a87eb23b69a722a8a","modified":1535611295710},{"_id":"themes/hexo-theme-snippet/source/css/less/_scrollbar.less","hash":"d6ef59cac4da4994e925786edff920628fa4fb14","modified":1535611295711},{"_id":"themes/hexo-theme-snippet/source/css/less/_highlight.less","hash":"62e0505c4c1be54291964cfad26ac838cee04e0c","modified":1535611295708},{"_id":"themes/hexo-theme-snippet/source/css/less/_style.less","hash":"2aed0a46be5fed6492cb26338af167c7957d1d6b","modified":1535611295713},{"_id":"themes/hexo-theme-snippet/source/css/less/_timeline.less","hash":"a1cece09a5fda5f7c84c55871e6faca8a75b654b","modified":1535611295714},{"_id":"themes/hexo-theme-snippet/source/css/less/_variable.less","hash":"dba7274bc9a0baf2fca2bc764bb436b2e3c36eb9","modified":1535611295715},{"_id":"themes/hexo-theme-snippet/source/fonts/FontAwesome.otf","hash":"048707bc52ac4b6563aaa383bfe8660a0ddc908c","modified":1535611295721},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.eot","hash":"d980c2ce873dc43af460d4d572d441304499f400","modified":1535611295725},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.ttf","hash":"13b1eab65a983c7a73bc7997c479d66943f7c6cb","modified":1535611295732},{"_id":"themes/hexo-theme-snippet/.git/logs/refs/heads/master","hash":"7148e10b635ae46ee8662ddbdfe87cc10241d741","modified":1535611295587},{"_id":"themes/hexo-theme-snippet/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1535611295568},{"_id":"themes/hexo-theme-snippet/.git/logs/refs/remotes/origin/HEAD","hash":"7148e10b635ae46ee8662ddbdfe87cc10241d741","modified":1535611295568},{"_id":"themes/hexo-theme-snippet/source/fonts/fontawesome-webfont.svg","hash":"b5483b11f8ba213e733b5b8af9927a04fec996f6","modified":1535611295729},{"_id":"themes/hexo-theme-snippet/.git/objects/pack/pack-fe226d269f5a994b8d1ac80851e6716aa780a92a.pack","hash":"42f4f63f2eee36302050824dccd70f2451712580","modified":1535611295425}],"Category":[{"name":"前端","_id":"cjlgbnz5y0003vwvlll1oyl8s"},{"name":"服务器","_id":"cjlgbnz640007vwvla4e8nh22"},{"name":"后端","_id":"cjlgbnz66000bvwvlut6bltkb"},{"name":"其他","_id":"cjlgbnz69000fvwvlnny63sqs"}],"Data":[],"Page":[],"Post":[{"title":"hexo 常用命令","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n### 列出已安装依赖(局部/全局)\n\n``` bash\n$ npm ls --depth 0 \n$ npm ls --depth 0 -g \n\n```","source":"_posts/hexo 常用命令.md","raw":"---\ntitle: hexo 常用命令\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n### 列出已安装依赖(局部/全局)\n\n``` bash\n$ npm ls --depth 0 \n$ npm ls --depth 0 -g \n\n```","slug":"hexo 常用命令","published":1,"date":"2018-08-29T11:40:00.046Z","updated":"2018-08-30T02:19:01.218Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjlgbnz5n0000vwvlu56niwbn","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n<h3 id=\"列出已安装依赖-局部-全局\"><a href=\"#列出已安装依赖-局部-全局\" class=\"headerlink\" title=\"列出已安装依赖(局部/全局)\"></a>列出已安装依赖(局部/全局)</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm ls --depth 0 </span><br><span class=\"line\">$ npm ls --depth 0 -g</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"noopener\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"noopener\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"noopener\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"noopener\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"noopener\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"noopener\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"noopener\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"noopener\">Deployment</a></p>\n<h3 id=\"列出已安装依赖-局部-全局\"><a href=\"#列出已安装依赖-局部-全局\" class=\"headerlink\" title=\"列出已安装依赖(局部/全局)\"></a>列出已安装依赖(局部/全局)</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ npm ls --depth 0 </span><br><span class=\"line\">$ npm ls --depth 0 -g</span><br></pre></td></tr></table></figure>"},{"title":"动态路由-路由访问权限","date":"2018-08-30T02:42:53.000Z","_content":"\n### 动态路由控制权限 [参考文章](https://blog.csdn.net/qq_34160246/article/details/80322036)\n\n```bash\n\nlogin.vue\n\nlet dR = new Array();\nfor (let i = 0; i < dynamicRouter.length; i++) { //第一层循环遍历动态路由表的每一个路由\n  let aside_list = this.aside_list\n  for (let j = 0; j < aside_list.length; j++) {\n    if (dynamicRouter[i].path === aside_list[j].path && aside_list[j].isShow) {\n      // console.log(dynamicRouter[i])\n      dR.push(dynamicRouter[i]); // 符合条件的路由信息就放进数组里\n      if (!this.xjw) {\n        // this.firstShowPath = dynamicRouter[i]\n        dR.push(dynamicRouter[2]);\n        this.xjw = true\n      }\n    } else if (aside_list[j].path.indexOf('x') && aside_list[j].isShow) {\n      if (!this.first) { // 符合条件的路由的福袋必须访问的路由就放进数组里\n        dR.push(dynamicRouter[0]);\n        dR.push(dynamicRouter[1]);\n        this.first = true\n      }\n    } else if (\n      (aside_list[j].path.indexOf('xx')\n        || aside_list[j].path.indexOf('xxx') || aside_list[j].path.indexOf('xxxx'))\n      && aside_list[j].isShow) {\n      if (!this.second) {\n        dR.push(dynamicRouter[1]);\n        this.second = true\n      }\n    }\n  }\n}\nthis.xjw = null\nthis.first = null\nthis.second = null\n// console.log(dR)\nthis.$router.addRoutes(dR.concat([{ //这里调用addRoutes方法，动态添加符合条件的路由\n  path: '*',\n  redirect: '/404' //所有不匹配路径(*)都重定向到404，为什么写在这里而不放到静态路由表里可以查看“前端路上”的文章\n}]));\n\nthis.$router.push(this.firstShowPath);\n \n\n\nAPP.vue\n\n// 获取登录状态\nif (!isLogin) {\n  return this.$router.push('/login');\n} else {\n  let dR = new Array();\n  for (let i = 0; i < dynamicRouter.length; i++) {\n    let aside_list = this.get_aside_list.aside_list\n    // console.log(dynamicRouter[i])\n    for (let j = 0; j < aside_list.length; j++) {\n      if (dynamicRouter[i].path === aside_list[j].path && aside_list[j].isShow) {\n        // console.log(dynamicRouter[i])\n        dR.push(dynamicRouter[i]); //符合条件的路由信息就放进数组里\n        if (!this.xjw) {\n          dR.push(dynamicRouter[2]);\n          this.xjw = true\n        }\n      } else if (aside_list[j].path.indexOf('x') && aside_list[j].isShow) {\n        if (!this.first) {\n          dR.push(dynamicRouter[0]);\n          dR.push(dynamicRouter[1]);\n          this.first = true\n        }\n      } else if (\n        (aside_list[j].path.indexOf('xx')\n          || aside_list[j].path.indexOf('xxx') || aside_list[j].path.indexOf('xxxx'))\n        && aside_list[j].isShow) {\n        if (!this.second) {\n          dR.push(dynamicRouter[1]);\n          this.second = true\n        }\n      }\n    }\n  }\n  this.xjw = null\n  this.first = null\n  this.second = null\n  // console.log(dR)\n  this.$router.addRoutes(dR);\n  \n```","source":"_posts/动态路由-路由访问权限.md","raw":"---\ntitle: 动态路由-路由访问权限\ndate: 2018-08-30 10:42:53\ncategories: ['前端'] \ntags: 前端\n\n---\n\n### 动态路由控制权限 [参考文章](https://blog.csdn.net/qq_34160246/article/details/80322036)\n\n```bash\n\nlogin.vue\n\nlet dR = new Array();\nfor (let i = 0; i < dynamicRouter.length; i++) { //第一层循环遍历动态路由表的每一个路由\n  let aside_list = this.aside_list\n  for (let j = 0; j < aside_list.length; j++) {\n    if (dynamicRouter[i].path === aside_list[j].path && aside_list[j].isShow) {\n      // console.log(dynamicRouter[i])\n      dR.push(dynamicRouter[i]); // 符合条件的路由信息就放进数组里\n      if (!this.xjw) {\n        // this.firstShowPath = dynamicRouter[i]\n        dR.push(dynamicRouter[2]);\n        this.xjw = true\n      }\n    } else if (aside_list[j].path.indexOf('x') && aside_list[j].isShow) {\n      if (!this.first) { // 符合条件的路由的福袋必须访问的路由就放进数组里\n        dR.push(dynamicRouter[0]);\n        dR.push(dynamicRouter[1]);\n        this.first = true\n      }\n    } else if (\n      (aside_list[j].path.indexOf('xx')\n        || aside_list[j].path.indexOf('xxx') || aside_list[j].path.indexOf('xxxx'))\n      && aside_list[j].isShow) {\n      if (!this.second) {\n        dR.push(dynamicRouter[1]);\n        this.second = true\n      }\n    }\n  }\n}\nthis.xjw = null\nthis.first = null\nthis.second = null\n// console.log(dR)\nthis.$router.addRoutes(dR.concat([{ //这里调用addRoutes方法，动态添加符合条件的路由\n  path: '*',\n  redirect: '/404' //所有不匹配路径(*)都重定向到404，为什么写在这里而不放到静态路由表里可以查看“前端路上”的文章\n}]));\n\nthis.$router.push(this.firstShowPath);\n \n\n\nAPP.vue\n\n// 获取登录状态\nif (!isLogin) {\n  return this.$router.push('/login');\n} else {\n  let dR = new Array();\n  for (let i = 0; i < dynamicRouter.length; i++) {\n    let aside_list = this.get_aside_list.aside_list\n    // console.log(dynamicRouter[i])\n    for (let j = 0; j < aside_list.length; j++) {\n      if (dynamicRouter[i].path === aside_list[j].path && aside_list[j].isShow) {\n        // console.log(dynamicRouter[i])\n        dR.push(dynamicRouter[i]); //符合条件的路由信息就放进数组里\n        if (!this.xjw) {\n          dR.push(dynamicRouter[2]);\n          this.xjw = true\n        }\n      } else if (aside_list[j].path.indexOf('x') && aside_list[j].isShow) {\n        if (!this.first) {\n          dR.push(dynamicRouter[0]);\n          dR.push(dynamicRouter[1]);\n          this.first = true\n        }\n      } else if (\n        (aside_list[j].path.indexOf('xx')\n          || aside_list[j].path.indexOf('xxx') || aside_list[j].path.indexOf('xxxx'))\n        && aside_list[j].isShow) {\n        if (!this.second) {\n          dR.push(dynamicRouter[1]);\n          this.second = true\n        }\n      }\n    }\n  }\n  this.xjw = null\n  this.first = null\n  this.second = null\n  // console.log(dR)\n  this.$router.addRoutes(dR);\n  \n```","slug":"动态路由-路由访问权限","published":1,"updated":"2018-08-30T07:55:03.388Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cjlgbnz5v0001vwvlunrflv9b","content":"<h3 id=\"动态路由控制权限-参考文章\"><a href=\"#动态路由控制权限-参考文章\" class=\"headerlink\" title=\"动态路由控制权限 参考文章\"></a>动态路由控制权限 <a href=\"https://blog.csdn.net/qq_34160246/article/details/80322036\" target=\"_blank\" rel=\"noopener\">参考文章</a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">login.vue</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">let</span> dR = new Array();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> i = 0; i &lt; dynamicRouter.length; i++) &#123; //第一层循环遍历动态路由表的每一个路由</span><br><span class=\"line\">  <span class=\"built_in\">let</span> aside_list = this.aside_list</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> j = 0; j &lt; aside_list.length; j++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dynamicRouter[i].path === aside_list[j].path &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">      // console.log(dynamicRouter[i])</span><br><span class=\"line\">      dR.push(dynamicRouter[i]); // 符合条件的路由信息就放进数组里</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!this.xjw) &#123;</span><br><span class=\"line\">        // this.firstShowPath = dynamicRouter[i]</span><br><span class=\"line\">        dR.push(dynamicRouter[2]);</span><br><span class=\"line\">        this.xjw = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (aside_list[j].path.indexOf(<span class=\"string\">'x'</span>) &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!this.first) &#123; // 符合条件的路由的福袋必须访问的路由就放进数组里</span><br><span class=\"line\">        dR.push(dynamicRouter[0]);</span><br><span class=\"line\">        dR.push(dynamicRouter[1]);</span><br><span class=\"line\">        this.first = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      (aside_list[j].path.indexOf(<span class=\"string\">'xx'</span>)</span><br><span class=\"line\">        || aside_list[j].path.indexOf(<span class=\"string\">'xxx'</span>) || aside_list[j].path.indexOf(<span class=\"string\">'xxxx'</span>))</span><br><span class=\"line\">      &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!this.second) &#123;</span><br><span class=\"line\">        dR.push(dynamicRouter[1]);</span><br><span class=\"line\">        this.second = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">this.xjw = null</span><br><span class=\"line\">this.first = null</span><br><span class=\"line\">this.second = null</span><br><span class=\"line\">// console.log(dR)</span><br><span class=\"line\">this.<span class=\"variable\">$router</span>.addRoutes(dR.concat([&#123; //这里调用addRoutes方法，动态添加符合条件的路由</span><br><span class=\"line\">  path: <span class=\"string\">'*'</span>,</span><br><span class=\"line\">  redirect: <span class=\"string\">'/404'</span> //所有不匹配路径(*)都重定向到404，为什么写在这里而不放到静态路由表里可以查看“前端路上”的文章</span><br><span class=\"line\">&#125;]));</span><br><span class=\"line\"></span><br><span class=\"line\">this.<span class=\"variable\">$router</span>.push(this.firstShowPath);</span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">APP.vue</span><br><span class=\"line\"></span><br><span class=\"line\">// 获取登录状态</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!isLogin) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">return</span> this.<span class=\"variable\">$router</span>.push(<span class=\"string\">'/login'</span>);</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">let</span> dR = new Array();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> i = 0; i &lt; dynamicRouter.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">let</span> aside_list = this.get_aside_list.aside_list</span><br><span class=\"line\">    // console.log(dynamicRouter[i])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> j = 0; j &lt; aside_list.length; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (dynamicRouter[i].path === aside_list[j].path &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">        // console.log(dynamicRouter[i])</span><br><span class=\"line\">        dR.push(dynamicRouter[i]); //符合条件的路由信息就放进数组里</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!this.xjw) &#123;</span><br><span class=\"line\">          dR.push(dynamicRouter[2]);</span><br><span class=\"line\">          this.xjw = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (aside_list[j].path.indexOf(<span class=\"string\">'x'</span>) &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!this.first) &#123;</span><br><span class=\"line\">          dR.push(dynamicRouter[0]);</span><br><span class=\"line\">          dR.push(dynamicRouter[1]);</span><br><span class=\"line\">          this.first = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        (aside_list[j].path.indexOf(<span class=\"string\">'xx'</span>)</span><br><span class=\"line\">          || aside_list[j].path.indexOf(<span class=\"string\">'xxx'</span>) || aside_list[j].path.indexOf(<span class=\"string\">'xxxx'</span>))</span><br><span class=\"line\">        &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!this.second) &#123;</span><br><span class=\"line\">          dR.push(dynamicRouter[1]);</span><br><span class=\"line\">          this.second = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  this.xjw = null</span><br><span class=\"line\">  this.first = null</span><br><span class=\"line\">  this.second = null</span><br><span class=\"line\">  // console.log(dR)</span><br><span class=\"line\">  this.<span class=\"variable\">$router</span>.addRoutes(dR);</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"动态路由控制权限-参考文章\"><a href=\"#动态路由控制权限-参考文章\" class=\"headerlink\" title=\"动态路由控制权限 参考文章\"></a>动态路由控制权限 <a href=\"https://blog.csdn.net/qq_34160246/article/details/80322036\" target=\"_blank\" rel=\"noopener\">参考文章</a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\">login.vue</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">let</span> dR = new Array();</span><br><span class=\"line\"><span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> i = 0; i &lt; dynamicRouter.length; i++) &#123; //第一层循环遍历动态路由表的每一个路由</span><br><span class=\"line\">  <span class=\"built_in\">let</span> aside_list = this.aside_list</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> j = 0; j &lt; aside_list.length; j++) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (dynamicRouter[i].path === aside_list[j].path &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">      // console.log(dynamicRouter[i])</span><br><span class=\"line\">      dR.push(dynamicRouter[i]); // 符合条件的路由信息就放进数组里</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!this.xjw) &#123;</span><br><span class=\"line\">        // this.firstShowPath = dynamicRouter[i]</span><br><span class=\"line\">        dR.push(dynamicRouter[2]);</span><br><span class=\"line\">        this.xjw = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (aside_list[j].path.indexOf(<span class=\"string\">'x'</span>) &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!this.first) &#123; // 符合条件的路由的福袋必须访问的路由就放进数组里</span><br><span class=\"line\">        dR.push(dynamicRouter[0]);</span><br><span class=\"line\">        dR.push(dynamicRouter[1]);</span><br><span class=\"line\">        this.first = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (</span><br><span class=\"line\">      (aside_list[j].path.indexOf(<span class=\"string\">'xx'</span>)</span><br><span class=\"line\">        || aside_list[j].path.indexOf(<span class=\"string\">'xxx'</span>) || aside_list[j].path.indexOf(<span class=\"string\">'xxxx'</span>))</span><br><span class=\"line\">      &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (!this.second) &#123;</span><br><span class=\"line\">        dR.push(dynamicRouter[1]);</span><br><span class=\"line\">        this.second = <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">this.xjw = null</span><br><span class=\"line\">this.first = null</span><br><span class=\"line\">this.second = null</span><br><span class=\"line\">// console.log(dR)</span><br><span class=\"line\">this.<span class=\"variable\">$router</span>.addRoutes(dR.concat([&#123; //这里调用addRoutes方法，动态添加符合条件的路由</span><br><span class=\"line\">  path: <span class=\"string\">'*'</span>,</span><br><span class=\"line\">  redirect: <span class=\"string\">'/404'</span> //所有不匹配路径(*)都重定向到404，为什么写在这里而不放到静态路由表里可以查看“前端路上”的文章</span><br><span class=\"line\">&#125;]));</span><br><span class=\"line\"></span><br><span class=\"line\">this.<span class=\"variable\">$router</span>.push(this.firstShowPath);</span><br><span class=\"line\"> </span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">APP.vue</span><br><span class=\"line\"></span><br><span class=\"line\">// 获取登录状态</span><br><span class=\"line\"><span class=\"keyword\">if</span> (!isLogin) &#123;</span><br><span class=\"line\">  <span class=\"built_in\">return</span> this.<span class=\"variable\">$router</span>.push(<span class=\"string\">'/login'</span>);</span><br><span class=\"line\">&#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">  <span class=\"built_in\">let</span> dR = new Array();</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> i = 0; i &lt; dynamicRouter.length; i++) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">let</span> aside_list = this.get_aside_list.aside_list</span><br><span class=\"line\">    // console.log(dynamicRouter[i])</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"built_in\">let</span> j = 0; j &lt; aside_list.length; j++) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (dynamicRouter[i].path === aside_list[j].path &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">        // console.log(dynamicRouter[i])</span><br><span class=\"line\">        dR.push(dynamicRouter[i]); //符合条件的路由信息就放进数组里</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!this.xjw) &#123;</span><br><span class=\"line\">          dR.push(dynamicRouter[2]);</span><br><span class=\"line\">          this.xjw = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (aside_list[j].path.indexOf(<span class=\"string\">'x'</span>) &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!this.first) &#123;</span><br><span class=\"line\">          dR.push(dynamicRouter[0]);</span><br><span class=\"line\">          dR.push(dynamicRouter[1]);</span><br><span class=\"line\">          this.first = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (</span><br><span class=\"line\">        (aside_list[j].path.indexOf(<span class=\"string\">'xx'</span>)</span><br><span class=\"line\">          || aside_list[j].path.indexOf(<span class=\"string\">'xxx'</span>) || aside_list[j].path.indexOf(<span class=\"string\">'xxxx'</span>))</span><br><span class=\"line\">        &amp;&amp; aside_list[j].isShow) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!this.second) &#123;</span><br><span class=\"line\">          dR.push(dynamicRouter[1]);</span><br><span class=\"line\">          this.second = <span class=\"literal\">true</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  this.xjw = null</span><br><span class=\"line\">  this.first = null</span><br><span class=\"line\">  this.second = null</span><br><span class=\"line\">  // console.log(dR)</span><br><span class=\"line\">  this.<span class=\"variable\">$router</span>.addRoutes(dR);</span><br></pre></td></tr></table></figure>"},{"title":"删除服务器乱码文件/目录","date":"2018-08-30T02:20:58.000Z","comments":1,"_content":"\n## 方法一\n\n### 1.使用 `ls -li` 命令得到乱码文件的 inode 值\n\n``` bash\n$ ls -li\n```\n### 2.使用 `find . -inum 24609 -exec rm {} -rf \\;` 命令删除乱码文件.其中24609替换为乱码文件的inode值. 注意空格 中英文符号\\;等\n\n``` bash\n$ find . -inum 24609 -exec rm {} -rf \\;\n```\n\n\n## 方法二\n\n### 1.使用`rm -rf` 删除上一级目录，当然前提是需要备份你需要备份的数据.\n\n``` bash\n一种思路：\n\n1. 比如/home下文件夹内含有乱码的文件\n\n2. mkdir tmp\n\n3. 将所有的文件首先移动到 mv * tmp/\n\n4.到tmp下 把所有有正常的显示字符的文件移动出来\n\ncd tmp ;\n\nmv [a-zA-Z0-9]* ..\n\n5.现在可以 rm -rf tmp 了\n\n```\n","source":"_posts/删除服务器乱码文件.md","raw":"---\ntitle: 删除服务器乱码文件/目录\ndate: 2018-08-30 10:20:58\ncategories: ['服务器'] \ntags: 服务器\ncomments: true\n---\n\n## 方法一\n\n### 1.使用 `ls -li` 命令得到乱码文件的 inode 值\n\n``` bash\n$ ls -li\n```\n### 2.使用 `find . -inum 24609 -exec rm {} -rf \\;` 命令删除乱码文件.其中24609替换为乱码文件的inode值. 注意空格 中英文符号\\;等\n\n``` bash\n$ find . -inum 24609 -exec rm {} -rf \\;\n```\n\n\n## 方法二\n\n### 1.使用`rm -rf` 删除上一级目录，当然前提是需要备份你需要备份的数据.\n\n``` bash\n一种思路：\n\n1. 比如/home下文件夹内含有乱码的文件\n\n2. mkdir tmp\n\n3. 将所有的文件首先移动到 mv * tmp/\n\n4.到tmp下 把所有有正常的显示字符的文件移动出来\n\ncd tmp ;\n\nmv [a-zA-Z0-9]* ..\n\n5.现在可以 rm -rf tmp 了\n\n```\n","slug":"删除服务器乱码文件","published":1,"updated":"2018-08-30T07:54:43.765Z","layout":"post","photos":[],"link":"","_id":"cjlgbnz5x0002vwvlc6zhnwz2","content":"<h2 id=\"方法一\"><a href=\"#方法一\" class=\"headerlink\" title=\"方法一\"></a>方法一</h2><h3 id=\"1-使用-ls-li-命令得到乱码文件的-inode-值\"><a href=\"#1-使用-ls-li-命令得到乱码文件的-inode-值\" class=\"headerlink\" title=\"1.使用 ls -li 命令得到乱码文件的 inode 值\"></a>1.使用 <code>ls -li</code> 命令得到乱码文件的 inode 值</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls -li</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-使用-find-inum-24609-exec-rm-rf-命令删除乱码文件-其中24609替换为乱码文件的inode值-注意空格-中英文符号-等\"><a href=\"#2-使用-find-inum-24609-exec-rm-rf-命令删除乱码文件-其中24609替换为乱码文件的inode值-注意空格-中英文符号-等\" class=\"headerlink\" title=\"2.使用 find . -inum 24609 -exec rm {} -rf \\; 命令删除乱码文件.其中24609替换为乱码文件的inode值. 注意空格 中英文符号\\;等\"></a>2.使用 <code>find . -inum 24609 -exec rm {} -rf \\;</code> 命令删除乱码文件.其中24609替换为乱码文件的inode值. 注意空格 中英文符号\\;等</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ find . -inum 24609 -<span class=\"built_in\">exec</span> rm &#123;&#125; -rf \\;</span><br></pre></td></tr></table></figure>\n<h2 id=\"方法二\"><a href=\"#方法二\" class=\"headerlink\" title=\"方法二\"></a>方法二</h2><h3 id=\"1-使用rm-rf-删除上一级目录，当然前提是需要备份你需要备份的数据\"><a href=\"#1-使用rm-rf-删除上一级目录，当然前提是需要备份你需要备份的数据\" class=\"headerlink\" title=\"1.使用rm -rf 删除上一级目录，当然前提是需要备份你需要备份的数据.\"></a>1.使用<code>rm -rf</code> 删除上一级目录，当然前提是需要备份你需要备份的数据.</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">一种思路：</span><br><span class=\"line\"></span><br><span class=\"line\">1. 比如/home下文件夹内含有乱码的文件</span><br><span class=\"line\"></span><br><span class=\"line\">2. mkdir tmp</span><br><span class=\"line\"></span><br><span class=\"line\">3. 将所有的文件首先移动到 mv * tmp/</span><br><span class=\"line\"></span><br><span class=\"line\">4.到tmp下 把所有有正常的显示字符的文件移动出来</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> tmp ;</span><br><span class=\"line\"></span><br><span class=\"line\">mv [a-zA-Z0-9]* ..</span><br><span class=\"line\"></span><br><span class=\"line\">5.现在可以 rm -rf tmp 了</span><br></pre></td></tr></table></figure>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"方法一\"><a href=\"#方法一\" class=\"headerlink\" title=\"方法一\"></a>方法一</h2><h3 id=\"1-使用-ls-li-命令得到乱码文件的-inode-值\"><a href=\"#1-使用-ls-li-命令得到乱码文件的-inode-值\" class=\"headerlink\" title=\"1.使用 ls -li 命令得到乱码文件的 inode 值\"></a>1.使用 <code>ls -li</code> 命令得到乱码文件的 inode 值</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ ls -li</span><br></pre></td></tr></table></figure>\n<h3 id=\"2-使用-find-inum-24609-exec-rm-rf-命令删除乱码文件-其中24609替换为乱码文件的inode值-注意空格-中英文符号-等\"><a href=\"#2-使用-find-inum-24609-exec-rm-rf-命令删除乱码文件-其中24609替换为乱码文件的inode值-注意空格-中英文符号-等\" class=\"headerlink\" title=\"2.使用 find . -inum 24609 -exec rm {} -rf \\; 命令删除乱码文件.其中24609替换为乱码文件的inode值. 注意空格 中英文符号\\;等\"></a>2.使用 <code>find . -inum 24609 -exec rm {} -rf \\;</code> 命令删除乱码文件.其中24609替换为乱码文件的inode值. 注意空格 中英文符号\\;等</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ find . -inum 24609 -<span class=\"built_in\">exec</span> rm &#123;&#125; -rf \\;</span><br></pre></td></tr></table></figure>\n<h2 id=\"方法二\"><a href=\"#方法二\" class=\"headerlink\" title=\"方法二\"></a>方法二</h2><h3 id=\"1-使用rm-rf-删除上一级目录，当然前提是需要备份你需要备份的数据\"><a href=\"#1-使用rm-rf-删除上一级目录，当然前提是需要备份你需要备份的数据\" class=\"headerlink\" title=\"1.使用rm -rf 删除上一级目录，当然前提是需要备份你需要备份的数据.\"></a>1.使用<code>rm -rf</code> 删除上一级目录，当然前提是需要备份你需要备份的数据.</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">一种思路：</span><br><span class=\"line\"></span><br><span class=\"line\">1. 比如/home下文件夹内含有乱码的文件</span><br><span class=\"line\"></span><br><span class=\"line\">2. mkdir tmp</span><br><span class=\"line\"></span><br><span class=\"line\">3. 将所有的文件首先移动到 mv * tmp/</span><br><span class=\"line\"></span><br><span class=\"line\">4.到tmp下 把所有有正常的显示字符的文件移动出来</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> tmp ;</span><br><span class=\"line\"></span><br><span class=\"line\">mv [a-zA-Z0-9]* ..</span><br><span class=\"line\"></span><br><span class=\"line\">5.现在可以 rm -rf tmp 了</span><br></pre></td></tr></table></figure>\n"},{"title":"文件管理php","date":"2018-08-30T01:27:59.000Z","comments":1,"_content":"### 有些代码不是自己写的 所以格式不太同\n```\n<?php\nfunction fileAdir($dir) {\n\tif (!is_dir($dir)){\n\t\tmkdir($dir);\n\t\tchmod($dir,0777); \n\t\t$data = scandir(\"$dir\");    \n\t\t$allFile = array();        \n\t\tforeach ($data as $file) {\n\t\t\tif($file != '.' && $file != '..') {    //判断是否是文件夹内的文件夹\n\t\t\t\t$a = array(\n\t\t\t\t\t'file'=>$file,\n\t\t\t\t\t'isDir'=>is_dir($dir. '/' .$file),\n\t\t\t\t\t'name'=>$dir . '/' .$file\n\t\t\t\t);\n\t\t\t\tarray_push($allFile, $a);\n\t\t\t}\n\t\t}\n\t\treturn $allFile;\n\t} else{\n\t\t$data = scandir(\"$dir\"); \n\t\t$allFile = array();      \n\t\tforeach ($data as $file) {\n\t\t\tif($file != '.' && $file != '..') {    //判断是否是文件夹内的文件夹\n\t\t\t\t$a = array(\n\t\t\t\t\t'file'=>$file,\n\t\t\t\t\t'isDir'=>is_dir($dir. '/' .$file),\n\t\t\t\t\t'name'=>$dir . '/' .$file\n\t\t\t\t);\n\t\t\t\tarray_push($allFile, $a);\n\t\t\t}\n\t\t}\n\t\treturn $allFile;\n\t}\n}\n/**  读取文件类  **/\nclass file {\n    public $file;\n    public $filename;  //文件名字\n    public $filetype;  //文件类型\n    public $filesize;  //文件大小\n    public $fileopen;  //打开文件\n    public $fileread;  //读取文件\n\n    //写入变量\n    public $filepath;\n    public $filecontent;   //保存文件用到的文件内容\n    public $fileput;       //文件写入\n\tpublic function edits($files){\n        $this->file = $files;\n        if(!file_exists($this->file)){\n            die(\"文件不存在！\");\n        }\n        $this->fileopen = fopen($this->file, 'r');\n        if(!$this->fileopen){\n            die(\"文件读取失败\");\n        }\n        //$this->fileread = htmlspecialchars($this->fileread);\n        //开始获取文件的后缀名\n        $filestr = strlen($this->file);\n        $filepoint = strrpos($this->file, '.');\n        $filesub = substr($this->file, $filepoint+1);\n        $this->filetype = $filesub;\n        $this->filename = basename($this->file);\n\t\t\n\t\t$this->filesize = filesize($this->file);\n\t\tif($this->filesize===0){\n\t\t\t\treturn array(\n\t\t\t\t'filetype'=>$this->filetype,\n\t\t\t\t'filename'=>$this->filename,\n\t\t\t\t'filecontent'=>'',\n\t\t\t\t'filepath'=>$this->file\n\t\t\t);\n\t\t\texit;\n\t\t}\n        $this->fileread = fread($this->fileopen,$this->filesize);\n\t\t// 读取中文\n\t\t//$this->fileread =iconv('gb2312', 'utf-8', $this->fileread); \n        //以数组形式返回：文件类型 文件名称 文件内容 文件路径\n        return array(\n            'filetype'=>$this->filetype,\n            'filename'=>$this->filename,\n            'filecontent'=>$this->fileread,\n            'filepath'=>$this->file\n        );\n        //关闭文件\n        fclose($this->file);\n    }\n    /* 修改文件函数 */\n    public function bc($filepath,$filecontent){\n        $this->filepath = $filepath;\n        //访问文件\n        $this->fileopen = file_get_contents($this->filepath);\n        if(!$this->fileopen){\n            //die('文件打开失败');\n        }\n        //获取传进来的文件内容\n        $this->filecontent = $filecontent;\n        //反转义html\n        //$this->filecontent = htmlspecialchars_decode($this->filecontent);\n        //写入文件\n        $this->fileput = file_put_contents($this->filepath, $this->filecontent);\n        if($this->fileput){\n            return '修改文件成功';\n        }else {\n            return '修改文件失败';\n        }\n    }\n\t// 创建文件夹\n\tpublic function create_folder($dir) {\n        if (!file_exists($dir)){\n            //mkdir($dir,0777,true);\n            mkdir($dir);\n\t\t\tchmod($dir,0777); \n            return '创建文件夹成功';\n        } else {\n\t\t\treturn '创建文件夹已存在';\n        }\n    }\n\t// 创建文件\n\tpublic function create_file($dir) {\n        if (!file_exists($dir)){\n            $handle = fopen($dir, 'w');\n\t\t\tchmod($dir,0777); \n\t\t\tif($handle){\n\t\t\t\treturn '创建文件成功';\n\t\t\t} else{\n\t\t\t\treturn '创建文件失败';\n\t\t\t}  \n        } else {\n            return '需创建的文件已经存在';\n        }\n    }\n\t// 重命名文件/文件夹\n\tpublic function fileRename($old_name,$new_name) {\n        if(!file_exists($new_name)||file_exists($old_name)){\n\t\t\t$result = rename($old_name,$new_name);\n\t\t\tif($result){\n\t\t\t\treturn\t'重命名成功';\n\t\t\t} else{\n\t\t\t\treturn\t'重命名失败';\n\t\t\t}\n        } else {\n\t\t\treturn '目标文件已存在或原文件不存在';\n        }\n    }\n\t// 复制文件夹及文件夹下文件\n\tpublic function copyDirAndFile($src,$dst) {  // 原目录，复制到的目录\n\t\tif(file_exists($src)){\n\t\t\t$dir = opendir($src);\n\t\t\t@mkdir($dst);\n\t\t\tchmod($dst,0777); \n\t\t\twhile(false !== ($file = readdir($dir))) {\n\t\t\t\tif (( $file != '.' ) && ( $file != '..' )) {\n\t\t\t\t\tif (is_dir($src . '/' . $file)) {\n\t\t\t\t\t\t$this->copyDirAndFile($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcopy($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tclosedir($dir);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t// 删除文件夹及文件夹下文件\n\tpublic function delDirAndFile($dirName){\n\t\tif(file_exists($dirName)){\n\t\t\tif ($handle = opendir(\"$dirName\" )) {\n\t\t\t   while (false !== ($item=readdir($handle))) {\n\t\t\t\t   if ($item != \".\" && $item != \"..\") {\n\t\t\t\t\t   if (is_dir( \"$dirName/$item\")) {\n\t\t\t\t\t\t\t$this->delDirAndFile( \"$dirName/$item\" );\n\t\t\t\t\t   } else {\n\t\t\t\t\t\t\tif(unlink( \"$dirName/$item\" )){\n\t\t\t\t\t\t\t\t// echo \"成功删除文件： $dirName/$item\\n\";\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t   }\n\t\t\t\t   }\n\t\t\t   }\n\t\t\t   closedir( $handle );\n\t\t\t   if(rmdir( $dirName )) {\n\t\t\t\t   // echo \"成功删除目录： $dirName\\n\";\n\t\t\t   }\n\t\t\t}\n\t\t\treturn true;\n\t\t} else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// 剪切文件夹及文件夹下文件\n\tpublic function cutDirAndFile($src,$dst) {  // 原目录，复制到的目录\n\t\tif(file_exists($src)){\n\t\t\t$dir = opendir($src);\n\t\t\t@mkdir($dst);\n\t\t\tchmod($dst,0777); \n\t\t\twhile(false !== ($file = readdir($dir))) {\n\t\t\t\tif (( $file != '.' ) && ( $file != '..' )) {\n\t\t\t\t\tif (is_dir($src . '/' . $file)) {\n\t\t\t\t\t\t$this->copyDirAndFile($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcopy($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777); \n\t\t\t\t\t\t//unlink($src . '/' . $file);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t$file = new file();\n\t\t\t$delete = $file->delDirAndFile($src);\n\t\t\tif(!$delete){\n\t\t\t\treturn '文件夹删除失败';\n\t\t\t}\n\t\t\t$file = null;\n\t\t\tclosedir($dir);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// 复制单个文件\n\tpublic function fileCopy($source_name,$target_name) {\n        if(!file_exists($target_name)||file_exists($source_name)){\n\t\t\t//return copy($source_name,$target_name)?true:false;\n\t\t\t$result = copy($source_name,$target_name);\n\t\t\tchmod($target_name,0777); \n\t\t\treturn $result;\n\t\t\tif($result){\n\t\t\t\treturn '复制文件成功';\n\t\t\t} else {\n\t\t\t\treturn '复制文件失败';\n\t\t\t}\n        } else {\n            return '目标文件已经存在或者原始文件不存在';\n        }\n    }\n\t// 删除单个文件\n\tpublic function fileDelete($del_name) {\n        if(file_exists($del_name)){\n\t\t\t$result = unlink($del_name);\n\t\t\tif($result){\n\t\t\t\treturn '删除文件成功';\n\t\t\t} else {\n\t\t\t\treturn '删除文件失败';\n\t\t\t}\n        } else {\n            return '要删除的文件不存在';\n        }\n    }\n\t// 剪切单个文件\n\tpublic function fileCut($source_name,$target_name) {\n        if(!file_exists($target_name)||file_exists($source_name)){\n\t\t\t//return copy($source_name,$target_name)?true:false;\n\t\t\t$result = copy($source_name,$target_name);\n\t\t\tchmod($target_name,0777); \n\t\t\tunlink($source_name);\n\t\t\tif($result){\n\t\t\t\treturn '剪切文件成功';\n\t\t\t} else {\n\t\t\t\treturn '剪切文件失败';\n\t\t\t}\n        } else {\n            return '目标文件已经存在或者原始文件不存在';\n        }\n    }\n}\n?>\n```","source":"_posts/文件管理php.md","raw":"---\ntitle: 文件管理php\ndate: 2018-08-30 09:27:59\ncategories: ['后端'] \ntags: 后端\ncomments: true\n---\n### 有些代码不是自己写的 所以格式不太同\n```\n<?php\nfunction fileAdir($dir) {\n\tif (!is_dir($dir)){\n\t\tmkdir($dir);\n\t\tchmod($dir,0777); \n\t\t$data = scandir(\"$dir\");    \n\t\t$allFile = array();        \n\t\tforeach ($data as $file) {\n\t\t\tif($file != '.' && $file != '..') {    //判断是否是文件夹内的文件夹\n\t\t\t\t$a = array(\n\t\t\t\t\t'file'=>$file,\n\t\t\t\t\t'isDir'=>is_dir($dir. '/' .$file),\n\t\t\t\t\t'name'=>$dir . '/' .$file\n\t\t\t\t);\n\t\t\t\tarray_push($allFile, $a);\n\t\t\t}\n\t\t}\n\t\treturn $allFile;\n\t} else{\n\t\t$data = scandir(\"$dir\"); \n\t\t$allFile = array();      \n\t\tforeach ($data as $file) {\n\t\t\tif($file != '.' && $file != '..') {    //判断是否是文件夹内的文件夹\n\t\t\t\t$a = array(\n\t\t\t\t\t'file'=>$file,\n\t\t\t\t\t'isDir'=>is_dir($dir. '/' .$file),\n\t\t\t\t\t'name'=>$dir . '/' .$file\n\t\t\t\t);\n\t\t\t\tarray_push($allFile, $a);\n\t\t\t}\n\t\t}\n\t\treturn $allFile;\n\t}\n}\n/**  读取文件类  **/\nclass file {\n    public $file;\n    public $filename;  //文件名字\n    public $filetype;  //文件类型\n    public $filesize;  //文件大小\n    public $fileopen;  //打开文件\n    public $fileread;  //读取文件\n\n    //写入变量\n    public $filepath;\n    public $filecontent;   //保存文件用到的文件内容\n    public $fileput;       //文件写入\n\tpublic function edits($files){\n        $this->file = $files;\n        if(!file_exists($this->file)){\n            die(\"文件不存在！\");\n        }\n        $this->fileopen = fopen($this->file, 'r');\n        if(!$this->fileopen){\n            die(\"文件读取失败\");\n        }\n        //$this->fileread = htmlspecialchars($this->fileread);\n        //开始获取文件的后缀名\n        $filestr = strlen($this->file);\n        $filepoint = strrpos($this->file, '.');\n        $filesub = substr($this->file, $filepoint+1);\n        $this->filetype = $filesub;\n        $this->filename = basename($this->file);\n\t\t\n\t\t$this->filesize = filesize($this->file);\n\t\tif($this->filesize===0){\n\t\t\t\treturn array(\n\t\t\t\t'filetype'=>$this->filetype,\n\t\t\t\t'filename'=>$this->filename,\n\t\t\t\t'filecontent'=>'',\n\t\t\t\t'filepath'=>$this->file\n\t\t\t);\n\t\t\texit;\n\t\t}\n        $this->fileread = fread($this->fileopen,$this->filesize);\n\t\t// 读取中文\n\t\t//$this->fileread =iconv('gb2312', 'utf-8', $this->fileread); \n        //以数组形式返回：文件类型 文件名称 文件内容 文件路径\n        return array(\n            'filetype'=>$this->filetype,\n            'filename'=>$this->filename,\n            'filecontent'=>$this->fileread,\n            'filepath'=>$this->file\n        );\n        //关闭文件\n        fclose($this->file);\n    }\n    /* 修改文件函数 */\n    public function bc($filepath,$filecontent){\n        $this->filepath = $filepath;\n        //访问文件\n        $this->fileopen = file_get_contents($this->filepath);\n        if(!$this->fileopen){\n            //die('文件打开失败');\n        }\n        //获取传进来的文件内容\n        $this->filecontent = $filecontent;\n        //反转义html\n        //$this->filecontent = htmlspecialchars_decode($this->filecontent);\n        //写入文件\n        $this->fileput = file_put_contents($this->filepath, $this->filecontent);\n        if($this->fileput){\n            return '修改文件成功';\n        }else {\n            return '修改文件失败';\n        }\n    }\n\t// 创建文件夹\n\tpublic function create_folder($dir) {\n        if (!file_exists($dir)){\n            //mkdir($dir,0777,true);\n            mkdir($dir);\n\t\t\tchmod($dir,0777); \n            return '创建文件夹成功';\n        } else {\n\t\t\treturn '创建文件夹已存在';\n        }\n    }\n\t// 创建文件\n\tpublic function create_file($dir) {\n        if (!file_exists($dir)){\n            $handle = fopen($dir, 'w');\n\t\t\tchmod($dir,0777); \n\t\t\tif($handle){\n\t\t\t\treturn '创建文件成功';\n\t\t\t} else{\n\t\t\t\treturn '创建文件失败';\n\t\t\t}  \n        } else {\n            return '需创建的文件已经存在';\n        }\n    }\n\t// 重命名文件/文件夹\n\tpublic function fileRename($old_name,$new_name) {\n        if(!file_exists($new_name)||file_exists($old_name)){\n\t\t\t$result = rename($old_name,$new_name);\n\t\t\tif($result){\n\t\t\t\treturn\t'重命名成功';\n\t\t\t} else{\n\t\t\t\treturn\t'重命名失败';\n\t\t\t}\n        } else {\n\t\t\treturn '目标文件已存在或原文件不存在';\n        }\n    }\n\t// 复制文件夹及文件夹下文件\n\tpublic function copyDirAndFile($src,$dst) {  // 原目录，复制到的目录\n\t\tif(file_exists($src)){\n\t\t\t$dir = opendir($src);\n\t\t\t@mkdir($dst);\n\t\t\tchmod($dst,0777); \n\t\t\twhile(false !== ($file = readdir($dir))) {\n\t\t\t\tif (( $file != '.' ) && ( $file != '..' )) {\n\t\t\t\t\tif (is_dir($src . '/' . $file)) {\n\t\t\t\t\t\t$this->copyDirAndFile($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcopy($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tclosedir($dir);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\t\n\t// 删除文件夹及文件夹下文件\n\tpublic function delDirAndFile($dirName){\n\t\tif(file_exists($dirName)){\n\t\t\tif ($handle = opendir(\"$dirName\" )) {\n\t\t\t   while (false !== ($item=readdir($handle))) {\n\t\t\t\t   if ($item != \".\" && $item != \"..\") {\n\t\t\t\t\t   if (is_dir( \"$dirName/$item\")) {\n\t\t\t\t\t\t\t$this->delDirAndFile( \"$dirName/$item\" );\n\t\t\t\t\t   } else {\n\t\t\t\t\t\t\tif(unlink( \"$dirName/$item\" )){\n\t\t\t\t\t\t\t\t// echo \"成功删除文件： $dirName/$item\\n\";\n\t\t\t\t\t\t\t}\t\n\t\t\t\t\t   }\n\t\t\t\t   }\n\t\t\t   }\n\t\t\t   closedir( $handle );\n\t\t\t   if(rmdir( $dirName )) {\n\t\t\t\t   // echo \"成功删除目录： $dirName\\n\";\n\t\t\t   }\n\t\t\t}\n\t\t\treturn true;\n\t\t} else{\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// 剪切文件夹及文件夹下文件\n\tpublic function cutDirAndFile($src,$dst) {  // 原目录，复制到的目录\n\t\tif(file_exists($src)){\n\t\t\t$dir = opendir($src);\n\t\t\t@mkdir($dst);\n\t\t\tchmod($dst,0777); \n\t\t\twhile(false !== ($file = readdir($dir))) {\n\t\t\t\tif (( $file != '.' ) && ( $file != '..' )) {\n\t\t\t\t\tif (is_dir($src . '/' . $file)) {\n\t\t\t\t\t\t$this->copyDirAndFile($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcopy($src . '/' . $file,$dst . '/' . $file);\n\t\t\t\t\t\tchmod($dst . '/' . $file,0777); \n\t\t\t\t\t\t//unlink($src . '/' . $file);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t$file = new file();\n\t\t\t$delete = $file->delDirAndFile($src);\n\t\t\tif(!$delete){\n\t\t\t\treturn '文件夹删除失败';\n\t\t\t}\n\t\t\t$file = null;\n\t\t\tclosedir($dir);\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// 复制单个文件\n\tpublic function fileCopy($source_name,$target_name) {\n        if(!file_exists($target_name)||file_exists($source_name)){\n\t\t\t//return copy($source_name,$target_name)?true:false;\n\t\t\t$result = copy($source_name,$target_name);\n\t\t\tchmod($target_name,0777); \n\t\t\treturn $result;\n\t\t\tif($result){\n\t\t\t\treturn '复制文件成功';\n\t\t\t} else {\n\t\t\t\treturn '复制文件失败';\n\t\t\t}\n        } else {\n            return '目标文件已经存在或者原始文件不存在';\n        }\n    }\n\t// 删除单个文件\n\tpublic function fileDelete($del_name) {\n        if(file_exists($del_name)){\n\t\t\t$result = unlink($del_name);\n\t\t\tif($result){\n\t\t\t\treturn '删除文件成功';\n\t\t\t} else {\n\t\t\t\treturn '删除文件失败';\n\t\t\t}\n        } else {\n            return '要删除的文件不存在';\n        }\n    }\n\t// 剪切单个文件\n\tpublic function fileCut($source_name,$target_name) {\n        if(!file_exists($target_name)||file_exists($source_name)){\n\t\t\t//return copy($source_name,$target_name)?true:false;\n\t\t\t$result = copy($source_name,$target_name);\n\t\t\tchmod($target_name,0777); \n\t\t\tunlink($source_name);\n\t\t\tif($result){\n\t\t\t\treturn '剪切文件成功';\n\t\t\t} else {\n\t\t\t\treturn '剪切文件失败';\n\t\t\t}\n        } else {\n            return '目标文件已经存在或者原始文件不存在';\n        }\n    }\n}\n?>\n```","slug":"文件管理php","published":1,"updated":"2018-08-30T07:54:02.447Z","layout":"post","photos":[],"link":"","_id":"cjlgbnz610005vwvlae4a01cu","content":"<h3 id=\"有些代码不是自己写的-所以格式不太同\"><a href=\"#有些代码不是自己写的-所以格式不太同\" class=\"headerlink\" title=\"有些代码不是自己写的 所以格式不太同\"></a>有些代码不是自己写的 所以格式不太同</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\">function fileAdir($dir) &#123;</span><br><span class=\"line\">\tif (!is_dir($dir))&#123;</span><br><span class=\"line\">\t\tmkdir($dir);</span><br><span class=\"line\">\t\tchmod($dir,0777); </span><br><span class=\"line\">\t\t$data = scandir(&quot;$dir&quot;);    </span><br><span class=\"line\">\t\t$allFile = array();        </span><br><span class=\"line\">\t\tforeach ($data as $file) &#123;</span><br><span class=\"line\">\t\t\tif($file != &apos;.&apos; &amp;&amp; $file != &apos;..&apos;) &#123;    //判断是否是文件夹内的文件夹</span><br><span class=\"line\">\t\t\t\t$a = array(</span><br><span class=\"line\">\t\t\t\t\t&apos;file&apos;=&gt;$file,</span><br><span class=\"line\">\t\t\t\t\t&apos;isDir&apos;=&gt;is_dir($dir. &apos;/&apos; .$file),</span><br><span class=\"line\">\t\t\t\t\t&apos;name&apos;=&gt;$dir . &apos;/&apos; .$file</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t\tarray_push($allFile, $a);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\treturn $allFile;</span><br><span class=\"line\">\t&#125; else&#123;</span><br><span class=\"line\">\t\t$data = scandir(&quot;$dir&quot;); </span><br><span class=\"line\">\t\t$allFile = array();      </span><br><span class=\"line\">\t\tforeach ($data as $file) &#123;</span><br><span class=\"line\">\t\t\tif($file != &apos;.&apos; &amp;&amp; $file != &apos;..&apos;) &#123;    //判断是否是文件夹内的文件夹</span><br><span class=\"line\">\t\t\t\t$a = array(</span><br><span class=\"line\">\t\t\t\t\t&apos;file&apos;=&gt;$file,</span><br><span class=\"line\">\t\t\t\t\t&apos;isDir&apos;=&gt;is_dir($dir. &apos;/&apos; .$file),</span><br><span class=\"line\">\t\t\t\t\t&apos;name&apos;=&gt;$dir . &apos;/&apos; .$file</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t\tarray_push($allFile, $a);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\treturn $allFile;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/**  读取文件类  **/</span><br><span class=\"line\">class file &#123;</span><br><span class=\"line\">    public $file;</span><br><span class=\"line\">    public $filename;  //文件名字</span><br><span class=\"line\">    public $filetype;  //文件类型</span><br><span class=\"line\">    public $filesize;  //文件大小</span><br><span class=\"line\">    public $fileopen;  //打开文件</span><br><span class=\"line\">    public $fileread;  //读取文件</span><br><span class=\"line\"></span><br><span class=\"line\">    //写入变量</span><br><span class=\"line\">    public $filepath;</span><br><span class=\"line\">    public $filecontent;   //保存文件用到的文件内容</span><br><span class=\"line\">    public $fileput;       //文件写入</span><br><span class=\"line\">\tpublic function edits($files)&#123;</span><br><span class=\"line\">        $this-&gt;file = $files;</span><br><span class=\"line\">        if(!file_exists($this-&gt;file))&#123;</span><br><span class=\"line\">            die(&quot;文件不存在！&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        $this-&gt;fileopen = fopen($this-&gt;file, &apos;r&apos;);</span><br><span class=\"line\">        if(!$this-&gt;fileopen)&#123;</span><br><span class=\"line\">            die(&quot;文件读取失败&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //$this-&gt;fileread = htmlspecialchars($this-&gt;fileread);</span><br><span class=\"line\">        //开始获取文件的后缀名</span><br><span class=\"line\">        $filestr = strlen($this-&gt;file);</span><br><span class=\"line\">        $filepoint = strrpos($this-&gt;file, &apos;.&apos;);</span><br><span class=\"line\">        $filesub = substr($this-&gt;file, $filepoint+1);</span><br><span class=\"line\">        $this-&gt;filetype = $filesub;</span><br><span class=\"line\">        $this-&gt;filename = basename($this-&gt;file);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t$this-&gt;filesize = filesize($this-&gt;file);</span><br><span class=\"line\">\t\tif($this-&gt;filesize===0)&#123;</span><br><span class=\"line\">\t\t\t\treturn array(</span><br><span class=\"line\">\t\t\t\t&apos;filetype&apos;=&gt;$this-&gt;filetype,</span><br><span class=\"line\">\t\t\t\t&apos;filename&apos;=&gt;$this-&gt;filename,</span><br><span class=\"line\">\t\t\t\t&apos;filecontent&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">\t\t\t\t&apos;filepath&apos;=&gt;$this-&gt;file</span><br><span class=\"line\">\t\t\t);</span><br><span class=\"line\">\t\t\texit;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        $this-&gt;fileread = fread($this-&gt;fileopen,$this-&gt;filesize);</span><br><span class=\"line\">\t\t// 读取中文</span><br><span class=\"line\">\t\t//$this-&gt;fileread =iconv(&apos;gb2312&apos;, &apos;utf-8&apos;, $this-&gt;fileread); </span><br><span class=\"line\">        //以数组形式返回：文件类型 文件名称 文件内容 文件路径</span><br><span class=\"line\">        return array(</span><br><span class=\"line\">            &apos;filetype&apos;=&gt;$this-&gt;filetype,</span><br><span class=\"line\">            &apos;filename&apos;=&gt;$this-&gt;filename,</span><br><span class=\"line\">            &apos;filecontent&apos;=&gt;$this-&gt;fileread,</span><br><span class=\"line\">            &apos;filepath&apos;=&gt;$this-&gt;file</span><br><span class=\"line\">        );</span><br><span class=\"line\">        //关闭文件</span><br><span class=\"line\">        fclose($this-&gt;file);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /* 修改文件函数 */</span><br><span class=\"line\">    public function bc($filepath,$filecontent)&#123;</span><br><span class=\"line\">        $this-&gt;filepath = $filepath;</span><br><span class=\"line\">        //访问文件</span><br><span class=\"line\">        $this-&gt;fileopen = file_get_contents($this-&gt;filepath);</span><br><span class=\"line\">        if(!$this-&gt;fileopen)&#123;</span><br><span class=\"line\">            //die(&apos;文件打开失败&apos;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //获取传进来的文件内容</span><br><span class=\"line\">        $this-&gt;filecontent = $filecontent;</span><br><span class=\"line\">        //反转义html</span><br><span class=\"line\">        //$this-&gt;filecontent = htmlspecialchars_decode($this-&gt;filecontent);</span><br><span class=\"line\">        //写入文件</span><br><span class=\"line\">        $this-&gt;fileput = file_put_contents($this-&gt;filepath, $this-&gt;filecontent);</span><br><span class=\"line\">        if($this-&gt;fileput)&#123;</span><br><span class=\"line\">            return &apos;修改文件成功&apos;;</span><br><span class=\"line\">        &#125;else &#123;</span><br><span class=\"line\">            return &apos;修改文件失败&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 创建文件夹</span><br><span class=\"line\">\tpublic function create_folder($dir) &#123;</span><br><span class=\"line\">        if (!file_exists($dir))&#123;</span><br><span class=\"line\">            //mkdir($dir,0777,true);</span><br><span class=\"line\">            mkdir($dir);</span><br><span class=\"line\">\t\t\tchmod($dir,0777); </span><br><span class=\"line\">            return &apos;创建文件夹成功&apos;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">\t\t\treturn &apos;创建文件夹已存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 创建文件</span><br><span class=\"line\">\tpublic function create_file($dir) &#123;</span><br><span class=\"line\">        if (!file_exists($dir))&#123;</span><br><span class=\"line\">            $handle = fopen($dir, &apos;w&apos;);</span><br><span class=\"line\">\t\t\tchmod($dir,0777); </span><br><span class=\"line\">\t\t\tif($handle)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;创建文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;创建文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;需创建的文件已经存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 重命名文件/文件夹</span><br><span class=\"line\">\tpublic function fileRename($old_name,$new_name) &#123;</span><br><span class=\"line\">        if(!file_exists($new_name)||file_exists($old_name))&#123;</span><br><span class=\"line\">\t\t\t$result = rename($old_name,$new_name);</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn\t&apos;重命名成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else&#123;</span><br><span class=\"line\">\t\t\t\treturn\t&apos;重命名失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">\t\t\treturn &apos;目标文件已存在或原文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 复制文件夹及文件夹下文件</span><br><span class=\"line\">\tpublic function copyDirAndFile($src,$dst) &#123;  // 原目录，复制到的目录</span><br><span class=\"line\">\t\tif(file_exists($src))&#123;</span><br><span class=\"line\">\t\t\t$dir = opendir($src);</span><br><span class=\"line\">\t\t\t@mkdir($dst);</span><br><span class=\"line\">\t\t\tchmod($dst,0777); </span><br><span class=\"line\">\t\t\twhile(false !== ($file = readdir($dir))) &#123;</span><br><span class=\"line\">\t\t\t\tif (( $file != &apos;.&apos; ) &amp;&amp; ( $file != &apos;..&apos; )) &#123;</span><br><span class=\"line\">\t\t\t\t\tif (is_dir($src . &apos;/&apos; . $file)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t$this-&gt;copyDirAndFile($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777);</span><br><span class=\"line\">\t\t\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\t\t\tcopy($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777); </span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tclosedir($dir);</span><br><span class=\"line\">\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\treturn false;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t// 删除文件夹及文件夹下文件</span><br><span class=\"line\">\tpublic function delDirAndFile($dirName)&#123;</span><br><span class=\"line\">\t\tif(file_exists($dirName))&#123;</span><br><span class=\"line\">\t\t\tif ($handle = opendir(&quot;$dirName&quot; )) &#123;</span><br><span class=\"line\">\t\t\t   while (false !== ($item=readdir($handle))) &#123;</span><br><span class=\"line\">\t\t\t\t   if ($item != &quot;.&quot; &amp;&amp; $item != &quot;..&quot;) &#123;</span><br><span class=\"line\">\t\t\t\t\t   if (is_dir( &quot;$dirName/$item&quot;)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t$this-&gt;delDirAndFile( &quot;$dirName/$item&quot; );</span><br><span class=\"line\">\t\t\t\t\t   &#125; else &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tif(unlink( &quot;$dirName/$item&quot; ))&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t// echo &quot;成功删除文件： $dirName/$item\\n&quot;;</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;\t</span><br><span class=\"line\">\t\t\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t   closedir( $handle );</span><br><span class=\"line\">\t\t\t   if(rmdir( $dirName )) &#123;</span><br><span class=\"line\">\t\t\t\t   // echo &quot;成功删除目录： $dirName\\n&quot;;</span><br><span class=\"line\">\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125; else&#123;</span><br><span class=\"line\">\t\t\treturn false;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t// 剪切文件夹及文件夹下文件</span><br><span class=\"line\">\tpublic function cutDirAndFile($src,$dst) &#123;  // 原目录，复制到的目录</span><br><span class=\"line\">\t\tif(file_exists($src))&#123;</span><br><span class=\"line\">\t\t\t$dir = opendir($src);</span><br><span class=\"line\">\t\t\t@mkdir($dst);</span><br><span class=\"line\">\t\t\tchmod($dst,0777); </span><br><span class=\"line\">\t\t\twhile(false !== ($file = readdir($dir))) &#123;</span><br><span class=\"line\">\t\t\t\tif (( $file != &apos;.&apos; ) &amp;&amp; ( $file != &apos;..&apos; )) &#123;</span><br><span class=\"line\">\t\t\t\t\tif (is_dir($src . &apos;/&apos; . $file)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t$this-&gt;copyDirAndFile($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777);</span><br><span class=\"line\">\t\t\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\t\t\tcopy($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777); </span><br><span class=\"line\">\t\t\t\t\t\t//unlink($src . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t$file = new file();</span><br><span class=\"line\">\t\t\t$delete = $file-&gt;delDirAndFile($src);</span><br><span class=\"line\">\t\t\tif(!$delete)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;文件夹删除失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t$file = null;</span><br><span class=\"line\">\t\t\tclosedir($dir);</span><br><span class=\"line\">\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\treturn false;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t// 复制单个文件</span><br><span class=\"line\">\tpublic function fileCopy($source_name,$target_name) &#123;</span><br><span class=\"line\">        if(!file_exists($target_name)||file_exists($source_name))&#123;</span><br><span class=\"line\">\t\t\t//return copy($source_name,$target_name)?true:false;</span><br><span class=\"line\">\t\t\t$result = copy($source_name,$target_name);</span><br><span class=\"line\">\t\t\tchmod($target_name,0777); </span><br><span class=\"line\">\t\t\treturn $result;</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;复制文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;复制文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;目标文件已经存在或者原始文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 删除单个文件</span><br><span class=\"line\">\tpublic function fileDelete($del_name) &#123;</span><br><span class=\"line\">        if(file_exists($del_name))&#123;</span><br><span class=\"line\">\t\t\t$result = unlink($del_name);</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;删除文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;删除文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;要删除的文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 剪切单个文件</span><br><span class=\"line\">\tpublic function fileCut($source_name,$target_name) &#123;</span><br><span class=\"line\">        if(!file_exists($target_name)||file_exists($source_name))&#123;</span><br><span class=\"line\">\t\t\t//return copy($source_name,$target_name)?true:false;</span><br><span class=\"line\">\t\t\t$result = copy($source_name,$target_name);</span><br><span class=\"line\">\t\t\tchmod($target_name,0777); </span><br><span class=\"line\">\t\t\tunlink($source_name);</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;剪切文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;剪切文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;目标文件已经存在或者原始文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>","site":{"data":{}},"excerpt":"","more":"<h3 id=\"有些代码不是自己写的-所以格式不太同\"><a href=\"#有些代码不是自己写的-所以格式不太同\" class=\"headerlink\" title=\"有些代码不是自己写的 所以格式不太同\"></a>有些代码不是自己写的 所以格式不太同</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\">function fileAdir($dir) &#123;</span><br><span class=\"line\">\tif (!is_dir($dir))&#123;</span><br><span class=\"line\">\t\tmkdir($dir);</span><br><span class=\"line\">\t\tchmod($dir,0777); </span><br><span class=\"line\">\t\t$data = scandir(&quot;$dir&quot;);    </span><br><span class=\"line\">\t\t$allFile = array();        </span><br><span class=\"line\">\t\tforeach ($data as $file) &#123;</span><br><span class=\"line\">\t\t\tif($file != &apos;.&apos; &amp;&amp; $file != &apos;..&apos;) &#123;    //判断是否是文件夹内的文件夹</span><br><span class=\"line\">\t\t\t\t$a = array(</span><br><span class=\"line\">\t\t\t\t\t&apos;file&apos;=&gt;$file,</span><br><span class=\"line\">\t\t\t\t\t&apos;isDir&apos;=&gt;is_dir($dir. &apos;/&apos; .$file),</span><br><span class=\"line\">\t\t\t\t\t&apos;name&apos;=&gt;$dir . &apos;/&apos; .$file</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t\tarray_push($allFile, $a);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\treturn $allFile;</span><br><span class=\"line\">\t&#125; else&#123;</span><br><span class=\"line\">\t\t$data = scandir(&quot;$dir&quot;); </span><br><span class=\"line\">\t\t$allFile = array();      </span><br><span class=\"line\">\t\tforeach ($data as $file) &#123;</span><br><span class=\"line\">\t\t\tif($file != &apos;.&apos; &amp;&amp; $file != &apos;..&apos;) &#123;    //判断是否是文件夹内的文件夹</span><br><span class=\"line\">\t\t\t\t$a = array(</span><br><span class=\"line\">\t\t\t\t\t&apos;file&apos;=&gt;$file,</span><br><span class=\"line\">\t\t\t\t\t&apos;isDir&apos;=&gt;is_dir($dir. &apos;/&apos; .$file),</span><br><span class=\"line\">\t\t\t\t\t&apos;name&apos;=&gt;$dir . &apos;/&apos; .$file</span><br><span class=\"line\">\t\t\t\t);</span><br><span class=\"line\">\t\t\t\tarray_push($allFile, $a);</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\treturn $allFile;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">/**  读取文件类  **/</span><br><span class=\"line\">class file &#123;</span><br><span class=\"line\">    public $file;</span><br><span class=\"line\">    public $filename;  //文件名字</span><br><span class=\"line\">    public $filetype;  //文件类型</span><br><span class=\"line\">    public $filesize;  //文件大小</span><br><span class=\"line\">    public $fileopen;  //打开文件</span><br><span class=\"line\">    public $fileread;  //读取文件</span><br><span class=\"line\"></span><br><span class=\"line\">    //写入变量</span><br><span class=\"line\">    public $filepath;</span><br><span class=\"line\">    public $filecontent;   //保存文件用到的文件内容</span><br><span class=\"line\">    public $fileput;       //文件写入</span><br><span class=\"line\">\tpublic function edits($files)&#123;</span><br><span class=\"line\">        $this-&gt;file = $files;</span><br><span class=\"line\">        if(!file_exists($this-&gt;file))&#123;</span><br><span class=\"line\">            die(&quot;文件不存在！&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        $this-&gt;fileopen = fopen($this-&gt;file, &apos;r&apos;);</span><br><span class=\"line\">        if(!$this-&gt;fileopen)&#123;</span><br><span class=\"line\">            die(&quot;文件读取失败&quot;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //$this-&gt;fileread = htmlspecialchars($this-&gt;fileread);</span><br><span class=\"line\">        //开始获取文件的后缀名</span><br><span class=\"line\">        $filestr = strlen($this-&gt;file);</span><br><span class=\"line\">        $filepoint = strrpos($this-&gt;file, &apos;.&apos;);</span><br><span class=\"line\">        $filesub = substr($this-&gt;file, $filepoint+1);</span><br><span class=\"line\">        $this-&gt;filetype = $filesub;</span><br><span class=\"line\">        $this-&gt;filename = basename($this-&gt;file);</span><br><span class=\"line\">\t\t</span><br><span class=\"line\">\t\t$this-&gt;filesize = filesize($this-&gt;file);</span><br><span class=\"line\">\t\tif($this-&gt;filesize===0)&#123;</span><br><span class=\"line\">\t\t\t\treturn array(</span><br><span class=\"line\">\t\t\t\t&apos;filetype&apos;=&gt;$this-&gt;filetype,</span><br><span class=\"line\">\t\t\t\t&apos;filename&apos;=&gt;$this-&gt;filename,</span><br><span class=\"line\">\t\t\t\t&apos;filecontent&apos;=&gt;&apos;&apos;,</span><br><span class=\"line\">\t\t\t\t&apos;filepath&apos;=&gt;$this-&gt;file</span><br><span class=\"line\">\t\t\t);</span><br><span class=\"line\">\t\t\texit;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">        $this-&gt;fileread = fread($this-&gt;fileopen,$this-&gt;filesize);</span><br><span class=\"line\">\t\t// 读取中文</span><br><span class=\"line\">\t\t//$this-&gt;fileread =iconv(&apos;gb2312&apos;, &apos;utf-8&apos;, $this-&gt;fileread); </span><br><span class=\"line\">        //以数组形式返回：文件类型 文件名称 文件内容 文件路径</span><br><span class=\"line\">        return array(</span><br><span class=\"line\">            &apos;filetype&apos;=&gt;$this-&gt;filetype,</span><br><span class=\"line\">            &apos;filename&apos;=&gt;$this-&gt;filename,</span><br><span class=\"line\">            &apos;filecontent&apos;=&gt;$this-&gt;fileread,</span><br><span class=\"line\">            &apos;filepath&apos;=&gt;$this-&gt;file</span><br><span class=\"line\">        );</span><br><span class=\"line\">        //关闭文件</span><br><span class=\"line\">        fclose($this-&gt;file);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    /* 修改文件函数 */</span><br><span class=\"line\">    public function bc($filepath,$filecontent)&#123;</span><br><span class=\"line\">        $this-&gt;filepath = $filepath;</span><br><span class=\"line\">        //访问文件</span><br><span class=\"line\">        $this-&gt;fileopen = file_get_contents($this-&gt;filepath);</span><br><span class=\"line\">        if(!$this-&gt;fileopen)&#123;</span><br><span class=\"line\">            //die(&apos;文件打开失败&apos;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        //获取传进来的文件内容</span><br><span class=\"line\">        $this-&gt;filecontent = $filecontent;</span><br><span class=\"line\">        //反转义html</span><br><span class=\"line\">        //$this-&gt;filecontent = htmlspecialchars_decode($this-&gt;filecontent);</span><br><span class=\"line\">        //写入文件</span><br><span class=\"line\">        $this-&gt;fileput = file_put_contents($this-&gt;filepath, $this-&gt;filecontent);</span><br><span class=\"line\">        if($this-&gt;fileput)&#123;</span><br><span class=\"line\">            return &apos;修改文件成功&apos;;</span><br><span class=\"line\">        &#125;else &#123;</span><br><span class=\"line\">            return &apos;修改文件失败&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 创建文件夹</span><br><span class=\"line\">\tpublic function create_folder($dir) &#123;</span><br><span class=\"line\">        if (!file_exists($dir))&#123;</span><br><span class=\"line\">            //mkdir($dir,0777,true);</span><br><span class=\"line\">            mkdir($dir);</span><br><span class=\"line\">\t\t\tchmod($dir,0777); </span><br><span class=\"line\">            return &apos;创建文件夹成功&apos;;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">\t\t\treturn &apos;创建文件夹已存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 创建文件</span><br><span class=\"line\">\tpublic function create_file($dir) &#123;</span><br><span class=\"line\">        if (!file_exists($dir))&#123;</span><br><span class=\"line\">            $handle = fopen($dir, &apos;w&apos;);</span><br><span class=\"line\">\t\t\tchmod($dir,0777); </span><br><span class=\"line\">\t\t\tif($handle)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;创建文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;创建文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;  </span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;需创建的文件已经存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 重命名文件/文件夹</span><br><span class=\"line\">\tpublic function fileRename($old_name,$new_name) &#123;</span><br><span class=\"line\">        if(!file_exists($new_name)||file_exists($old_name))&#123;</span><br><span class=\"line\">\t\t\t$result = rename($old_name,$new_name);</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn\t&apos;重命名成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else&#123;</span><br><span class=\"line\">\t\t\t\treturn\t&apos;重命名失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">\t\t\treturn &apos;目标文件已存在或原文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 复制文件夹及文件夹下文件</span><br><span class=\"line\">\tpublic function copyDirAndFile($src,$dst) &#123;  // 原目录，复制到的目录</span><br><span class=\"line\">\t\tif(file_exists($src))&#123;</span><br><span class=\"line\">\t\t\t$dir = opendir($src);</span><br><span class=\"line\">\t\t\t@mkdir($dst);</span><br><span class=\"line\">\t\t\tchmod($dst,0777); </span><br><span class=\"line\">\t\t\twhile(false !== ($file = readdir($dir))) &#123;</span><br><span class=\"line\">\t\t\t\tif (( $file != &apos;.&apos; ) &amp;&amp; ( $file != &apos;..&apos; )) &#123;</span><br><span class=\"line\">\t\t\t\t\tif (is_dir($src . &apos;/&apos; . $file)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t$this-&gt;copyDirAndFile($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777);</span><br><span class=\"line\">\t\t\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\t\t\tcopy($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777); </span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\tclosedir($dir);</span><br><span class=\"line\">\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\treturn false;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t// 删除文件夹及文件夹下文件</span><br><span class=\"line\">\tpublic function delDirAndFile($dirName)&#123;</span><br><span class=\"line\">\t\tif(file_exists($dirName))&#123;</span><br><span class=\"line\">\t\t\tif ($handle = opendir(&quot;$dirName&quot; )) &#123;</span><br><span class=\"line\">\t\t\t   while (false !== ($item=readdir($handle))) &#123;</span><br><span class=\"line\">\t\t\t\t   if ($item != &quot;.&quot; &amp;&amp; $item != &quot;..&quot;) &#123;</span><br><span class=\"line\">\t\t\t\t\t   if (is_dir( &quot;$dirName/$item&quot;)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t$this-&gt;delDirAndFile( &quot;$dirName/$item&quot; );</span><br><span class=\"line\">\t\t\t\t\t   &#125; else &#123;</span><br><span class=\"line\">\t\t\t\t\t\t\tif(unlink( &quot;$dirName/$item&quot; ))&#123;</span><br><span class=\"line\">\t\t\t\t\t\t\t\t// echo &quot;成功删除文件： $dirName/$item\\n&quot;;</span><br><span class=\"line\">\t\t\t\t\t\t\t&#125;\t</span><br><span class=\"line\">\t\t\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t   closedir( $handle );</span><br><span class=\"line\">\t\t\t   if(rmdir( $dirName )) &#123;</span><br><span class=\"line\">\t\t\t\t   // echo &quot;成功删除目录： $dirName\\n&quot;;</span><br><span class=\"line\">\t\t\t   &#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125; else&#123;</span><br><span class=\"line\">\t\t\treturn false;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t// 剪切文件夹及文件夹下文件</span><br><span class=\"line\">\tpublic function cutDirAndFile($src,$dst) &#123;  // 原目录，复制到的目录</span><br><span class=\"line\">\t\tif(file_exists($src))&#123;</span><br><span class=\"line\">\t\t\t$dir = opendir($src);</span><br><span class=\"line\">\t\t\t@mkdir($dst);</span><br><span class=\"line\">\t\t\tchmod($dst,0777); </span><br><span class=\"line\">\t\t\twhile(false !== ($file = readdir($dir))) &#123;</span><br><span class=\"line\">\t\t\t\tif (( $file != &apos;.&apos; ) &amp;&amp; ( $file != &apos;..&apos; )) &#123;</span><br><span class=\"line\">\t\t\t\t\tif (is_dir($src . &apos;/&apos; . $file)) &#123;</span><br><span class=\"line\">\t\t\t\t\t\t$this-&gt;copyDirAndFile($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777);</span><br><span class=\"line\">\t\t\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\t\t\tcopy($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t\tchmod($dst . &apos;/&apos; . $file,0777); </span><br><span class=\"line\">\t\t\t\t\t\t//unlink($src . &apos;/&apos; . $file);</span><br><span class=\"line\">\t\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t\t&#125;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t$file = new file();</span><br><span class=\"line\">\t\t\t$delete = $file-&gt;delDirAndFile($src);</span><br><span class=\"line\">\t\t\tif(!$delete)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;文件夹删除失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">\t\t\t$file = null;</span><br><span class=\"line\">\t\t\tclosedir($dir);</span><br><span class=\"line\">\t\t\treturn true;</span><br><span class=\"line\">\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\treturn false;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t// 复制单个文件</span><br><span class=\"line\">\tpublic function fileCopy($source_name,$target_name) &#123;</span><br><span class=\"line\">        if(!file_exists($target_name)||file_exists($source_name))&#123;</span><br><span class=\"line\">\t\t\t//return copy($source_name,$target_name)?true:false;</span><br><span class=\"line\">\t\t\t$result = copy($source_name,$target_name);</span><br><span class=\"line\">\t\t\tchmod($target_name,0777); </span><br><span class=\"line\">\t\t\treturn $result;</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;复制文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;复制文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;目标文件已经存在或者原始文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 删除单个文件</span><br><span class=\"line\">\tpublic function fileDelete($del_name) &#123;</span><br><span class=\"line\">        if(file_exists($del_name))&#123;</span><br><span class=\"line\">\t\t\t$result = unlink($del_name);</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;删除文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;删除文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;要删除的文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">\t// 剪切单个文件</span><br><span class=\"line\">\tpublic function fileCut($source_name,$target_name) &#123;</span><br><span class=\"line\">        if(!file_exists($target_name)||file_exists($source_name))&#123;</span><br><span class=\"line\">\t\t\t//return copy($source_name,$target_name)?true:false;</span><br><span class=\"line\">\t\t\t$result = copy($source_name,$target_name);</span><br><span class=\"line\">\t\t\tchmod($target_name,0777); </span><br><span class=\"line\">\t\t\tunlink($source_name);</span><br><span class=\"line\">\t\t\tif($result)&#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;剪切文件成功&apos;;</span><br><span class=\"line\">\t\t\t&#125; else &#123;</span><br><span class=\"line\">\t\t\t\treturn &apos;剪切文件失败&apos;;</span><br><span class=\"line\">\t\t\t&#125;</span><br><span class=\"line\">        &#125; else &#123;</span><br><span class=\"line\">            return &apos;目标文件已经存在或者原始文件不存在&apos;;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>"},{"title":"自定义百度云分享密码","date":"2018-08-30T03:39:24.000Z","comments":1,"_content":"\n### 动态图片展示\n\n![无法展示图片](http://119.29.143.126:1234/123.gif)\n\n```\njavascript:require([\"function-widget-1:share/util/service/createLinkShare.js\"]).prototype.makePrivatePassword=function(){return prompt(\"请输入自定义的密码\",\"1234\")}\n\n```\n\n### 使用方法：\n\n首先，选择要分享的文件，点击分享按钮。\n这时候，按F12打开控制台，切换至Console，输入代码按回车即可。\n\n然后点击创建私密链接，会弹出输入框，输入密码即可！\n\n注意使用代码前要先点一下分享按钮，相关模块才会载入，这时候用代码才有效果。\n\n转载自:流年似水博客\n转载自:[西门吹雪](http://xmcx.me/post-14.html)","source":"_posts/自定义百度云分享密码.md","raw":"---\ntitle: 自定义百度云分享密码\ndate: 2018-08-30 11:39:24\ncategories: ['其他'] \ntags: 其他\ncomments: true\n---\n\n### 动态图片展示\n\n![无法展示图片](http://119.29.143.126:1234/123.gif)\n\n```\njavascript:require([\"function-widget-1:share/util/service/createLinkShare.js\"]).prototype.makePrivatePassword=function(){return prompt(\"请输入自定义的密码\",\"1234\")}\n\n```\n\n### 使用方法：\n\n首先，选择要分享的文件，点击分享按钮。\n这时候，按F12打开控制台，切换至Console，输入代码按回车即可。\n\n然后点击创建私密链接，会弹出输入框，输入密码即可！\n\n注意使用代码前要先点一下分享按钮，相关模块才会载入，这时候用代码才有效果。\n\n转载自:流年似水博客\n转载自:[西门吹雪](http://xmcx.me/post-14.html)","slug":"自定义百度云分享密码","published":1,"updated":"2018-08-30T08:42:31.572Z","layout":"post","photos":[],"link":"","_id":"cjlgbnz620006vwvlyoa8add1","content":"<h3 id=\"动态图片展示\"><a href=\"#动态图片展示\" class=\"headerlink\" title=\"动态图片展示\"></a>动态图片展示</h3><p><img src=\"http://119.29.143.126:1234/123.gif\" alt=\"无法展示图片\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">javascript:require([&quot;function-widget-1:share/util/service/createLinkShare.js&quot;]).prototype.makePrivatePassword=function()&#123;return prompt(&quot;请输入自定义的密码&quot;,&quot;1234&quot;)&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"使用方法：\"><a href=\"#使用方法：\" class=\"headerlink\" title=\"使用方法：\"></a>使用方法：</h3><p>首先，选择要分享的文件，点击分享按钮。<br>这时候，按F12打开控制台，切换至Console，输入代码按回车即可。</p>\n<p>然后点击创建私密链接，会弹出输入框，输入密码即可！</p>\n<p>注意使用代码前要先点一下分享按钮，相关模块才会载入，这时候用代码才有效果。</p>\n<p>转载自:流年似水博客<br>转载自:<a href=\"http://xmcx.me/post-14.html\" target=\"_blank\" rel=\"noopener\">西门吹雪</a></p>\n","site":{"data":{}},"excerpt":"","more":"<h3 id=\"动态图片展示\"><a href=\"#动态图片展示\" class=\"headerlink\" title=\"动态图片展示\"></a>动态图片展示</h3><p><img src=\"http://119.29.143.126:1234/123.gif\" alt=\"无法展示图片\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">javascript:require([&quot;function-widget-1:share/util/service/createLinkShare.js&quot;]).prototype.makePrivatePassword=function()&#123;return prompt(&quot;请输入自定义的密码&quot;,&quot;1234&quot;)&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"使用方法：\"><a href=\"#使用方法：\" class=\"headerlink\" title=\"使用方法：\"></a>使用方法：</h3><p>首先，选择要分享的文件，点击分享按钮。<br>这时候，按F12打开控制台，切换至Console，输入代码按回车即可。</p>\n<p>然后点击创建私密链接，会弹出输入框，输入密码即可！</p>\n<p>注意使用代码前要先点一下分享按钮，相关模块才会载入，这时候用代码才有效果。</p>\n<p>转载自:流年似水博客<br>转载自:<a href=\"http://xmcx.me/post-14.html\" target=\"_blank\" rel=\"noopener\">西门吹雪</a></p>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cjlgbnz5v0001vwvlunrflv9b","category_id":"cjlgbnz5y0003vwvlll1oyl8s","_id":"cjlgbnz66000avwvlt2k1rvij"},{"post_id":"cjlgbnz5x0002vwvlc6zhnwz2","category_id":"cjlgbnz640007vwvla4e8nh22","_id":"cjlgbnz68000evwvlyow574uy"},{"post_id":"cjlgbnz610005vwvlae4a01cu","category_id":"cjlgbnz66000bvwvlut6bltkb","_id":"cjlgbnz6b000ivwvlkhwiu6zf"},{"post_id":"cjlgbnz620006vwvlyoa8add1","category_id":"cjlgbnz69000fvwvlnny63sqs","_id":"cjlgbnz6c000kvwvlmqll21im"}],"PostTag":[{"post_id":"cjlgbnz5v0001vwvlunrflv9b","tag_id":"cjlgbnz600004vwvlud0aa7xr","_id":"cjlgbnz650009vwvlzln7jxee"},{"post_id":"cjlgbnz5x0002vwvlc6zhnwz2","tag_id":"cjlgbnz640008vwvl5twda4hx","_id":"cjlgbnz67000dvwvl2lnwgwhb"},{"post_id":"cjlgbnz610005vwvlae4a01cu","tag_id":"cjlgbnz67000cvwvl5aj7lryy","_id":"cjlgbnz6a000hvwvl6f1kpjhx"},{"post_id":"cjlgbnz620006vwvlyoa8add1","tag_id":"cjlgbnz69000gvwvlu083qkr8","_id":"cjlgbnz6c000jvwvle7fjgm5g"}],"Tag":[{"name":"前端","_id":"cjlgbnz600004vwvlud0aa7xr"},{"name":"服务器","_id":"cjlgbnz640008vwvl5twda4hx"},{"name":"后端","_id":"cjlgbnz67000cvwvl5aj7lryy"},{"name":"其他","_id":"cjlgbnz69000gvwvlu083qkr8"}]}}