{"meta":{"title":"ä¸ªäººåšå®¢-xiaojinwen","subtitle":"xiaojinwen","description":"ä¸ªäººæ—¥å¸¸","author":"xiaojinwen","url":"https://xiaojw.xyz"},"pages":[],"posts":[{"title":"antdesignå®ç°selectæ¡†æ‡’åŠ è½½","slug":"antdesignå®ç°selectæ¡†æ‡’åŠ è½½","date":"2019-12-23T02:52:49.000Z","updated":"2019-12-31T03:43:12.387Z","comments":true,"path":"2019/12/23/antdesignå®ç°selectæ¡†æ‡’åŠ è½½/","link":"","permalink":"https://xiaojw.xyz/2019/12/23/antdesignå®ç°selectæ¡†æ‡’åŠ è½½/","excerpt":"","text":"selectæ¡† è¿˜å¯ä»¥æœç´¢ å®ç°åŸç†å³æ˜¯æ‰‹åŠ¨å»ä¿®æ”¹optionçš„é•¿åº¦ å°†æ‰€æœ‰çš„optionä¿å­˜èµ·æ¥ é¦–æ¬¡æ˜¾ç¤ºé»˜è®¤æ¡æ•° å½“selectæ¡†é€‰æ‹©å†…å®¹æ»šåŠ¨åˆ°åº•éƒ¨ å†å¢åŠ æ¡æ•° è¾“å…¥æœç´¢å†…å®¹æ—¶ æ¸…ç©ºä¹‹å‰çš„option æ›¿æ¢ä¸ºæœç´¢åŒ¹é…åˆ°çš„æ–°option(ä¸è¦å»é‡æ–°èµ‹å€¼ä¸€ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯ä¿®æ”¹åŸæ¥çš„æ•°ç»„) å·²çŸ¥é—®é¢˜ initialValueå€¼å­˜åœ¨æ—¶ä¼šå¯¼è‡´é¦–æ¬¡ä¸‹æ‹‰é€‰æ‹©æ¡†æ»šåŠ¨åˆ°åº•éƒ¨ åŠ è½½æ›´å¤šoptionæ—¶çš„æ»šåŠ¨æ¡ä½ç½®é”™è¯¯ ä¸å®Œç¾çš„è§£å†³ pushæ•°æ®å‰å…ˆæ¸…æ¥š initialValueå€¼ æ“ä½œå®Œå†æ¢å¤ å‰¯ä½œç”¨ æ»šåŠ¨åˆ°åº•éƒ¨åselectæ¡†çš„å€¼ä¼šæ¸…ç©ºäº† å¤±ç„¦åæ‰æ¢å¤ å‚è€ƒæ–‡ç«  https://www.cnblogs.com/clairelss/p/11063808.html1234567891011121314151617181920212223242526272829// è¿™æ˜¯å°è£…çš„ç»„ä»¶ æˆ‘æ‹†å‡ºæ¥äº†ä¸€éƒ¨åˆ†// template éƒ¨åˆ†&lt;a-select allowClear v-if=\"item.type == 'select'||item.type == 'multiple'\" :getPopupContainer=\"triggerNode =&gt; triggerNode.parentNode\" :mode=\"item.type == 'multiple'?'multiple':undefined\" :showSearch=\"item.showSearch\" v-decorator=\"[ `$&#123;item.decorator&#125;`, &#123; rules: [&#123; required: item.required, message: `$&#123;item.Tips&#125; field should be no-null`, &#125;,...(item.rules &amp;&amp; item.rules instanceof Array ? item.rules : [])], initialValue:item.initialValue || undefined &#125; ]\" :placeholder=\"item.isShowPlaceHolder?item.Tips:''\" @change=\"handleInputChange($event,item.decorator)\" :disabled=\"item.disabled\" @popupScroll=\"selectScroll($event,item)\" @search=\"fetchSelectSearchData($event,item)\" @dropdownVisibleChange=\"SelectDropdownVisibleChange($event,item)\"&gt;&lt;a-select-option :value=\"child.value\" v-for=\"(child,key) in item.options\" :key=\"key\" :disabled=\"child.disabled\"&gt;&#123;&#123;child.name&#125;&#125;&lt;/a-select-option&gt;&lt;/a-select&gt; ä¸Šé¢è¦çœ‹çš„ä¸»è¦æ˜¯123@popupScroll=&quot;selectScroll($event,item)&quot;@search=&quot;fetchSelectSearchData($event,item)&quot;@dropdownVisibleChange=&quot;SelectDropdownVisibleChange($event,item)&quot; è¿™ä¸‰ä¸ªå›è°ƒ å…¶ä»–çš„ä¸ç”¨çœ‹ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122 // scriptéƒ¨åˆ† mixin.tsimport &#123; Vue, Component &#125; from 'vue-property-decorator'import &#123; deepClone, isObject, distinct&#125; from '@/assets/ts';declare module 'vue/types/vue' &#123; interface Vue &#123; timerId: number; // ç”¨äºé˜²æŠ– è§£å†³è¾“å…¥æ¡†å¿«é€Ÿè¾“å…¥å¡é¡¿ dataLen: number; // æ•°æ®æ¯æ¬¡åŠ è½½çš„æ¡æ•° allOptionsDatakey: symbol; // ä¿å­˜æ‰€æœ‰æ•°æ®çš„ key isReady: symbol; // ç”¨äºåˆ¤æ–­æ•°æ®æ˜¯å¦è¢«è‡ªå·±ä¿®æ”¹è¿‡ searchValue: any; // ä¸Šä¸€æ¬¡è¾“å…¥æ¡†è¾“å…¥çš„å€¼ originOptions: any[]; // ä¿å­˜ä¿®æ”¹è¿‡çš„option getSelectSearchDataList(item: any, value?: any): void; // å¤„ç†æœç´¢å’Œæ»šåŠ¨æ—¶çš„æ•°æ® selectScroll(e: any, item: any): void; // selectæ»šåŠ¨æ—¶è°ƒç”¨ @popupScrollå›è°ƒ fetchSelectSearchData(value: any, item: any): void; // è¾“å…¥å†…å®¹æœç´¢æ—¶è°ƒç”¨ @searchå›è°ƒ SelectDropdownVisibleChange(e: any, item: any): void; // selectå†…å®¹é€‰æ‹©æ¡†æ˜¾ç¤ºæ—¶è°ƒç”¨ @dropdownVisibleChangeå›è°ƒ &#125;&#125;@Componentexport default class selecctMixin extends Vue &#123; /*** * select æ‡’åŠ è½½ å¼€å§‹ * å®ç°åŸç†å³æ˜¯ æ‰‹åŠ¨å»ä¿®æ”¹optionçš„é•¿åº¦ * * å°†æ‰€æœ‰çš„optionä¿å­˜èµ·æ¥ (SelectDropdownVisibleChange) * é¦–æ¬¡æ˜¾ç¤ºé»˜è®¤æ¡æ•° * å½“selectæ¡†é€‰æ‹©å†…å®¹æ»šåŠ¨åˆ°åº•éƒ¨ å†å¢åŠ æ¡æ•°(ä¸è¦å»é‡æ–°èµ‹å€¼ä¸€ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯ä¿®æ”¹åŸæ¥çš„æ•°ç»„) * è¾“å…¥æœç´¢å†…å®¹æ—¶ æ¸…ç©ºä¹‹å‰çš„option æ›¿æ¢ä¸ºæœç´¢åŒ¹é…åˆ°çš„æ–°option * * å·²çŸ¥é—®é¢˜ initialValueå€¼å­˜åœ¨æ—¶ä¼šå¯¼è‡´é¦–æ¬¡ä¸‹æ‹‰é€‰æ‹©æ¡†æ»šåŠ¨åˆ°åº•éƒ¨ åŠ è½½æ›´å¤šoptionæ—¶çš„æ»šåŠ¨æ¡ä½ç½®é”™è¯¯ * ä¸å®Œç¾çš„è§£å†³ pushæ•°æ®å‰å…ˆæ¸…æ¥š initialValueå€¼ æ“ä½œå®Œå†æ¢å¤ * å‰¯ä½œç”¨ æ»šåŠ¨åˆ°åº•éƒ¨åselectæ¡†çš„å€¼ä¼šæ¸…ç©ºäº† å¤±ç„¦åæ‰æ¢å¤ */ timerId: number = 0; // ç”¨äºé˜²æŠ– è§£å†³è¾“å…¥æ¡†å¿«é€Ÿè¾“å…¥å¡é¡¿ dataLen: number = 100; // æ•°æ®æ¯æ¬¡åŠ è½½çš„æ¡æ•° allOptionsDatakey: symbol = Symbol.for(\"allOptionsDatakey\"); // ä¿å­˜æ‰€æœ‰æ•°æ®çš„ key isReady: symbol = Symbol.for(\"isReady\"); // ç”¨äºåˆ¤æ–­æ•°æ®æ˜¯å¦è¢«è‡ªå·±ä¿®æ”¹è¿‡ searchValue: any; // ä¸Šä¸€æ¬¡è¾“å…¥æ¡†è¾“å…¥çš„å€¼ originOptions: any[] = []; // ä¿å­˜ä¿®æ”¹è¿‡çš„option // selectæ»šåŠ¨æ—¶è°ƒç”¨ selectScroll(e: any, item: any) &#123; const &#123; target &#125; = e; if (target.scrollTop + target.offsetHeight === target.scrollHeight) &#123; item.scrollPage = item.scrollPage ? item.scrollPage + 1 : 1; this.getSelectSearchDataList(item, this.searchValue); // è°ƒç”¨å¤„ç†æ•°æ®æ–¹æ³• &#125; &#125; // è¾“å…¥å†…å®¹æœç´¢æ—¶è°ƒç”¨ fetchSelectSearchData(value: any, item: any) &#123; if (this.timerId) &#123; clearTimeout(this.timerId); &#125; this.timerId = setTimeout(() =&gt; &#123; item.scrollPage = 0; this.getSelectSearchDataList(item, value); // è°ƒç”¨å¤„ç†æ•°æ®æ–¹æ³• this.searchValue = value; &#125;, 300); &#125; // å¤„ç†æœç´¢å’Œæ»šåŠ¨æ—¶çš„æ•°æ® getSelectSearchDataList(item: any, searchValue?: any) &#123; const start: number = item.scrollPage ? item.scrollPage * this.dataLen : 0; const end: number = item.scrollPage ? (item.scrollPage + 1) * this.dataLen : this.dataLen; // console.log(\"start\", start); // console.log(\"end\", end); const allOptions: any[] = deepClone(item[this.allOptionsDatakey]) const filterOption: any[] = searchValue ? [] : allOptions; // æ‰§è¡Œ æ¸…ç©ºinitialValueå€¼ä¹‹å pushå®Œæ•°æ®åå†æ¢å¤åŸæœ¬å€¼ åŸå› æ˜¯è¯¥å€¼å­˜åœ¨æ—¶ä¼šå¯¼è‡´é¦–æ¬¡ä¸‹æ‹‰é€‰æ‹©æ¡†æ»šåŠ¨åˆ°åº•éƒ¨ åŠ è½½æ›´å¤šoptionæ—¶çš„æ»šåŠ¨æ¡ä½ç½®é”™è¯¯ å¦‚æœæ²¡æœ‰è¿™ç§é—®é¢˜å¯ä»¥ä¸åšæ­¤æ“ä½œ const initialValue: any = item.initialValue item.initialValue = undefined if (searchValue) &#123; for (let innerItem of allOptions) &#123; new RegExp(searchValue, \"ig\").test( isObject(innerItem) ? innerItem.value : innerItem ) &amp;&amp; filterOption.push(innerItem); &#125; &#125; // ä¿®æ”¹è¿‡è¾“å…¥æ¡†æ—¶ optionsæ¸…ç©º this.searchValue !== searchValue &amp;&amp; item.options.splice(0); filterOption.slice(start, end).length &amp;&amp; item.options.push(...filterOption.slice(start, end)); this.$nextTick(() =&gt; &#123; item.initialValue = initialValue &#125;) &#125; // selectå†…å®¹é€‰æ‹©æ¡†æ˜¾ç¤ºæ—¶è°ƒç”¨ SelectDropdownVisibleChange(visible: any, item: any) &#123; if (!item[this.isReady]) &#123; // æŠŠæ‰€æœ‰çš„æ•°æ®ä¿å­˜èµ·æ¥ å¹¶ä¸”æ ‡è®°çŠ¶æ€ item[this.isReady] = true; item[this.allOptionsDatakey] = deepClone(distinct(item.options)); this.originOptions.push(item) &#125; // optionsèµ‹å€¼ this.dataLen æ¡æ•°æ® item.options = deepClone(item[this.allOptionsDatakey]).slice(0, this.dataLen) if (!visible) &#123; item.scrollPage = undefined; this.searchValue = undefined; &#125; &#125; public beforeDestroy() &#123; // æ¢å¤é»˜è®¤å€¼ this.originOptions.forEach((item: any) =&gt; &#123; if (item[this.isReady]) &#123; item.options = deepClone(item[this.allOptionsDatakey]) delete item[this.allOptionsDatakey] delete item[this.isReady] &#125; &#125;); this.originOptions = [] &#125; // select æ‡’åŠ è½½ç»“æŸ&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"vue-cli3-é…cdn","slug":"vue-cli3-é…cdn","date":"2019-04-01T07:57:50.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2019/04/01/vue-cli3-é…cdn/","link":"","permalink":"https://xiaojw.xyz/2019/04/01/vue-cli3-é…cdn/","excerpt":"","text":"ä¸€ã€chainWebpack12345678910111213141516171819202122232425262728293031const cdn = &#123; css: [ 'https://cdn.xxxx.com/cdn/element-ui/2.7.0/index.css', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.snow.min.css', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.core.min.css', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.bubble.min.css', ], js: [ 'https://cdn.xxxx.com/cdn/vue/2.6.10/vue.min.js', 'https://cdn.xxxx.com/cdn/element-ui/2.7.0/index.js', 'https://cdn.xxxx.com/cdn/vue-router/3.0.2/vue-router.min.js', 'https://cdn.xxxx.com/cdn/moment/2.6.10/moment.min.js', 'https://cdn.xxxx.com/cdn/vuex/3.1.0/vuex.min.js', 'https://cdn.xxxx.com/cdn/vue-i18n/8.9.0/vue-i18n.min.js', 'https://cdn.xxxx.com/cdn/lodash/4.17.11/lodash.min.js', 'https://cdn.xxxx.com/cdn/antv-g2/3.4.10/g2.min.js', 'https://cdn.xxxx.com/cdn/axios/0.18.0/axios.min.js', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.min.js', ]&#125;module.exports =&#123; chainWebpack: config=&gt;&#123; if (process.env.NODE_ENV === 'production') &#123; // ä¸ºç”Ÿäº§ç¯å¢ƒä¿®æ”¹é…ç½®...process.env.NODE_ENV !== 'development' config.plugin('html') .tap(args =&gt; &#123; args[0].cdn = cdn; return args; &#125;) &#125; &#125;&#125; äºŒã€configureWebpack12345678910111213141516171819module.exports =&#123; configureWebpack: config=&gt;&#123; if (process.env.NODE_ENV === 'production') &#123; // 'vue': 'Vue', keyå€¼éœ€è¦å»æºä»£ç é‡Œé¢æ‰¾export config.externals = &#123; 'vue': 'Vue', 'vue-router': 'VueRouter', 'moment': 'moment', 'vuex': 'Vuex', 'element-ui': 'ELEMENT', 'lodash': '_', 'vue-i18n': 'VueI18n', '@antv/g2': 'G2_3', 'axios': 'axios', 'quill': 'Quill', &#125; &#125; &#125;&#125; ä¸‰ã€ä¿®æ”¹ public/index.html123456789101112131415161718192021222324252627282930&lt;!DOCTYPE html&gt;&lt;html lang=\"en\"&gt; &lt;head&gt; &lt;meta charset=\"utf-8\"&gt; &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt; &lt;meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0\"&gt; &lt;link rel=\"icon\" href=\"&lt;%= BASE_URL %&gt;favicon.ico\"&gt; &lt;title&gt;ç®¡ç†ç³»ç»Ÿ&lt;/title&gt; &lt;!-- ä½¿ç”¨CDNçš„CSSæ–‡ä»¶ --&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp; htmlWebpackPlugin.options.cdn.css) &#123; %&gt; &lt;link href=\"&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;\" rel=\"external nofollow\" rel=\"external nofollow\" rel=\"preload\" as=\"style\"&gt; &lt;link href=\"&lt;%= htmlWebpackPlugin.options.cdn.css[i] %&gt;\" rel=\"external nofollow\" rel=\"external nofollow\" rel=\"stylesheet\"&gt; &lt;% &#125; %&gt; &lt;!-- ä½¿ç”¨CDNçš„JSæ–‡ä»¶ --&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp; htmlWebpackPlugin.options.cdn.js) &#123; %&gt; &lt;link href=\"&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;\" rel=\"external nofollow\" rel=\"preload\" as=\"script\"&gt; &lt;% &#125; %&gt; &lt;/head&gt; &lt;body&gt; &lt;noscript&gt; &lt;strong&gt;We're sorry but åå°ç®¡ç†ç³»ç»Ÿ doesn't work properly without JavaScript enabled. Please enable it to continue.&lt;/strong&gt; &lt;/noscript&gt; &lt;div id=\"app\"&gt;&lt;/div&gt; &lt;!-- built files will be auto injected --&gt; &lt;!-- ä½¿ç”¨CDNçš„JSæ–‡ä»¶ --&gt; &lt;% for (var i in htmlWebpackPlugin.options.cdn &amp;&amp; htmlWebpackPlugin.options.cdn.js) &#123; %&gt; &lt;script src=\"&lt;%= htmlWebpackPlugin.options.cdn.js[i] %&gt;\"&gt;&lt;/script&gt; &lt;% &#125; %&gt; &lt;/body&gt;&lt;/html&gt; å…³äºvue-cli3çƒ­æ›´æ–°å¤±æ•ˆçš„ åªéœ€è¦æŠŠcssåˆ†ç¦»æ’ä»¶ æ³¨é‡Šæ‰ ä¾¿å¯è§£å†³css: { extract: true} é™„ä¸Švue-cli3 vue.config.js å®Œæ•´é…ç½®123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184const path = require('path');// const vConsolePlugin = require('vconsole-webpack-plugin'); // å¼•å…¥ ç§»åŠ¨ç«¯æ¨¡æ‹Ÿå¼€å‘è€…å·¥å…· æ’ä»¶ ï¼ˆå¦ï¼šhttps://github.com/liriliri/erudaï¼‰// const CompressionPlugin = require('compression-webpack-plugin'); //Gzip// const BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin; //WebpackåŒ…æ–‡ä»¶åˆ†æå™¨// const baseUrl = process.env.NODE_ENV === \"production\" ? \"/static/\" : \"/\"; //font scssèµ„æºè·¯å¾„ ä¸åŒç¯å¢ƒåˆ‡æ¢æ§åˆ¶const UglifyJsPlugin = require('uglifyjs-webpack-plugin');function resolve(dir) &#123; return path.join(__dirname, dir);&#125;const date = new Date()const appendPath = `$&#123;date.getFullYear()&#125;/$&#123;date.getMonth() + 1&#125;/$&#123;date.getDate()&#125;/`const cdn = &#123; css: [ 'https://cdn.xxxx.com/cdn/element-ui/2.7.0/index.css', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.snow.min.css', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.core.min.css', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.bubble.min.css', ], js: [ 'https://cdn.xxxx.com/cdn/vue/2.6.10/vue.min.js', 'https://cdn.xxxx.com/cdn/element-ui/2.7.0/index.js', 'https://cdn.xxxx.com/cdn/vue-router/3.0.2/vue-router.min.js', 'https://cdn.xxxx.com/cdn/moment/2.6.10/moment.min.js', 'https://cdn.xxxx.com/cdn/vuex/3.1.0/vuex.min.js', 'https://cdn.xxxx.com/cdn/vue-i18n/8.9.0/vue-i18n.min.js', 'https://cdn.xxxx.com/cdn/lodash/4.17.11/lodash.min.js', 'https://cdn.xxxx.com/cdn/antv-g2/3.4.10/g2.min.js', 'https://cdn.xxxx.com/cdn/axios/0.18.0/axios.min.js', 'https://cdn.xxxx.com/cdn/quill/1.3.6/quill.min.js', ]&#125;module.exports = &#123; //åŸºæœ¬è·¯å¾„ publicPath baseUrl publicPath: process.env.NODE_ENV === 'production' &amp;&amp; process.env.APP_PATH ? process.env.APP_PATH + appendPath : '/', indexPath: './index.html', //è¾“å‡ºæ–‡ä»¶ç›®å½• outputDir: './dist', // eslint-loader æ˜¯å¦åœ¨ä¿å­˜çš„æ—¶å€™æ£€æŸ¥ lintOnSave: false, // lintOnSave: process.env.NODE_ENV !== 'production', //æ”¾ç½®ç”Ÿæˆçš„é™æ€èµ„æº (jsã€cssã€imgã€fonts) çš„ (ç›¸å¯¹äº outputDir çš„) ç›®å½•ã€‚ assetsDir: 'static', //ä»¥å¤šé¡µæ¨¡å¼æ„å»ºåº”ç”¨ç¨‹åºã€‚ pages: undefined, //æ˜¯å¦ä½¿ç”¨åŒ…å«è¿è¡Œæ—¶ç¼–è¯‘å™¨çš„ Vue æ„å»ºç‰ˆæœ¬ runtimeCompiler: false, //æ˜¯å¦ä¸º Babel æˆ– TypeScript ä½¿ç”¨ thread-loaderã€‚è¯¥é€‰é¡¹åœ¨ç³»ç»Ÿçš„ CPU æœ‰å¤šäºä¸€ä¸ªå†…æ ¸æ—¶è‡ªåŠ¨å¯ç”¨ï¼Œä»…ä½œç”¨äºç”Ÿäº§æ„å»ºï¼Œåœ¨é€‚å½“çš„æ—¶å€™å¼€å¯å‡ ä¸ªå­è¿›ç¨‹å»å¹¶å‘çš„æ‰§è¡Œå‹ç¼© parallel: require('os').cpus().length &gt; 1, //ç”Ÿäº§ç¯å¢ƒæ˜¯å¦ç”Ÿæˆ sourceMap æ–‡ä»¶ï¼Œä¸€èˆ¬æƒ…å†µä¸å»ºè®®æ‰“å¼€ productionSourceMap: false, // webpacké…ç½® //å¯¹å†…éƒ¨çš„ webpack é…ç½®è¿›è¡Œæ›´ç»†ç²’åº¦çš„ä¿®æ”¹ https://github.com/neutrinojs/webpack-chain see https://github.com/vuejs/vue-cli/blob/dev/docs/webpack.md chainWebpack: config =&gt; &#123; /** * åˆ é™¤æ‡’åŠ è½½æ¨¡å—çš„prefetchï¼Œé™ä½å¸¦å®½å‹åŠ› * https://cli.vuejs.org/zh/guide/html-and-static-assets.html#prefetch * è€Œä¸”é¢„æ¸²æŸ“æ—¶ç”Ÿæˆçš„prefetchæ ‡ç­¾æ˜¯modernç‰ˆæœ¬çš„ï¼Œä½ç‰ˆæœ¬æµè§ˆå™¨æ˜¯ä¸éœ€è¦çš„ */ config.plugins.delete('prefetch'); if (process.env.NODE_ENV === 'production') &#123; // ä¸ºç”Ÿäº§ç¯å¢ƒä¿®æ”¹é…ç½®...process.env.NODE_ENV !== 'development' config.plugin('html') .tap(args =&gt; &#123; args[0].cdn = cdn; return args; &#125;) &#125; config.resolve.alias .set(\"vue$\", \"vue/dist/vue.esm.js\") .set(\"@\", resolve(\"src\")) .set(\"src\", resolve(\"src\")) .set(\"assets\", resolve(\"src/assets\")) .set(\"components\", resolve(\"src/components\")) .set(\"pages\", resolve(\"src/pages\")) .set(\"base\", resolve(\"src/components/base\")) .set(\"Common\", resolve(\"src/components/Common\")); &#125;, //è°ƒæ•´ webpack é…ç½® https://cli.vuejs.org/zh/guide/webpack.html#%E7%AE%80%E5%8D%95%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%B9%E5%BC%8F configureWebpack: config =&gt; &#123; if (process.env.NODE_ENV === 'production') &#123; config.externals = &#123; 'vue': 'Vue', 'vue-router': 'VueRouter', 'moment': 'moment', 'vuex': 'Vuex', 'element-ui': 'ELEMENT', 'lodash': '_', 'vue-i18n': 'VueI18n', '@antv/g2': 'G2_3', 'axios': 'axios', 'quill': 'Quill', &#125; // ä»¥åŠä¿®æ”¹ public/index.html &#125; //ç”Ÿäº§andæµ‹è¯•ç¯å¢ƒ let pluginsPro = [ // new CompressionPlugin(&#123; //æ–‡ä»¶å¼€å¯Gzipï¼Œä¹Ÿå¯ä»¥é€šè¿‡æœåŠ¡ç«¯(å¦‚ï¼šnginx)(https://github.com/webpack-contrib/compression-webpack-plugin) // filename: '[path].gz[query]', // algorithm: 'gzip', // // test: new RegExp('\\\\.(' + ['js', 'css'].join('|') + ')$',), // test: new RegExp('\\\\.(js|css)$',), // threshold: 8192, // minRatio: 0.8, // &#125;), // WebpackåŒ…æ–‡ä»¶åˆ†æå™¨(https://github.com/webpack-contrib/webpack-bundle-analyzer) // new BundleAnalyzerPlugin(), // æ·»åŠ è‡ªå®šä¹‰ä»£ç å‹ç¼©é…ç½® å‹ç¼©å½±å“æ‰“åŒ…é€Ÿåº¦,å¢åŠ è®¿é—®é€Ÿåº¦ new UglifyJsPlugin(&#123; uglifyOptions: &#123; compress: &#123; warnings: false, drop_debugger: true, drop_console: true, &#125;, &#125;, sourceMap: false, parallel: true, &#125;) ]; //å¼€å‘ç¯å¢ƒ /*let pluginsDev = [ //ç§»åŠ¨ç«¯æ¨¡æ‹Ÿå¼€å‘è€…å·¥å…·(https://github.com/diamont1001/vconsole-webpack-plugin https://github.com/Tencent/vConsole) new vConsolePlugin(&#123; filter: [], // éœ€è¦è¿‡æ»¤çš„å…¥å£æ–‡ä»¶ enable: true // å‘å¸ƒä»£ç å‰è®°å¾—æ”¹å› false &#125;), ];*/ if (process.env.NODE_ENV === 'production') &#123; config.plugins = [...config.plugins, ...pluginsPro]; &#125; else &#123; // ä¸ºå¼€å‘ç¯å¢ƒä¿®æ”¹é…ç½®... // config.plugins = [...config.plugins, ...pluginsDev]; &#125; &#125;, css: &#123; // å¯ç”¨ CSS modules modules: false, // æ˜¯å¦ä½¿ç”¨cssåˆ†ç¦»æ’ä»¶ æ³¨é‡‹æ‰ è§£å†³çƒ­æ›´æ–°å¤±æ•ˆé—®é¢˜ // extract: true, // å¼€å¯ CSS source mapsï¼Œä¸€èˆ¬ä¸å»ºè®®å¼€å¯ sourceMap: false, // cssé¢„è®¾å™¨é…ç½®é¡¹ loaderOptions: &#123; sass: &#123; //è®¾ç½®cssä¸­å¼•ç”¨æ–‡ä»¶çš„è·¯å¾„ï¼Œå¼•å…¥é€šç”¨ä½¿ç”¨çš„scssæ–‡ä»¶ï¼ˆå¦‚åŒ…å«çš„@mixinï¼‰ data: `$baseUrl:\"/\";` // @import '@/assets/scss/_common.scss'; //data: `$baseUrl: \"/\";` &#125; &#125; &#125;,// webpack-dev-server ç›¸å…³é…ç½® https://webpack.js.org/configuration/dev-server/ devServer: &#123; host: \"0.0.0.0\", //localhost port: 8910, // ç«¯å£å· https: false, // https:&#123;type:Boolean&#125; open: false, // é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ hotOnly: true, // çƒ­æ›´æ–° // proxy: 'http://localhost:8000' // é…ç½®è·¨åŸŸå¤„ç†,åªæœ‰ä¸€ä¸ªä»£ç† /*proxy: &#123; //é…ç½®è‡ªåŠ¨å¯åŠ¨æµè§ˆå™¨ \"/rest/!*\": &#123; target: \"http://172.16.1.12:7071\", changeOrigin: true, // ws: true,//websocketæ”¯æŒ secure: false &#125; &#125;*/ &#125;,// ç¬¬ä¸‰æ–¹æ’ä»¶é…ç½® https://www.npmjs.com/package/vue-cli-plugin-style-resources-loader pluginOptions: &#123; 'style-resources-loader': &#123;//https://github.com/yenshih/style-resources-loader preProcessor: 'scss',//å£°æ˜ç±»å‹ 'patterns': [ //path.resolve(__dirname, './src/assets/scss/_common.scss'), ], //injector: 'append' &#125; &#125;&#125;;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"vueå¼•å…¥å¤–éƒ¨js","slug":"vueå¼•å…¥å¤–éƒ¨js","date":"2019-01-24T02:26:18.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2019/01/24/vueå¼•å…¥å¤–éƒ¨js/","link":"","permalink":"https://xiaojw.xyz/2019/01/24/vueå¼•å…¥å¤–éƒ¨js/","excerpt":"","text":".vueæ–‡ä»¶12345678910111213&lt;template&gt; &lt;div&gt; &lt;remote-script src=&quot;http://vip.niukewang.com/static/niu/js/ksbaoname.js&quot;&gt;&lt;/remote-script&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; mounted() &#123; // å¤–éƒ¨jsé‡Œçš„å˜é‡ console.log(listlei) &#125; &#125;&lt;/script&gt; main.js123456789101112131415161718192021222324252627282930313233// å¯¼å…¥å¤–éƒ¨jsimport Vue from 'vue' Vue.component('remote-script', &#123; render: function (createElement) &#123; var self = this; return createElement('script', &#123; attrs: &#123; type: 'text/javascript', src: this.src &#125;, on: &#123; load: function (event) &#123; self.$emit('load', event); &#125;, error: function (event) &#123; self.$emit('error', event); &#125;, readystatechange: function (event) &#123; if (this.readyState == 'complete') &#123; self.$emit('load', event); &#125; &#125; &#125; &#125;); &#125;, props: &#123; src: &#123; type: String, required: true &#125; &#125;&#125;); æ–‡ä»¶è½¬è½½è‡ªvue å¼•å…¥å¤–éƒ¨jsæ–‡ä»¶ - é…ç½®component","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"vue-element-æ§åˆ¶å­—æ®µæ’åºä¸æ˜¾ç¤ºå°ç»„ä»¶","slug":"vue-element-æ§åˆ¶å­—æ®µæ’åºä¸æ˜¾ç¤ºå°ç»„ä»¶","date":"2019-01-04T07:32:38.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2019/01/04/vue-element-æ§åˆ¶å­—æ®µæ’åºä¸æ˜¾ç¤ºå°ç»„ä»¶/","link":"","permalink":"https://xiaojw.xyz/2019/01/04/vue-element-æ§åˆ¶å­—æ®µæ’åºä¸æ˜¾ç¤ºå°ç»„ä»¶/","excerpt":"","text":"æ•ˆæœ ä»£ç table-column.vue12345678910111213141516171819202122&lt;template&gt; &lt;div&gt; &lt;el-table-column v-if=&quot;selection&quot; type=&quot;selection&quot; width=&quot;50&quot; fixed=&quot;left&quot;&gt;&lt;/el-table-column&gt; &lt;el-table-column v-for=&quot;(item,index) in list&quot; v-if=&quot;item.show&quot; :prop=&quot;item.prop&quot; :label=&quot;item.label&quot; :min-width=&quot;item.width&quot; :fixed=&quot;index===0&quot;&gt; &lt;template scope=&quot;scope&quot;&gt; &lt;div v-if=&quot;item.prop===&apos;rz&apos;&quot; :style=&quot;&#123;minWidth:item.width&#125;&quot;&gt; &lt;/div&gt; &lt;div v-else :style=&quot;&#123;minWidth:item.width&#125;&quot;&gt;&#123;&#123;scope.row[item.prop]&#125;&#125;&lt;/div&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; export default &#123; props: &#123; list: Array, selection: Boolean &#125; &#125;&lt;/script&gt; common.js 123456789101112131415161718192021222324let data = []switch (this.$route.path) &#123; case '/order/inquiry': data = [ &#123; list: [ &#123;prop: 'name', label: 'å§“å', width: '100', show: true&#125;, &#123;prop: 'phone', label: 'æ‰‹æœºå·', width: '150', show: true&#125; ], title: 'å…¨éƒ¨', vision: '1' &#125;, &#123; list: [ &#123;prop: 'name', label: 'å§“å', width: '100', show: true&#125;, &#123;prop: 'status', label: 'çŠ¶æ€', width: '150', show: true&#125; ], title: 'æœªå¤„ç†', vision: '1' &#125; ] break; &#125;this.$emit('getShowContentListChange', data); å­—æ®µæ˜¾ç¤ºç¼–è¾‘ç»„ä»¶order-setting.vue ä½¿ç”¨æ’ä»¶ vuedraggable123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218&lt;template&gt; &lt;div class=&quot;order-setting&quot;&gt; &lt;div class=&quot;inner-order-setting&quot; v-if=&quot;$route.path.includes(&apos;order&apos;)&amp;&amp;!$route.path.includes(&apos;detail&apos;)&quot;&gt; &lt;span style=&quot;color: #999;font-size: 16px;&quot;&gt;æ˜¾ç¤ºå­—æ®µ&lt;/span&gt; &lt;i class=&quot;icon fa fa-cog&quot; style=&quot;color: #999;font-size: 20px&quot; @click=&quot;dialog=true&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;el-dialog size=&quot;tiny&quot; title=&quot;æ˜¾ç¤ºå­—æ®µ&quot; :visible.sync=&quot;dialog&quot;&gt; &lt;div class=&quot;dialog-order-setting&quot;&gt; &lt;el-row type=&quot;flex&quot; justify=&quot;space-around&quot;&gt; &lt;el-col :span=&quot;14&quot;&gt; &lt;div class=&quot;main-title&quot;&gt;åŸºç¡€ä¿¡æ¯&lt;/div&gt; &lt;hr class=&quot;long-one m-b-10&quot;&gt; &lt;el-checkbox :indeterminate=&quot;isIndeterminate&quot; v-model=&quot;checkAll&quot; @change=&quot;handleCheckAllChange&quot;&gt;å…¨é€‰ &lt;/el-checkbox&gt; &lt;div v-for=&quot;(outerItem,index) in showContentListArr&quot;&gt; &lt;hr class=&quot;one m-t-20 m-b-20&quot; v-if=&quot;index&gt;=1&quot;&gt; &lt;!--:label=&quot;`$&#123;item.index&#125;-$&#123;item.prop&#125;`&quot;--&gt; &lt;div&gt;&#123;&#123;outerItem.title&#125;&#125;&lt;/div&gt; &lt;el-checkbox @change=&quot;handleCheckedChange&quot; v-for=&quot;(item,index) in outerItem.list&quot; v-model=&quot;item.show&quot; :key=&quot;index&quot;&gt;&#123;&#123;item.label&#125;&#125; &lt;/el-checkbox&gt; &lt;/div&gt; &lt;/el-col&gt; &lt;el-col :span=&quot;10&quot;&gt; &lt;span class=&quot;main-title&quot; style=&quot;color: red;&quot;&gt;ç¼–è¾‘é¡ºåº&lt;/span&gt; &lt;hr class=&quot;long-one m-b-10&quot;&gt; &lt;el-radio-group v-model=&quot;active&quot; @change=&quot;activeChange&quot;&gt; &lt;el-radio :label=&quot;index&quot; v-for=&quot;(outerItem,index) in contentList&quot;&gt;&#123;&#123;outerItem.title&#125;&#125; &lt;/el-radio&gt; &lt;/el-radio-group&gt; &lt;draggable v-model=&quot;showContentList&quot; class=&quot;co-draggable&quot; :options=&quot;&#123;group:&apos;people&apos;&#125;&quot; @end=&quot;onSortStart($event,showContentList)&quot;&gt; &lt;transition-group&gt; &lt;div v-for=&quot;(item,index) in showContentList&quot; :key=&quot;index.toString()&quot; v-if=&quot;item.show&quot;&gt; &#123;&#123;item.label&#125;&#125; &lt;i @click=&quot;delTap(index)&quot; class=&quot;el-icon-close&quot;&gt;&lt;/i&gt; &lt;/div&gt; &lt;/transition-group&gt; &lt;/draggable&gt; &lt;/el-col&gt; &lt;/el-row&gt; &lt;/div&gt; &lt;div slot=&quot;footer&quot; class=&quot;dialog-footer&quot;&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;save&quot;&gt;ä¿å­˜&lt;/el-button&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;reset&quot;&gt;é‡ç½®&lt;/el-button&gt; &lt;el-button type=&quot;primary&quot; @click=&quot;dialog=false&quot;&gt;å–æ¶ˆ&lt;/el-button&gt; &lt;/div&gt; &lt;/el-dialog&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt; import draggable from &quot;vuedraggable&quot;; import &#123;mapGetters, mapMutations&#125; from &quot;vuex&quot;; export default &#123; components: &#123; draggable &#125;, props: &#123; contentList: &#123; type: [Array, Object], default() &#123; return []; &#125; &#125; &#125;, data() &#123; return &#123; dialog: false, showContentList: [], showContentListArr: [], checkAll: false, isIndeterminate: true, active: 0, &#125;; &#125;, methods: &#123; onSortStart(to, arr) &#123; this.showContentListArr[this.active].list = arr &#125;, save() &#123; const obj = Object.assign(&#123;&#125;, this.getShowContentList, &#123; [this.$route.path]: this.showContentListArr &#125;); this.dialog = false; this.setShowContentList(obj); // åˆ·æ–°é¡µé¢ this.$router.go(0) æœ€å¥½æ˜¯è½¬è·³åˆ°ä¸€ä¸ªåˆ·æ–°ç»„ä»¶ router.replace(&#123;path: &apos;/refresh&apos;, query: &#123;path&#125;&#125;) åœ¨ç”¨ç»„ä»¶é‡Œæ‰§è¡Œ router.replace(&#123;path: this.$route.query.path&#125;) &#125;, reset() &#123; this.clearShowContentList(); this.$router.go(0) &#125;, changeShowContent() &#123; if (this.$route.path.includes(&quot;order&quot;)) &#123; if (this.getShowContentList &amp;&amp; this.getShowContentList[this.$route.path]) &#123; // å½“å­—æ®µæ›´æ–°æ—¶ vision éœ€è¦ä¿®æ”¹å’Œä¹‹å‰ä¸ä¸€æ ·çš„å€¼ ç¼“å­˜çš„å€¼æ‰ä¼šé‡æ–°èµ‹å€¼ if (this.getShowContentList[this.$route.path].length !== this.contentList.length) &#123; // é‡æ–°ä¿å­˜ console.log(&apos;é‡æ–°ä¿å­˜&apos;) this.showContentListArr = this.contentList this.save() return false &#125; else &#123; for (let i = 0; i &lt; this.contentList.length; i++) &#123; if (this.contentList[i].list.length !== this.getShowContentList[this.$route.path][i].list.length|| this.contentList[i].vision!==this.getShowContentList[this.$route.path][i].vision) &#123; // é‡æ–°ä¿å­˜ console.log(&apos;é‡æ–°ä¿å­˜&apos;) this.showContentListArr = this.contentList this.save() return false &#125; &#125; &#125; &#125; this.showContentListArr = this.getShowContentList &amp;&amp; this.getShowContentList[this.$route.path] ? this.getShowContentList[this.$route.path] : this.contentList this.showContentList = this.showContentListArr[this.active].list // console.log(this.showContentListArr) this.$emit(&quot;onSubmit&quot;, this.showContentListArr); &#125; &#125;, activeChange(active) &#123; this.showContentList = this.showContentListArr[active].list // console.log(this.showContentList) &#125;, handleCheckAllChange(val) &#123; for (let i = 0; i &lt; this.showContentListArr.length; i++) &#123; this.showContentListArr[i].list.forEach((item) =&gt; &#123; item.show = val &#125;) &#125; this.showContentList = this.showContentListArr[this.active].list this.isIndeterminate = false &#125;, handleCheckedChange(value) &#123; let isCheckAll = false let num = 0, total = 0 here: for (let i = 0; i &lt; this.showContentListArr.length; i++) &#123; for (let n = 0; n &lt; this.showContentListArr[i].list.length; n++) &#123; if (num &gt; 0 &amp;&amp; num &lt; total) &#123; break here; &#125; let item = this.showContentListArr[i].list[n] if (item.show) &#123; isCheckAll = true num++ &#125; total++ &#125; &#125; this.checkAll = isCheckAll; this.isIndeterminate = num &gt; 0 &amp;&amp; num &lt; total; &#125;, delTap(index) &#123; this.showContentList[index].show = false; &#125;, ...mapMutations(&#123; setShowContentList: &quot;setShowContentList&quot;, clearShowContentList: &quot;clearShowContentList&quot;, &#125;) &#125;, computed: &#123; ...mapGetters([&quot;getShowContentList&quot;]) &#125;, created() &#123; // setTimeout(() =&gt; &#123; this.changeShowContent(); this.handleCheckedChange() // &#125;, 0); &#125;, watch: &#123; contentList() &#123; this.changeShowContent(); &#125; &#125; &#125;;&lt;/script&gt;&lt;style&gt; .dialog-order-setting .el-checkbox &#123; margin-left: 0; margin-right: 30px; width: 100px; &#125; .dialog-order-setting .el-radio &#123; width: 100px; margin: 0 30px 10px 0; &#125; .co-draggable div &#123; padding: 6px 20px; cursor: all-scroll; border: 1px solid #e6e6e6; margin-bottom: 8px; border-radius: 4px; color: #363b42; &#125; .co-draggable div i &#123; float: right; color: #266298; font-size: 18px; vertical-align: middle; cursor: pointer; &#125;&lt;/style&gt; vuex getting.js123456const getters = &#123; getShowContentList: state =&gt; state.showContentList&#125;export default getters vuex mutations.js ä½¿ç”¨æ’ä»¶ Lockr123456789101112131415import Lockr from 'lockr'const mutations = &#123; setShowContentList(state, showContentList) &#123; if (showContentList) &#123; state.showContentList = showContentList; Lockr.set('showContentList', showContentList) &#125; &#125;, clearShowContentList(state) &#123; state.showContentList = null; Lockr.rm('showContentList') &#125;,&#125;export default mutations vuex state.js123456import Lockr from 'lockr'const state = &#123; showContentList: Lockr.get('showContentList') || []&#125;export default state ä½¿ç”¨çš„åœ°æ–¹1234567891011121314151617181920212223&lt;template&gt; &lt;div&gt; &lt;el-table :data=&quot;tableData&quot; style=&quot;width: 100%&quot; stripe&gt; &lt;table-column :selection=&quot;true&quot; :list=&quot;showContentList[0].list&quot;&gt;&lt;/table-column&gt; &lt;el-table-column label=&quot;æ“ä½œ&quot; width=&quot;80&quot; fixed=&quot;right&quot;&gt; &lt;template scope=&quot;scope&quot;&gt; &lt;/template&gt; &lt;/el-table-column&gt; &lt;/el-table&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import tableColumn from &apos;common/table-column&apos;export default &#123; props: [&apos;showContentList&apos;], data()&#123; return &#123; tableData:[] &#125; &#125;&#125;&lt;/script&gt;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"gitçš„é—®é¢˜è§£å†³æ–¹æ³•","slug":"gitçš„é—®é¢˜è§£å†³æ–¹æ³•","date":"2018-11-08T02:10:36.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/11/08/gitçš„é—®é¢˜è§£å†³æ–¹æ³•/","link":"","permalink":"https://xiaojw.xyz/2018/11/08/gitçš„é—®é¢˜è§£å†³æ–¹æ³•/","excerpt":"","text":"æ­£å¸¸æäº¤æ–‡ä»¶12345git init (ç¬¬ä¸€æ¬¡éœ€è¦)git add . (./è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶ å¯æŒ‡å®šæ–‡ä»¶å¤¹/æ–‡ä»¶)git remote add origin git@github.com:xxxxgit.git (ç¬¬ä¸€æ¬¡éœ€è¦)(sshé“¾æ¥ä¸Šä¼ ä»£ç å¤§å°æ²¡æœ‰é™åˆ¶)git commit -m\"xxxx\"git push -u origin master /git push origin master ä¸æ­£å¸¸æäº¤æ–‡ä»¶git push ä¸ä¸Šå»,å› ä¸ºè¿œç¨‹ä»“åº“æœ‰ä¿®æ”¹ä½†æœ¬åœ°æ²¡æœ‰æ‹‰å–git stash ä»‹ç»123git stash /git stash save \"info\" // å°†æ–‡ä»¶ä¿å­˜åˆ°æš‚å­˜åŒºgit stash list // æŸ¥çœ‹æš‚å­˜åŒºåˆ—è¡¨git stash pop å°†æš‚å­˜åŒºçš„å†…å®¹å¼¹å‡º,å¹¶åº”ç”¨åˆ°å½“å‰åˆ†æ”¯å¯¹åº”çš„å·¥ä½œç›®å½•ä¸Š. â€“rebase ä»‹ç»å‘Šè¯‰GitæŠŠå°çº¢çš„æäº¤ç§»åˆ°åŒæ­¥äº†ä¸­å¤®ä»“åº“ä¿®æ”¹åçš„masteråˆ†æ”¯çš„é¡¶éƒ¨ è§£å†³112git pull --rebase origin master // æ‹‰å–è¿œç¨‹ä»“åº“æ–‡ä»¶å¹¶æŠŠæœ¬åœ°ä¿®æ”¹çš„æ–‡ä»¶ç½®åˆ†æ”¯é¡¶éƒ¨git push origin master rebaseæ“ä½œè¿‡ç¨‹æ˜¯æŠŠæœ¬åœ°æäº¤ä¸€æ¬¡ä¸€ä¸ªåœ°è¿ç§»åˆ°æ›´æ–°äº†çš„ä¸­å¤®ä»“åº“masteråˆ†æ”¯ä¹‹ä¸Šã€‚ è¿™æ„å‘³ç€å¯èƒ½è¦è§£å†³åœ¨è¿ç§»æŸä¸ªæäº¤æ—¶å‡ºç°çš„åˆå¹¶å†²çªï¼Œè€Œä¸æ˜¯è§£å†³åŒ…å«äº†æ‰€æœ‰æäº¤çš„å¤§å‹åˆå¹¶æ—¶æ‰€å‡ºç°çš„å†²çªã€‚ è¿™æ ·çš„æ–¹å¼è®©ä½ å°½å¯èƒ½ä¿æŒæ¯ä¸ªæäº¤çš„èšç„¦å’Œé¡¹ç›®å†å²çš„æ•´æ´ã€‚åè¿‡æ¥ï¼Œç®€åŒ–äº†å“ªé‡Œå¼•å…¥Bugçš„åˆ†æï¼Œå¦‚æœæœ‰å¿…è¦ï¼Œå›æ»šä¿®æ”¹ä¹Ÿå¯ä»¥åšåˆ°å¯¹é¡¹ç›®å½±å“æœ€å°ã€‚ å¦‚æœå°çº¢å’Œå°æ˜çš„åŠŸèƒ½æ˜¯ä¸ç›¸å…³çš„ï¼Œä¸å¤§å¯èƒ½åœ¨rebaseè¿‡ç¨‹ä¸­æœ‰å†²çªã€‚å¦‚æœæœ‰ï¼ŒGitåœ¨åˆå¹¶æœ‰å†²çªçš„æäº¤å¤„æš‚åœrebaseè¿‡ç¨‹ï¼Œè¾“å‡ºä¸‹é¢çš„ä¿¡æ¯å¹¶å¸¦ä¸Šç›¸å…³çš„æŒ‡ä»¤ï¼š CONFLICT (content): Merge conflict in &lt;some-file&gt; git status å‘½ä»¤æ¥æŸ¥çœ‹å“ªé‡Œæœ‰é—®é¢˜æ¥ç€å°çº¢ç¼–è¾‘è¿™äº›æ–‡ä»¶ã€‚ä¿®æ”¹å®Œæˆåï¼Œç”¨è€å¥—è·¯æš‚å­˜è¿™äº›æ–‡ä»¶ï¼Œå¹¶è®©git rebaseå®Œæˆå‰©ä¸‹çš„äº‹ï¼š12345git add &lt;some-file&gt; git rebase --continuegit rebase --abort // å›åˆ°ä½ æ‰§è¡Œgit pull --rebaseå‘½ä»¤å‰çš„æ ·å­ï¼š``` è§£å†³21234git stash save \"info\" // å°†æœ¬æ¬¡ä¿®æ”¹æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒºgit pull --rebase origin master // æ‹‰å–è¿œç¨‹ä»“åº“æ–‡ä»¶å¹¶æŠŠæœ¬åœ°ä¿®æ”¹çš„æ–‡ä»¶ç½®åˆ†æ”¯é¡¶éƒ¨git stash pop // æ”¾å‡ºæš‚å­˜åŒºä¿®æ”¹git push origin master // mastergit stash save â€œinfoâ€ // å°†æœ¬æ¬¡ä¿®æ”¹æ–‡ä»¶æäº¤åˆ°æš‚å­˜åŒºgit checkout devgit stash pop // æ”¾å‡ºæš‚å­˜åŒºä¿®æ”¹ å¼€å‘æ–°åŠŸèƒ½1234git checkout -b marys-feature master// ç›¸å½“äºgit checkout -b marys-featuregit merge master è¿™ä¸ªå‘½ä»¤æ£€å‡ºä¸€ä¸ªåŸºäºmasteråä¸ºmarys-featureçš„åˆ†æ”¯ï¼ŒGitçš„-bé€‰é¡¹è¡¨ç¤ºå¦‚æœåˆ†æ”¯è¿˜ä¸å­˜åœ¨åˆ™æ–°å»ºåˆ†æ”¯ã€‚ è¿™ä¸ªæ–°åˆ†æ”¯ä¸Šï¼Œå°çº¢æŒ‰è€å¥—è·¯ç¼–è¾‘ã€æš‚å­˜å’Œæäº¤ä¿®æ”¹ï¼ŒæŒ‰éœ€è¦æäº¤ä»¥å®ç°åŠŸèƒ½ï¼š git push -u origin marys-feature è¿™æ¡å‘½ä»¤push marys-featureåˆ†æ”¯åˆ°ä¸­å¤®ä»“åº“ï¼ˆoriginï¼‰ï¼Œ-ué€‰é¡¹è®¾ç½®æœ¬åœ°åˆ†æ”¯å»è·Ÿè¸ªè¿œç¨‹å¯¹åº”çš„åˆ†æ”¯ã€‚ è®¾ç½®å¥½è·Ÿè¸ªçš„åˆ†æ”¯åï¼Œå°çº¢å°±å¯ä»¥ä½¿ç”¨git pushå‘½ä»¤çœå»æŒ‡å®šæ¨é€åˆ†æ”¯çš„å‚æ•°ã€‚ 1234git checkout mastergit pullgit pull origin marys-featuregit push åˆå¹¶åˆ†æ”¯12git merge --no-ff dev // ä¸ä½¿ç”¨fast-forwardæ–¹å¼åˆå¹¶ï¼Œä¿ç•™åˆ†æ”¯çš„commitå†å²git merge --squash dev // ä½¿ç”¨squashæ–¹å¼åˆå¹¶ï¼ŒæŠŠå¤šæ¬¡åˆ†æ”¯commitå†å²å‹ç¼©ä¸ºä¸€æ¬¡ ä¹‹åè¦æäº¤ä¸€æ¬¡","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}],"tags":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/tags/å…¶ä»–/"}],"keywords":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}]},{"title":"es6å­¦ä¹ ","slug":"es6å­¦ä¹ ","date":"2018-10-25T02:46:07.000Z","updated":"2019-12-23T02:38:12.408Z","comments":true,"path":"2018/10/25/es6å­¦ä¹ /","link":"","permalink":"https://xiaojw.xyz/2018/10/25/es6å­¦ä¹ /","excerpt":"","text":"es5ç¼ºé™·ä¸es6è§£å†³æ•°ç»„ES5 å†…å»ºçš„forEachæ–¹æ³• ç¼ºé™·ï¼šæ— æ³•ä½¿ç”¨break ä¸­æ–­ ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨return è¯­å¥è¿”å›åˆ°å¤–å±‚å‡½æ•° 1. éå†æ•°ç»„â‘  for forEach123456789var arr = [1,2,3,4,5,6];arr.name = 'a';for (var index = 0; index &lt; arr.length; index++) &#123; console.log(arr[index]);&#125;arr.forEach(function (value) &#123; //ES5 å†…å»ºçš„forEachæ–¹æ³• ç¼ºé™·ï¼šæ— æ³•ä½¿ç”¨break ä¸­æ–­ ï¼Œä¹Ÿä¸èƒ½ä½¿ç”¨return è¯­å¥è¿”å›åˆ°å¤–å±‚å‡½æ•° console.log(value);&#125;);// ç»“æœéƒ½æ˜¯ï¼š1,2,3,4,5,6 â‘¡ ç”¨ for-in ï¼šä½œç”¨äºæ•°ç»„çš„ forfor -in å¾ªç¯ä½“é™¤äº†éå†æ•°ç»„å…ƒç´ å¤–,è¿˜ä¼šéå†è‡ªå®šä¹‰å±æ€§ã€‚æ¯”å¦‚æ•°ç»„æœ‰ä¸€ä¸ªå¯æšä¸¾å±æ€§arr.a,å¾ªç¯å°†é¢å¤–æ‰§è¡Œä¸€æ¬¡1234for (var index in arr) &#123; // åƒä¸‡åˆ«è¿™æ ·åš console.log(arr[index]);&#125;// ç»“æœï¼š1,2,3,4,5,6ï¼Œa for-in æ˜¯ä¸ºæ™®é€šå¯¹è±¡è®¾è®¡çš„ï¼Œèµ‹å€¼ç»™indexçš„å€¼ä¸æ˜¯å®é™…çš„æ•°å­—1ã€2ï¼Œè€Œæ˜¯å­—ç¬¦ä¸²â€˜1â€™ï¼Œâ€˜2â€™123456var b = 0;for (var index in arr) &#123; b = b+ index; console.log(b)&#125;// ç»“æœï¼š00ï¼Œ001ï¼Œ0012ï¼Œ00123ï¼Œ001234ï¼Œ0012345ï¼Œ0012345name â‘¢ ä½¿ç”¨ for-ofï¼šé¿å¼€äº†for-in çš„æ‰€æœ‰ç¼ºé™·ï¼Œå¯ä»¥æ­£ç¡®å“åº” breakã€return è¯­å¥\\1234for(var value of arr)&#123; console.log(value)&#125;// ç»“æœï¼š1,2,3,4,5,6 2.for-of å¾ªç¯ä¾¿åˆ©å…¶ä»–é›†åˆâ‘  éå†Set12345678var words = 'a';var s = new Set();s.add(\"a\");s.add(1);for(var word of s)&#123; console.log(word);&#125;// ç»“æœï¼šaï¼Œ1 â‘¡ éå†Map123456789var map = new Map();map.set('a',1);map.set('b',2);map.set('c',3);map.set('d',4);for(var [key,value] of map)&#123; console.log(key+':'+value);&#125;// ç»“æœï¼šaï¼š1ï¼Œbï¼š2ï¼Œcï¼š3ï¼Œdï¼š4 3. Iteratorï¼ˆéå†å™¨ï¼‰â‘  éå†å™¨ï¼ˆIteratorï¼‰æ˜¯ä¸€ç§æ¥å£è§„æ ¼ï¼Œä»»ä½•å¯¹è±¡åªè¦éƒ¨ç½²è¿™ä¸ªæ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œã€‚å®ƒçš„ä½œç”¨æœ‰ä¸¤ä¸ªï¼Œä¸€æ˜¯ä¸ºå„ç§æ•°æ®ç»“æ„ï¼Œæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ã€ç®€ä¾¿çš„æ¥å£ï¼ŒäºŒæ˜¯ä½¿å¾—å¯¹è±¡çš„å±æ€§èƒ½å¤ŸæŒ‰æŸç§æ¬¡åºæ’åˆ—ã€‚ â‘¡ éå†å™¨çš„åŸç†ï¼šéå†å™¨æä¾›äº†ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘å½“å‰å¯¹è±¡çš„æŸä¸ªå±æ€§ï¼Œä½¿ç”¨nextæ–¹æ³•ï¼Œå°±å¯ä»¥å°†æŒ‡é’ˆç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå±æ€§ã€‚nextæ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«valueå’Œdoneä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ã€‚å…¶ä¸­ï¼Œvalueå±æ€§æ˜¯å½“å‰éå†ä½ç½®çš„å€¼ï¼Œdoneå±æ€§æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºéå†æ˜¯å¦ç»“æŸã€‚123456789101112131415//æ¨¡æ‹Ÿéå†å™¨åŸç†function makeIterator(array)&#123; var nextIndex = 0; return &#123; next: function()&#123; return nextIndex &lt; array.length ? &#123;value: array[nextIndex++], done: false&#125; : &#123;value: undefined, done: true&#125;; &#125; &#125;&#125;var it = makeIterator(['a', 'b']);console.log(it.next());//&#123; value: 'a', done: false &#125;console.log(it.next());//&#123; value: 'b', done: false &#125;console.log(it.next());//&#123; value: undefined, done: true &#125; â‘¢ Iteratoræ¥å£è¿”å›çš„éå†å™¨ï¼ŒåŸç”Ÿå…·å¤‡nextæ–¹æ³•ã€‚ æœ‰ä¸‰ç±»æ•°æ®ç»“æ„åŸç”Ÿå…·å¤‡Iteratoræ¥å£ï¼šæ•°ç»„ã€ç±»ä¼¼æ•°ç»„çš„å¯¹è±¡ã€Setå’ŒMapç»“æ„ èƒ½è°ƒç”¨éå†å™¨æ¥å£çš„ forâ€¦of Array.from() Map(), Set(), WeakMap(), WeakSet()ï¼ˆæ¯”å¦‚new Map([[â€˜aâ€™,1],[â€˜bâ€™,2]])ï¼‰ Promise.all() Promise.race()123456var map = new Map();console.log(map[Symbol.iterator] === map.entries)//truevar arr = new Array();console.log(arr[Symbol.iterator] === arr.values)//truevar set = new Set();console.log(set[Symbol.iterator] === set.values)//true å…¶ä»–æ•°æ®ç»“æ„ï¼ˆä¸»è¦æ˜¯å¯¹è±¡ï¼‰å¦‚æœéœ€è¦Iteratoræ¥å£,éƒ½éœ€è¦è‡ªå·±éƒ¨ç½²ã€‚123456789101112var students = &#123;&#125;students[Symbol.iterator] = function() &#123; let index = 1; return &#123; next() &#123; return &#123;done: index&gt;10, value: index++&#125; &#125; &#125;&#125;for(var i of students) &#123; console.log(i);&#125;// es6å­—ç¬¦ä¸²çš„æ‰©å±•includes(), startsWith(), endsWith()JavaScript åªæœ‰indexOfæ–¹æ³•ï¼Œå¯ä»¥ç”¨æ¥ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸²æ˜¯å¦åŒ…å«åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚ES6 åˆæä¾›äº†ä¸‰ç§æ–°æ–¹æ³•ã€‚ includes()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦æ‰¾åˆ°äº†å‚æ•°å­—ç¬¦ä¸²ã€‚ ç¬¬äºŒå‚æ•°æ•°å­— è¡¨ç¤ºèµ·å§‹ä½ç½®startsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å¤´éƒ¨ã€‚ ç¬¬äºŒå‚æ•°æ•°å­— è¡¨ç¤ºèµ·å§‹ä½ç½®endsWith()ï¼šè¿”å›å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºå‚æ•°å­—ç¬¦ä¸²æ˜¯å¦åœ¨åŸå­—ç¬¦ä¸²çš„å°¾éƒ¨ã€‚ ç¬¬äºŒå‚æ•°æ•°å­— è¡¨ç¤ºæˆªæ­¢ä½ç½® 12345let s = 'Hello world!';s.startsWith('world', 6); // trues.endsWith('Hello', 5); // trues.includes('Hello', 6); // false repeat()repeatæ–¹æ³•è¿”å›ä¸€ä¸ªæ–°å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†åŸå­—ç¬¦ä¸²é‡å¤næ¬¡ã€‚ 123'x'.repeat(3); // \"xxx\"'hello'.repeat(2); // \"hellohello\"'na'.repeat(0); // \"\" æ­£å°æ•°,å‘ä¸‹å–æ•´0- -1å°æ•° ä¸º -0 è§†ä¸º 0 å‚æ•°å­—ç¬¦ä¸²,NaN ä¼šä¼˜å…ˆè½¬ä¸ºæ•°å­—,è½¬ä¸äº†çš„è¯ ä¸º0 padStart()ï¼ŒpadEnd()12345'x'.padStart(5, 'ab') // 'ababx''x'.padStart(4, 'ab') // 'abax''x'.padEnd(5, 'ab') // 'xabab''x'.padEnd(4, 'ab') // 'xaba' å¦‚æœç”¨æ¥è¡¥å…¨çš„å­—ç¬¦ä¸²ä¸åŸå­—ç¬¦ä¸²ï¼Œä¸¤é•¿åº¦ä¹‹å’Œè¶…è¿‡äº†æŒ‡å®šçš„æœ€å°é•¿åº¦ï¼Œåˆ™ä¼šæˆªå»è¶…å‡ºä½æ•°çš„è¡¥å…¨å­—ç¬¦ä¸²ã€‚ å¦‚æœçœç•¥ç¬¬äºŒä¸ªå‚æ•°ï¼Œé»˜è®¤ä½¿ç”¨ç©ºæ ¼è¡¥å…¨é•¿åº¦ã€‚12345'abc'.padStart(10, '0123456789')// '0123456abc''x'.padStart(4) // ' x''x'.padEnd(4) // 'x ' padStartçš„å¸¸è§ç”¨é€”æ˜¯ä¸ºæ•°å€¼è¡¥å…¨æŒ‡å®šä½æ•°ã€‚ä¸‹é¢ä»£ç ç”Ÿæˆ 10 ä½çš„æ•°å€¼å­—ç¬¦ä¸²ã€‚ å¦ä¸€ä¸ªç”¨é€”æ˜¯æç¤ºå­—ç¬¦ä¸²æ ¼å¼123456'1'.padStart(10, '0') // \"0000000001\"'12'.padStart(10, '0') // \"0000000012\"'123456'.padStart(10, '0') // \"0000123456\"'12'.padStart(10, 'YYYY-MM-DD') // \"YYYY-MM-12\"'09-12'.padStart(10, 'YYYY-MM-DD') // \"YYYY-09-12\" matchAll()matchAllæ–¹æ³•è¿”å›ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å½“å‰å­—ç¬¦ä¸²çš„æ‰€æœ‰åŒ¹é…ï¼Œè¯¦è§ã€Šæ­£åˆ™çš„æ‰©å±•ã€‹çš„ä¸€ç«  æ¨¡æ¿å­—ç¬¦ä¸² ${å˜é‡å}1234let a = 'xiaojw'let b =`æˆ‘æ˜¯$&#123;a&#125;å“Ÿ!`console.log(`å¯ä»¥ç›´æ¥æ¢è¡Œå“Ÿ!`) æ­£åˆ™çš„æ‰©å±•1.RegExp æ„é€ å‡½æ•°1234567// å…è®¸var regex = new RegExp('xyz', 'i');var regex = new RegExp(/xyz/i);// ç­‰ä»·äºvar regex = /xyz/i;// es5ä¸å…è®¸ es6å…è®¸var regex = new RegExp(/xyz/, 'i'); 2.å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•å­—ç¬¦ä¸²å¯¹è±¡å…±æœ‰ 4 ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼šmatch()ã€replace()ã€search()å’Œsplit()ã€‚ 3.uä¿®é¥°ç¬¦ES6 å¯¹æ­£åˆ™è¡¨è¾¾å¼æ·»åŠ äº†uä¿®é¥°ç¬¦ï¼Œå«ä¹‰ä¸ºâ€œUnicode æ¨¡å¼â€ï¼Œç”¨æ¥æ­£ç¡®å¤„ç†å¤§äº\\uFFFFçš„ Unicode å­—ç¬¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¼šæ­£ç¡®å¤„ç†å››ä¸ªå­—èŠ‚çš„ UTF-16 ç¼–ç  12345678910111213141516171819202122232425262728293031323334// ç‚¹å­—ç¬¦var s = 'ğ ®·';/^.$/.test(s); // false/^.$/u.test(s); // true// å¦‚æœä¸æ·»åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±ä¼šè®¤ä¸ºå­—ç¬¦ä¸²ä¸ºä¸¤ä¸ªå­—ç¬¦ï¼Œä»è€ŒåŒ¹é…å¤±è´¥ã€‚// 2.Unicode å­—ç¬¦è¡¨ç¤ºæ³•/\\u&#123;61&#125;/.test('a'); // false/\\u&#123;61&#125;/u.test('a'); // true/\\u&#123;20BB7&#125;/u.test('ğ ®·'); // true// 3.é‡è¯/a&#123;2&#125;/.test('aa'); // true/a&#123;2&#125;/u.test('aa'); // true/ğ ®·&#123;2&#125;/.test('ğ ®·ğ ®·'); // false/ğ ®·&#123;2&#125;/u.test('ğ ®·ğ ®·'); // true// 4.é¢„å®šä¹‰æ¨¡å¼/^\\S$/.test('ğ ®·'); // false/^\\S$/u.test('ğ ®·'); // true// è¿”å›å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°function codePointLength(text) &#123; var result = text.match(/[\\s\\S]/gu); return result ? result.length : 0;&#125;var s = 'ğ ®·ğ ®·';s.length; // 4codePointLength(s) // 2// 5.i ä¿®é¥°ç¬¦/[a-z]/i.test('\\u212A'); // false/[a-z]/iu.test('\\u212A'); // true 4.RegExp.prototype.unicode å±æ€§12345const r1 = /hello/;const r2 = /hello/u;r1.unicode; // falser2.unicode; // true 5.y ä¿®é¥°ç¬¦yä¿®é¥°ç¬¦ä¸gä¿®é¥°ç¬¦ç±»ä¼¼,å…¨å±€æœç´¢ä½†ä¸gä¸åŒçš„åœ°æ–¹æ˜¯éœ€è¦ä¸¥æ ¼ä»ä¸Šä¸€æ¬¡åŒ¹é…çš„ä½ç½®è¿›è¡Œä¸‹ä¸€æ¬¡åŒ¹é… ä¸”yä¿®é¥°ç¬¦å·éšå«äº†å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^ã€‚123456789var s = 'aaa_aa_a';var r1 = /a+/g;var r2 = /a+/y;r1.exec(s) // [\"aaa\"]r2.exec(s) // [\"aaa\"]r1.exec(s) // [\"aa\"] å‰©ä½™å­—ç¬¦ _aa_ar2.exec(s) // null å‰©ä½™å­—ç¬¦ _aa_a _åŒ¹é…ä¸ä¸Ša 6.RegExp.prototype.sticky å±æ€§ä¸yä¿®é¥°ç¬¦ç›¸åŒ¹é…ï¼ŒES6 çš„æ­£åˆ™å®ä¾‹å¯¹è±¡å¤šäº†stickyå±æ€§ï¼Œè¡¨ç¤ºæ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦ã€‚12var r = /hello\\d/y;r.sticky // true 7.RegExp.prototype.flagsES6 ä¸ºæ­£åˆ™è¡¨è¾¾å¼æ–°å¢äº†flagså±æ€§ï¼Œä¼šè¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦ã€‚ 8.s ä¿®é¥°ç¬¦ï¼šdotAll æ¨¡å¼è¿™è¢«ç§°ä¸ºdotAllæ¨¡å¼ï¼Œå³ç‚¹ï¼ˆdotï¼‰ä»£è¡¨ä¸€åˆ‡å­—ç¬¦ã€‚ä½†æ˜¯æœ‰ä¸¤ä¸ªä¾‹å¤–ã€‚ä¸€ä¸ªæ˜¯å››ä¸ªå­—èŠ‚çš„ UTF-16 å­—ç¬¦ï¼Œè¿™ä¸ªå¯ä»¥ç”¨uä¿®é¥°ç¬¦è§£å†³ï¼›å¦ä¸€ä¸ªæ˜¯è¡Œç»ˆæ­¢ç¬¦ï¼ˆline terminator characterï¼‰ã€‚ 1.U+000A æ¢è¡Œç¬¦ï¼ˆ\\nï¼‰2.U+000D å›è½¦ç¬¦ï¼ˆ\\rï¼‰3.U+2028 è¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰4.U+2029 æ®µåˆ†éš”ç¬¦ï¼ˆparagraph separator æ‰€ä»¥ï¼Œæ­£åˆ™è¡¨è¾¾å¼è¿˜å¼•å…¥äº†ä¸€ä¸ªdotAllå±æ€§ï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦å¤„åœ¨dotAllæ¨¡å¼ã€‚ 9.åè¡Œæ–­è¨€(pattern) ï¼š åŒ¹é… pattern å¹¶è·å–è¿™ä¸€åŒ¹é…ï¼Œæ‰€è·å–çš„åŒ¹é…å¯ä»¥ä»äº§ç”Ÿçš„ Matches é›†åˆå¾—åˆ°ã€‚(?:pattern) ï¼šåŒ¹é… pattern ä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚(?!pattern) ï¼šåŒ¹é… !pattern ä½†ä¸è·å–åŒ¹é…ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¸è¿›è¡Œå­˜å‚¨ä¾›ä»¥åä½¿ç”¨ã€‚(?=pattern) ï¼šæ­£å‘é¢„æŸ¥ï¼Œåœ¨ä»»ä½•åŒ¹é… pattern çš„å­—ç¬¦ä¸²å¼€å§‹å¤„åŒ¹é…æŸ¥æ‰¾å­—ç¬¦ä¸²ã€‚è¿™æ˜¯ä¸€ä¸ªéè·å–åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¯¥åŒ¹é…ä¸éœ€è¦è·å–ä¾›ä»¥åä½¿ç”¨ã€‚é¢„æŸ¥ä¸æ¶ˆè€—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ä¸ªåŒ¹é…å‘ç”Ÿåï¼Œåœ¨æœ€åä¸€æ¬¡åŒ¹é…ä¹‹åç«‹å³å¼€å§‹ä¸‹ä¸€æ¬¡åŒ¹é…çš„æœç´¢ï¼Œè€Œä¸æ˜¯ä»åŒ…å«é¢„æŸ¥çš„å­—ç¬¦ä¹‹åå¼€å§‹ã€‚ (pattern)åŒ¹é…patternå¹¶æ•è·è¯¥åŒ¹é…çš„å­è¡¨è¾¾å¼.å¯ä»¥ä½¿ç”¨ $0â€¦$9å±æ€§ä»ç»“æœâ€åŒ¹é…â€é›†åˆä¸­æ£€ç´¢æ•è·çš„åŒ¹é….è‹¥è¦åŒ¹é…æ‹¬å·å­—ç¬¦(),è¯·ä½¿ç”¨â€â€æˆ–è€…â€â€æˆ–è€…â€â€. (?:pattern)åŒ¹é…patternä½†ä¸æ•è·è¯¥åŒ¹é…çš„å­è¡¨è¾¾å¼,å³å®ƒæ˜¯ä¸€ä¸ªéæ•è·åŒ¹é…,ä¸å­˜å‚¨ä¾›ä»¥åä½¿ç”¨çš„åŒ¹é….è¿™å¯¹äºç”¨â€æˆ–â€å­—ç¬¦(|)ç»„åˆæ¨¡å¼éƒ¨ä»¶çš„æƒ…å†µå¾ˆæœ‰ç”¨. ä¾‹å¦‚,ä¸â€industry|industriesâ€ç›¸æ¯”,â€industr(?:y|ies)â€æ˜¯ä¸€ä¸ªæ›´åŠ ç»æµçš„è¡¨è¾¾å¼. let RegExp = /industr(y|ies)/ // å­˜å‚¨let RegExp1 = /industr(?:y|ies)/ // ?:ä¸å­˜å‚¨let result1 = â€˜industryâ€™.match(RegExp)let result2 = â€˜industriesâ€™.match(RegExp) let result3 = â€˜industryâ€™.match(RegExp1)let result4 = â€˜industriesâ€™.match(RegExp1) (?=pattern)æ‰§è¡Œæ­£å‘é¢„æµ‹å…ˆè¡Œæœç´¢çš„å­è¡¨è¾¾å¼,è¯¥è¡¨è¾¾å¼åŒ¹é…å¤„äºåŒ¹é… pattern çš„å­—ç¬¦ä¸²çš„èµ·å§‹ç‚¹çš„å­—ç¬¦ä¸².å®ƒæ˜¯ä¸€ä¸ªéæ•è·åŒ¹é…,å³ä¸èƒ½æ•è·ä¾›ä»¥åä½¿ç”¨çš„åŒ¹é…. ä¾‹å¦‚,â€Windows (?=95| 98| NT| 2000)â€ä¸â€Windows 2000â€ä¸­çš„â€Windowsâ€åŒ¹é…,ä½†ä¸ä¸â€Windows 3.1â€ä¸­çš„â€Windowsâ€åŒ¹é…. é¢„æµ‹å…ˆè¡Œä¸å ç”¨å­—ç¬¦,å³å‘ç”ŸåŒ¹é…å,ä¸‹ä¸€åŒ¹é…çš„æœç´¢ç´§éšä¸Šä¸€åŒ¹é…ä¹‹å,è€Œä¸æ˜¯åœ¨ç»„æˆé¢„æµ‹å…ˆè¡Œçš„å­—ç¬¦å. (?!pattern)æ‰§è¡Œåå‘é¢„æµ‹å…ˆè¡Œæœç´¢çš„å­è¡¨è¾¾å¼,è¯¥è¡¨è¾¾å¼åŒ¹é…ä¸å¤„äºåŒ¹é… pattern çš„å­—ç¬¦ä¸²çš„èµ·å§‹ç‚¹çš„æœç´¢å­—ç¬¦ä¸².å®ƒæ˜¯ä¸€ä¸ªéæ•è·åŒ¹é…,å³ä¸èƒ½æ•è·ä¾›ä»¥åä½¿ç”¨çš„åŒ¹é…. ä¾‹å¦‚,â€Windows (?!95| 98| NT| 2000)â€ä¸â€Windows 3.1â€ä¸­çš„â€Windowsâ€åŒ¹é…,ä½†ä¸ä¸â€Windows 2000â€ä¸­çš„â€Windowsâ€åŒ¹é…. é¢„æµ‹å…ˆè¡Œä¸å ç”¨å­—ç¬¦,å³å‘ç”ŸåŒ¹é…å,ä¸‹ä¸€åŒ¹é…çš„æœç´¢ç´§éšä¸Šä¸€åŒ¹é…ä¹‹å,è€Œä¸æ˜¯åœ¨ç»„æˆé¢„æµ‹å…ˆè¡Œçš„å­—ç¬¦å. ä½œè€…ï¼šwarmsmellofcolitasæ¥æºï¼šCSDNåŸæ–‡ï¼šhttps://blog.csdn.net/warmsmellofcolitas/article/details/79403706ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·é™„ä¸Šåšæ–‡é“¾æ¥ï¼ 10.Unicode å±æ€§ç±»ES2018 å¼•å…¥äº†ä¸€ç§æ–°çš„ç±»çš„å†™æ³•\\p{â€¦}å’Œ\\P{â€¦}ï¼Œå…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆ Unicode æŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ã€‚12const regexGreekSymbol = /\\p&#123;Script=Greek&#125;/u;regexGreekSymbol.test('Ï€') // true ä¸Šé¢ä»£ç ä¸­ï¼Œ\\p{Script=Greek}æŒ‡å®šåŒ¹é…ä¸€ä¸ªå¸Œè…Šæ–‡å­—æ¯ï¼Œæ‰€ä»¥åŒ¹é…Ï€æˆåŠŸ Unicode å±æ€§ç±»è¦æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼å¯¹äºæŸäº›å±æ€§ï¼Œå¯ä»¥åªå†™å±æ€§åï¼Œæˆ–è€…åªå†™å±æ€§å€¼ã€‚123/\\p&#123;UnicodePropertyName=UnicodePropertyValue&#125;//\\p&#123;UnicodePropertyName&#125;//\\p&#123;UnicodePropertyValue&#125;/ \\P{â€¦}æ˜¯\\p{â€¦}çš„åå‘åŒ¹é…ï¼Œå³åŒ¹é…ä¸æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ã€‚æ³¨æ„ï¼Œè¿™ä¸¤ç§ç±»åªå¯¹ Unicode æœ‰æ•ˆï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚å¦‚æœä¸åŠ uä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨\\på’Œ\\Pä¼šæŠ¥é”™ï¼ŒECMAScript é¢„ç•™äº†è¿™ä¸¤ä¸ªç±»ã€‚ç”±äº Unicode çš„å„ç§å±æ€§éå¸¸å¤šï¼Œæ‰€ä»¥è¿™ç§æ–°çš„ç±»çš„è¡¨è¾¾èƒ½åŠ›éå¸¸å¼º12const regex = /^\\p&#123;Decimal_Number&#125;+$/u;regex.test('ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼'); // true ä¸Šé¢ä»£ç ä¸­ï¼Œå±æ€§ç±»æŒ‡å®šåŒ¹é…æ‰€æœ‰åè¿›åˆ¶å­—ç¬¦ï¼Œå¯ä»¥çœ‹åˆ°å„ç§å­—å‹çš„åè¿›åˆ¶å­—ç¬¦éƒ½ä¼šåŒ¹é…æˆåŠŸã€‚ \\p{Number}ç”šè‡³èƒ½åŒ¹é…ç½—é©¬æ•°å­—ã€‚12345// åŒ¹é…æ‰€æœ‰æ•°å­—const regex = /^\\p&#123;Number&#125;+$/u;regex.test('Â²Â³Â¹Â¼Â½Â¾'); // trueregex.test('ã‰›ã‰œã‰'); // trueregex.test('â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨â…©â…ªâ…«'); // true ä¾‹å­123456789101112131415// åŒ¹é…æ‰€æœ‰ç©ºæ ¼/\\p&#123;White_Space&#125;/// åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰å­—æ¯ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \\w/[\\p&#123;Alphabetic&#125;\\p&#123;Mark&#125;\\p&#123;Decimal_Number&#125;\\p&#123;Connector_Punctuation&#125;\\p&#123;Join_Control&#125;]/// åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰éå­—æ¯çš„å­—ç¬¦ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \\W/[^\\p&#123;Alphabetic&#125;\\p&#123;Mark&#125;\\p&#123;Decimal_Number&#125;\\p&#123;Connector_Punctuation&#125;\\p&#123;Join_Control&#125;]/// åŒ¹é… Emoji/\\p&#123;Emoji_Modifier_Base&#125;\\p&#123;Emoji_Modifier&#125;?|\\p&#123;Emoji_Presentation&#125;|\\p&#123;Emoji&#125;\\uFE0F/gu// åŒ¹é…æ‰€æœ‰çš„ç®­å¤´å­—ç¬¦const regexArrows = /^\\p&#123;Block=Arrows&#125;+$/u;regexArrows.test('â†â†‘â†’â†“â†”â†•â†–â†—â†˜â†™â‡â‡â‡‘â‡’â‡“â‡”â‡•â‡–â‡—â‡˜â‡™â‡§â‡©') // true 11.å…·åç»„åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨åœ†æ‹¬å·è¿›è¡Œç»„åŒ¹é…ã€‚1const RE_DATE = /(\\d&#123;4&#125;)-(\\d&#123;2&#125;)-(\\d&#123;2&#125;)/; ä¸Šé¢ä»£ç ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æœ‰ä¸‰ç»„åœ†æ‹¬å·ã€‚ä½¿ç”¨execæ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿™ä¸‰ç»„åŒ¹é…ç»“æœæå–å‡ºæ¥123456const RE_DATE = /(\\d&#123;4&#125;)-(\\d&#123;2&#125;)-(\\d&#123;2&#125;)/;const matchObj = RE_DATE.exec('1999-12-31');const year = matchObj[1]; // 1999const month = matchObj[2]; // 12const day = matchObj[3]; // 31 ç»„åŒ¹é…çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¯ä¸€ç»„çš„åŒ¹é…å«ä¹‰ä¸å®¹æ˜“çœ‹å‡ºæ¥ï¼Œè€Œä¸”åªèƒ½ç”¨æ•°å­—åºå·ï¼ˆæ¯”å¦‚matchObj[1]ï¼‰å¼•ç”¨ï¼Œè¦æ˜¯ç»„çš„é¡ºåºå˜äº†ï¼Œå¼•ç”¨çš„æ—¶å€™å°±å¿…é¡»ä¿®æ”¹åºå·ã€‚ ES2018 å¼•å…¥äº†å…·åç»„åŒ¹é…ï¼ˆNamed Capture Groupsï¼‰ï¼Œå…è®¸ä¸ºæ¯ä¸€ä¸ªç»„åŒ¹é…æŒ‡å®šä¸€ä¸ªåå­—ï¼Œæ—¢ä¾¿äºé˜…è¯»ä»£ç ï¼Œåˆä¾¿äºå¼•ç”¨ã€‚1234567const RE_DATE = /(?&lt;year&gt;\\d&#123;4&#125;)-(?&lt;month&gt;\\d&#123;2&#125;)-(?&lt;day&gt;\\d&#123;2&#125;)/;const matchObj = RE_DATE.exec('1999-12-31');const year = matchObj.groups.year; // 1999const month = matchObj.groups.month; // 12const day = matchObj.groups.day; // 31// æ•°å­—åºå·ï¼ˆmatchObj[1]ï¼‰ä¾ç„¶æœ‰æ•ˆ æ²¡æœ‰æ‰¾åˆ°åŒ¹é…,å±æ€§å€¼å°±æ˜¯undefined è§£æ„èµ‹å€¼å’Œæ›¿æ¢æœ‰äº†å…·åç»„åŒ¹é…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ç›´æ¥ä»åŒ¹é…ç»“æœä¸Šä¸ºå˜é‡èµ‹å€¼ã€‚123let &#123;groups: &#123;one, two&#125;&#125; = /^(?&lt;one&gt;.*):(?&lt;two&gt;.*)$/u.exec('foo:bar');one // footwo // bar å­—ç¬¦ä¸²æ›¿æ¢æ—¶ï¼Œä½¿ç”¨$&lt;ç»„å&gt;å¼•ç”¨å…·åç»„1234let re = /(?&lt;year&gt;\\d&#123;4&#125;)-(?&lt;month&gt;\\d&#123;2&#125;)-(?&lt;day&gt;\\d&#123;2&#125;)/u;'2015-01-02'.replace(re, '$&lt;day&gt;/$&lt;month&gt;/$&lt;year&gt;')// '02/01/2015' ä¸Šé¢ä»£ç ä¸­ï¼Œreplaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚ replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ï¼Œè¯¥å‡½æ•°çš„å‚æ•°åºåˆ—å¦‚ä¸‹ã€‚123456789101112'2015-01-02'.replace(re, ( matched, // æ•´ä¸ªåŒ¹é…ç»“æœ 2015-01-02 capture1, // ç¬¬ä¸€ä¸ªç»„åŒ¹é… 2015 capture2, // ç¬¬äºŒä¸ªç»„åŒ¹é… 01 capture3, // ç¬¬ä¸‰ä¸ªç»„åŒ¹é… 02 position, // åŒ¹é…å¼€å§‹çš„ä½ç½® 0 S, // åŸå­—ç¬¦ä¸² 2015-01-02 groups // å…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ &#123;year, month, day&#125; ) =&gt; &#123; let &#123;day, month, year&#125; = groups; return `$&#123;day&#125;/$&#123;month&#125;/$&#123;year&#125;`;&#125;); å…·åç»„åŒ¹é…åœ¨åŸæ¥çš„åŸºç¡€ä¸Šï¼Œæ–°å¢äº†æœ€åä¸€ä¸ªå‡½æ•°å‚æ•°ï¼šå…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ã€‚å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼ã€‚ å¼•ç”¨å¦‚æœè¦åœ¨æ­£åˆ™è¡¨è¾¾å¼å†…éƒ¨å¼•ç”¨æŸä¸ªâ€œå…·åç»„åŒ¹é…â€ï¼Œå¯ä»¥ä½¿ç”¨\\k&lt;ç»„å&gt;çš„å†™æ³•ã€‚ 123const RE_TWICE = /^(?&lt;word&gt;[a-z]+)!\\k&lt;word&gt;$/;RE_TWICE.test('abc!abc'); // trueRE_TWICE.test('abc!ab'); // false æ•°å­—å¼•ç”¨ï¼ˆ\\1ï¼‰ä¾ç„¶æœ‰æ•ˆ123const RE_TWICE = /^(?&lt;word&gt;[a-z]+)!\\1$/;RE_TWICE.test('abc!abc'); // trueRE_TWICE.test('abc!ab'); // false è¿™ä¸¤ç§å¼•ç”¨è¯­æ³•è¿˜å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚123const RE_TWICE = /^(?&lt;word&gt;[a-z]+)!\\k&lt;word&gt;!\\1$/;RE_TWICE.test('abc!abc!abc') // trueRE_TWICE.test('abc!abc!ab') // false 12.String.prototype.matchAllå¦‚æœä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²é‡Œé¢æœ‰å¤šä¸ªåŒ¹é…ï¼Œç°åœ¨ä¸€èˆ¬ä½¿ç”¨gä¿®é¥°ç¬¦æˆ–yä¿®é¥°ç¬¦ï¼Œåœ¨å¾ªç¯é‡Œé¢é€ä¸€å–å‡ºã€‚ 123456789101112131415var regex = /t(e)(st(\\d?))/g;var string = 'test1test2test3';var matches = [];var match;while (match = regex.exec(string)) &#123; matches.push(match);&#125;matches// [// [\"test1\", \"e\", \"st1\", \"1\", index: 0, input: \"test1test2test3\"],// [\"test2\", \"e\", \"st2\", \"2\", index: 5, input: \"test1test2test3\"],// [\"test3\", \"e\", \"st3\", \"3\", index: 10, input: \"test1test2test3\"]// ] ä¸Šé¢ä»£ç ä¸­ï¼Œwhileå¾ªç¯å–å‡ºæ¯ä¸€è½®çš„æ­£åˆ™åŒ¹é…ï¼Œä¸€å…±ä¸‰è½®ã€‚ ç›®å‰æœ‰ä¸€ä¸ªææ¡ˆï¼Œå¢åŠ äº†String.prototype.matchAllæ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰åŒ¹é…ã€‚ä¸è¿‡ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨ï¼ˆIteratorï¼‰ï¼Œè€Œä¸æ˜¯æ•°ç»„1234567891011const string = 'test1test2test3';// g ä¿®é¥°ç¬¦åŠ ä¸åŠ éƒ½å¯ä»¥const regex = /t(e)(st(\\d?))/g;for (const match of string.matchAll(regex)) &#123; console.log(match);&#125;// [\"test1\", \"e\", \"st1\", \"1\", index: 0, input: \"test1test2test3\"]// [\"test2\", \"e\", \"st2\", \"2\", index: 5, input: \"test1test2test3\"]// [\"test3\", \"e\", \"st3\", \"3\", index: 10, input: \"test1test2test3\"] ä¸Šé¢ä»£ç ä¸­ï¼Œç”±äºstring.matchAll(regex)è¿”å›çš„æ˜¯éå†å™¨ï¼Œæ‰€ä»¥å¯ä»¥ç”¨forâ€¦ofå¾ªç¯å–å‡ºã€‚ç›¸å¯¹äºè¿”å›æ•°ç»„ï¼Œè¿”å›éå†å™¨çš„å¥½å¤„åœ¨äºï¼Œå¦‚æœåŒ¹é…ç»“æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œé‚£ä¹ˆéå†å™¨æ¯”è¾ƒèŠ‚çœèµ„æºã€‚ éå†å™¨è½¬ä¸ºæ•°ç»„æ˜¯éå¸¸ç®€å•çš„ï¼Œä½¿ç”¨â€¦è¿ç®—ç¬¦å’ŒArray.fromæ–¹æ³•å°±å¯ä»¥äº†ã€‚12345// è½¬ä¸ºæ•°ç»„æ–¹æ³•ä¸€[...string.matchAll(regex)]// è½¬ä¸ºæ•°ç»„æ–¹æ³•äºŒArray.from(string.matchAll(regex)); æ³¨:javascriptä¸­forâ€¦inå’Œforâ€¦ofçš„åŒºåˆ«,ä»¥ä¸‹æ‹¬å·ä¸­æ³¨çš„è§£é‡Š{forâ€¦ofå¾ªç¯æ˜¯ES6å¼•å…¥çš„æ–°çš„è¯­æ³•ã€‚forâ€¦inéå†æ‹¿åˆ°çš„xæ˜¯é”®ï¼ˆä¸‹æ ‡ï¼‰ã€‚è€Œforâ€¦oféå†æ‹¿åˆ°çš„xæ˜¯å€¼ï¼Œä½†åœ¨å¯¹è±¡ä¸­ä¼šæç¤ºä¸æ˜¯ä¸€ä¸ªè¿­ä»£å™¨æŠ¥é”™ã€‚1234567891011121314151617let x;let a = ['A','B','C'];let b = &#123;name: 'åˆ˜å¾·å',age: '18'&#125;;console.log(a.length);for(x of a)&#123; console.log(x); //A,B,C&#125;for(x in a)&#123; console.log(x+':'+a[x]); //0:A,1:B,2:C&#125;/*for(x of b)&#123; console.log(x); //æŠ¥é”™&#125;*/for(x in b)&#123; console.log(x); //name,age&#125; } å‡½æ•°çš„æ‰©å±•1.å‡½æ•°å‚æ•°çš„é»˜è®¤å€¼1234567function log(x, y = 'World') &#123; console.log(x, y);&#125;log('Hello') // Hello Worldlog('Hello', 'China') // Hello Chinalog('Hello', '') // Hello ä¸è§£æ„èµ‹å€¼é»˜è®¤å€¼ç»“åˆä½¿ç”¨123456789function fetch(url, &#123; body = '', method = 'GET', headers = &#123;&#125; &#125;) &#123; console.log(method);&#125;fetch('http://example.com', &#123;&#125;)// \"GET\"fetch('http://example.com')// æŠ¥é”™ ä¸¤ä¸ªå†™æ³•çš„åŒºåˆ«12345678910111213141516171819202122232425262728// å†™æ³•ä¸€function m1(&#123;x = 0, y = 0&#125; = &#123;&#125;) &#123; return [x, y];&#125;// å†™æ³•äºŒfunction m2(&#123;x, y&#125; = &#123; x: 0, y: 0 &#125;) &#123; return [x, y];&#125;// å‡½æ•°æ²¡æœ‰å‚æ•°çš„æƒ…å†µm1() // [0, 0]m2() // [0, 0]// x å’Œ y éƒ½æœ‰å€¼çš„æƒ…å†µm1(&#123;x: 3, y: 8&#125;) // [3, 8]m2(&#123;x: 3, y: 8&#125;) // [3, 8]// x æœ‰å€¼ï¼Œy æ— å€¼çš„æƒ…å†µm1(&#123;x: 3&#125;) // [3, 0]m2(&#123;x: 3&#125;) // [3, undefined]// x å’Œ y éƒ½æ— å€¼çš„æƒ…å†µm1(&#123;&#125;) // [0, 0];m2(&#123;&#125;) // [undefined, undefined]m1(&#123;z: 3&#125;) // [0, 0]m2(&#123;z: 3&#125;) // [undefined, undefined] å‡½æ•°çš„ length å±æ€§æŒ‡å®šäº†é»˜è®¤å€¼ä»¥åï¼Œå‡½æ•°çš„lengthå±æ€§ï¼Œå°†è¿”å›æ²¡æœ‰æŒ‡å®šé»˜è®¤å€¼çš„å‚æ•°ä¸ªæ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŒ‡å®šäº†é»˜è®¤å€¼åï¼Œlengthå±æ€§å°†å¤±çœŸã€‚123(function (a) &#123;&#125;).length // 1(function (a = 5) &#123;&#125;).length // 0(function (a, b, c = 5) &#123;&#125;).length // 2 ä½œç”¨åŸŸ12345678910111213141516function f(y = x) &#123; let x = 2; console.log(y);&#125;f() // ReferenceError: x is not definedvar x = 1;function foo(x = x) &#123; // ...&#125;foo() // R ä¸Šé¢ä»£ç ä¸­ï¼Œå‚æ•°x = xå½¢æˆä¸€ä¸ªå•ç‹¬ä½œç”¨åŸŸã€‚å®é™…æ‰§è¡Œçš„æ˜¯let x = xï¼Œç”±äºæš‚æ—¶æ€§æ­»åŒºçš„åŸå› ï¼Œè¿™è¡Œä»£ç ä¼šæŠ¥é”™â€x æœªå®šä¹‰â€œã€‚ 12345678let foo = 'outer';function bar(func = () =&gt; foo) &#123; let foo = 'inner'; console.log(func());&#125;bar(); // outer ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°barçš„å‚æ•°funcçš„é»˜è®¤å€¼æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œè¿”å›å€¼ä¸ºå˜é‡fooã€‚å‡½æ•°å‚æ•°å½¢æˆçš„å•ç‹¬ä½œç”¨åŸŸé‡Œé¢ï¼Œå¹¶æ²¡æœ‰å®šä¹‰å˜é‡fooï¼Œæ‰€ä»¥fooæŒ‡å‘å¤–å±‚çš„å…¨å±€å˜é‡fooï¼Œå› æ­¤è¾“å‡ºouterã€‚ 2.rest å‚æ•°ES6 å¼•å…¥ rest å‚æ•°ï¼ˆå½¢å¼ä¸ºâ€¦å˜é‡åï¼‰ï¼Œç”¨äºè·å–å‡½æ•°çš„å¤šä½™å‚æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦ä½¿ç”¨argumentså¯¹è±¡äº†ã€‚rest å‚æ•°æ­é…çš„å˜é‡æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè¯¥å˜é‡å°†å¤šä½™çš„å‚æ•°æ”¾å…¥æ•°ç»„ä¸­ã€‚ 123456789101112function add(...values) &#123; let sum = 0; for (var val of values) &#123; sum += val; &#125; return sum;&#125;add(2, 5, 3) // 10``` 3.å°¾è°ƒç”¨ä¼˜åŒ–ä»€ä¹ˆæ˜¯å°¾è°ƒç”¨å°¾è°ƒç”¨ï¼ˆTail Callï¼‰æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œæœ¬èº«éå¸¸ç®€å•ï¼Œä¸€å¥è¯å°±èƒ½è¯´æ¸…æ¥šï¼Œå°±æ˜¯æŒ‡æŸä¸ªå‡½æ•°çš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ã€‚ 123function f(x)&#123; return g(x);&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°fçš„æœ€åä¸€æ­¥æ˜¯è°ƒç”¨å‡½æ•°gï¼Œè¿™å°±å«å°¾è°ƒç”¨ã€‚ ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼Œéƒ½ä¸å±äºå°¾è°ƒç”¨ã€‚123456789101112131415// æƒ…å†µä¸€function f(x)&#123; let y = g(x); return y;&#125;// æƒ…å†µäºŒfunction f(x)&#123; return g(x) + 1;&#125;// æƒ…å†µä¸‰function f(x)&#123; g(x);&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œæƒ…å†µä¸€æ˜¯è°ƒç”¨å‡½æ•°gä¹‹åï¼Œè¿˜æœ‰èµ‹å€¼æ“ä½œï¼Œæ‰€ä»¥ä¸å±äºå°¾è°ƒç”¨ï¼Œå³ä½¿è¯­ä¹‰å®Œå…¨ä¸€æ ·ã€‚æƒ…å†µäºŒä¹Ÿå±äºè°ƒç”¨åè¿˜æœ‰æ“ä½œï¼Œå³ä½¿å†™åœ¨ä¸€è¡Œå†…ã€‚æƒ…å†µä¸‰ç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚1234function f(x)&#123; g(x); return undefined;&#125; å°¾è°ƒç”¨ä¸ä¸€å®šå‡ºç°åœ¨å‡½æ•°å°¾éƒ¨ï¼Œåªè¦æ˜¯æœ€åä¸€æ­¥æ“ä½œå³å¯ã€‚123456function f(x) &#123; if (x &gt; 0) &#123; return m(x) &#125; return n(x);&#125; ä¸Šé¢ä»£ç ä¸­ï¼Œå‡½æ•°må’Œnéƒ½å±äºå°¾è°ƒç”¨ï¼Œå› ä¸ºå®ƒä»¬éƒ½æ˜¯å‡½æ•°fçš„æœ€åä¸€æ­¥æ“ä½œã€‚ å°¾è°ƒç”¨ä¼˜åŒ–å‡½æ•°è°ƒç”¨ä¼šåœ¨å†…å­˜å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨è®°å½•â€ï¼Œåˆç§°â€œè°ƒç”¨å¸§â€ï¼ˆcall frameï¼‰ï¼Œä¿å­˜è°ƒç”¨ä½ç½®å’Œå†…éƒ¨å˜é‡ç­‰ä¿¡æ¯ã€‚å¦‚æœåœ¨å‡½æ•°Açš„å†…éƒ¨è°ƒç”¨å‡½æ•°Bï¼Œé‚£ä¹ˆåœ¨Açš„è°ƒç”¨å¸§ä¸Šæ–¹ï¼Œè¿˜ä¼šå½¢æˆä¸€ä¸ªBçš„è°ƒç”¨å¸§ã€‚ç­‰åˆ°Bè¿è¡Œç»“æŸï¼Œå°†ç»“æœè¿”å›åˆ°Aï¼ŒBçš„è°ƒç”¨å¸§æ‰ä¼šæ¶ˆå¤±ã€‚å¦‚æœå‡½æ•°Bå†…éƒ¨è¿˜è°ƒç”¨å‡½æ•°Cï¼Œé‚£å°±è¿˜æœ‰ä¸€ä¸ªCçš„è°ƒç”¨å¸§ï¼Œä»¥æ­¤ç±»æ¨ã€‚æ‰€æœ‰çš„è°ƒç”¨å¸§ï¼Œå°±å½¢æˆä¸€ä¸ªâ€œè°ƒç”¨æ ˆâ€ï¼ˆcall stackï¼‰ å°¾è°ƒç”¨ç”±äºæ˜¯å‡½æ•°çš„æœ€åä¸€æ­¥æ“ä½œï¼Œæ‰€ä»¥ä¸éœ€è¦ä¿ç•™å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå› ä¸ºè°ƒç”¨ä½ç½®ã€å†…éƒ¨å˜é‡ç­‰ä¿¡æ¯éƒ½ä¸ä¼šå†ç”¨åˆ°äº†ï¼Œåªè¦ç›´æ¥ç”¨å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§å°±å¯ä»¥äº†ã€‚123456789101112131415function f() &#123; let m = 1; let n = 2; return g(m + n);&#125;f();// ç­‰åŒäºfunction f() &#123; return g(3);&#125;f();// ç­‰åŒäºg(3); è¿™å°±å«åšâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ï¼ˆTail call optimizationï¼‰ï¼Œå³åªä¿ç•™å†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§ã€‚å¦‚æœæ‰€æœ‰å‡½æ•°éƒ½æ˜¯å°¾è°ƒç”¨ï¼Œé‚£ä¹ˆå®Œå…¨å¯ä»¥åšåˆ°æ¯æ¬¡æ‰§è¡Œæ—¶ï¼Œè°ƒç”¨å¸§åªæœ‰ä¸€é¡¹ï¼Œè¿™å°†å¤§å¤§èŠ‚çœå†…å­˜ã€‚è¿™å°±æ˜¯â€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„æ„ä¹‰ã€‚ æ³¨æ„ï¼Œåªæœ‰ä¸å†ç”¨åˆ°å¤–å±‚å‡½æ•°çš„å†…éƒ¨å˜é‡ï¼Œå†…å±‚å‡½æ•°çš„è°ƒç”¨å¸§æ‰ä¼šå–ä»£å¤–å±‚å‡½æ•°çš„è°ƒç”¨å¸§ï¼Œå¦åˆ™å°±æ— æ³•è¿›è¡Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€ 1234567function addOne(a)&#123; var one = 1; function inner(b)&#123; return b + one; &#125; return inner(a);&#125; ä¸Šé¢çš„å‡½æ•°ä¸ä¼šè¿›è¡Œå°¾è°ƒç”¨ä¼˜åŒ–ï¼Œå› ä¸ºå†…å±‚å‡½æ•°innerç”¨åˆ°äº†å¤–å±‚å‡½æ•°addOneçš„å†…éƒ¨å˜é‡oneã€‚ å°¾é€’å½’å‡½æ•°è°ƒç”¨è‡ªèº«ï¼Œç§°ä¸ºé€’å½’ã€‚å¦‚æœå°¾è°ƒç”¨è‡ªèº«ï¼Œå°±ç§°ä¸ºå°¾é€’å½’ã€‚ é€’å½’éå¸¸è€—è´¹å†…å­˜ï¼Œå› ä¸ºéœ€è¦åŒæ—¶ä¿å­˜æˆåƒä¸Šç™¾ä¸ªè°ƒç”¨å¸§ï¼Œå¾ˆå®¹æ˜“å‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ï¼ˆstack overflowï¼‰ã€‚ä½†å¯¹äºå°¾é€’å½’æ¥è¯´ï¼Œç”±äºåªå­˜åœ¨ä¸€ä¸ªè°ƒç”¨å¸§ï¼Œæ‰€ä»¥æ°¸è¿œä¸ä¼šå‘ç”Ÿâ€œæ ˆæº¢å‡ºâ€é”™è¯¯ã€‚123456function factorial(n) &#123; if (n === 1) return 1; return n * factorial(n - 1);&#125;factorial(5) // 120 ä¸Šé¢ä»£ç æ˜¯ä¸€ä¸ªé˜¶ä¹˜å‡½æ•°ï¼Œè®¡ç®—nçš„é˜¶ä¹˜ï¼Œæœ€å¤šéœ€è¦ä¿å­˜nä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(n) ã€‚ å¦‚æœæ”¹å†™æˆå°¾é€’å½’ï¼Œåªä¿ç•™ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œå¤æ‚åº¦ O(1) ã€‚123456function factorial(n, total) &#123; if (n === 1) return total; return factorial(n - 1, n * total);&#125;factorial(5, 1) // 120 éå°¾é€’å½’çš„ Fibonacci æ•°åˆ—å®ç°å¦‚ä¸‹ã€‚1234567891011function Fibonacci (n) &#123; if ( n &lt;= 1 ) &#123;return 1&#125;; return Fibonacci(n - 1) + Fibonacci(n - 2);&#125;// f(3) =&gt; f(2)+ f(1) =&gt; f(1)+ f(0) + f(1) =&gt; 3Fibonacci(3) // 3Fibonacci(10) // 89Fibonacci(100) // å †æ ˆæº¢å‡ºFibonacci(500) // å †æ ˆæº¢å‡º å°¾é€’å½’ä¼˜åŒ–è¿‡çš„ Fibonacci æ•°åˆ—å®ç°å¦‚ä¸‹ã€‚1234567891011function Fibonacci2 (n , ac1 = 1 , ac2 = 1) &#123; if( n &lt;= 1 ) &#123;return ac2&#125;; // (åºå·,ä¸Šä¸€æ¬¡ç»“æœ,æœ¬æ¬¡ç»“æœ) return Fibonacci2 (n - 1, ac2, ac1 + ac2);&#125;// f(3,1,1)= f(2,1,2)=f(1,2,3) = 3// f(4,1,1) = f(3,1,2)=f(2,2,3) =f(1,3,5) = 5Fibonacci2(100) // 573147844013817200000Fibonacci2(1000) // 7.0330367711422765e+208Fibonacci2(10000) // Infinity ç”±æ­¤å¯è§ï¼Œâ€œå°¾è°ƒç”¨ä¼˜åŒ–â€å¯¹é€’å½’æ“ä½œæ„ä¹‰é‡å¤§ï¼Œæ‰€ä»¥ä¸€äº›å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€å°†å…¶å†™å…¥äº†è¯­è¨€è§„æ ¼ã€‚ES6 æ˜¯å¦‚æ­¤ï¼Œç¬¬ä¸€æ¬¡æ˜ç¡®è§„å®šï¼Œæ‰€æœ‰ ECMAScript çš„å®ç°ï¼Œéƒ½å¿…é¡»éƒ¨ç½²â€œå°¾è°ƒç”¨ä¼˜åŒ–â€ã€‚è¿™å°±æ˜¯è¯´ï¼ŒES6 ä¸­åªè¦ä½¿ç”¨å°¾é€’å½’ï¼Œå°±ä¸ä¼šå‘ç”Ÿæ ˆæº¢å‡ºï¼Œç›¸å¯¹èŠ‚çœå†…å­˜ã€‚ ä¸¥æ ¼æ¨¡å¼ES6 çš„å°¾è°ƒç”¨ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹å¼€å¯ï¼Œæ­£å¸¸æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚ è¿™æ˜¯å› ä¸ºåœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå‡½æ•°å†…éƒ¨æœ‰ä¸¤ä¸ªå˜é‡ï¼Œå¯ä»¥è·Ÿè¸ªå‡½æ•°çš„è°ƒç”¨æ ˆã€‚ func.argumentsï¼šè¿”å›è°ƒç”¨æ—¶å‡½æ•°çš„å‚æ•°ã€‚func.callerï¼šè¿”å›è°ƒç”¨å½“å‰å‡½æ•°çš„é‚£ä¸ªå‡½æ•°ã€‚å°¾è°ƒç”¨ä¼˜åŒ–å‘ç”Ÿæ—¶ï¼Œå‡½æ•°çš„è°ƒç”¨æ ˆä¼šæ”¹å†™ï¼Œå› æ­¤ä¸Šé¢ä¸¤ä¸ªå˜é‡å°±ä¼šå¤±çœŸã€‚ä¸¥æ ¼æ¨¡å¼ç¦ç”¨è¿™ä¸¤ä¸ªå˜é‡ï¼Œæ‰€ä»¥å°¾è°ƒç”¨æ¨¡å¼ä»…åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç”Ÿæ•ˆã€‚123456function restricted() &#123; 'use strict'; restricted.caller; // æŠ¥é”™ restricted.arguments; // æŠ¥é”™&#125;restricted(); å°¾é€’å½’ä¼˜åŒ–çš„å®ç°å°¾é€’å½’ä¼˜åŒ–åªåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç”Ÿæ•ˆï¼Œé‚£ä¹ˆæ­£å¸¸æ¨¡å¼ä¸‹ï¼Œæˆ–è€…é‚£äº›ä¸æ”¯æŒè¯¥åŠŸèƒ½çš„ç¯å¢ƒä¸­ï¼Œæœ‰æ²¡æœ‰åŠæ³•ä¹Ÿä½¿ç”¨å°¾é€’å½’ä¼˜åŒ–å‘¢ï¼Ÿå›ç­”æ˜¯å¯ä»¥çš„ï¼Œå°±æ˜¯è‡ªå·±å®ç°å°¾é€’å½’ä¼˜åŒ–ã€‚ å®ƒçš„åŸç†éå¸¸ç®€å•ã€‚å°¾é€’å½’ä¹‹æ‰€ä»¥éœ€è¦ä¼˜åŒ–ï¼ŒåŸå› æ˜¯è°ƒç”¨æ ˆå¤ªå¤šï¼Œé€ æˆæº¢å‡ºï¼Œé‚£ä¹ˆåªè¦å‡å°‘è°ƒç”¨æ ˆï¼Œå°±ä¸ä¼šæº¢å‡ºã€‚æ€ä¹ˆåšå¯ä»¥å‡å°‘è°ƒç”¨æ ˆå‘¢ï¼Ÿå°±æ˜¯é‡‡ç”¨â€œå¾ªç¯â€æ¢æ‰â€œé€’å½’â€ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªæ­£å¸¸çš„é€’å½’å‡½æ•°ã€‚12345678910function sum(x, y) &#123; if (y &gt; 0) &#123; return sum(x + 1, y - 1); &#125; else &#123; return x; &#125;&#125;sum(1, 100000)// Uncaught RangeError: Maximum call stack size exceeded(â€¦) ä¸Šé¢ä»£ç ä¸­ï¼Œsumæ˜¯ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå‚æ•°xæ˜¯éœ€è¦ç´¯åŠ çš„å€¼ï¼Œå‚æ•°yæ§åˆ¶é€’å½’æ¬¡æ•°ã€‚ä¸€æ—¦æŒ‡å®šsumé€’å½’ 100000 æ¬¡ï¼Œå°±ä¼šæŠ¥é”™ï¼Œæç¤ºè¶…å‡ºè°ƒç”¨æ ˆçš„æœ€å¤§æ¬¡æ•°ã€‚ è¹¦åºŠå‡½æ•°ï¼ˆtrampolineï¼‰å¯ä»¥å°†é€’å½’æ‰§è¡Œè½¬ä¸ºå¾ªç¯æ‰§è¡Œã€‚123456function trampoline(f) &#123; while (f &amp;&amp; f instanceof Function) &#123; f = f(); &#125; return f;&#125; ä¸Šé¢å°±æ˜¯è¹¦åºŠå‡½æ•°çš„ä¸€ä¸ªå®ç°ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‡½æ•°fä½œä¸ºå‚æ•°ã€‚åªè¦fæ‰§è¡Œåè¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œå°±ç»§ç»­æ‰§è¡Œã€‚æ³¨æ„ï¼Œè¿™é‡Œæ˜¯è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œç„¶åæ‰§è¡Œè¯¥å‡½æ•°ï¼Œè€Œä¸æ˜¯å‡½æ•°é‡Œé¢è°ƒç”¨å‡½æ•°ï¼Œè¿™æ ·å°±é¿å…äº†é€’å½’æ‰§è¡Œï¼Œä»è€Œå°±æ¶ˆé™¤äº†è°ƒç”¨æ ˆè¿‡å¤§çš„é—®é¢˜ã€‚ ç„¶åï¼Œè¦åšçš„å°±æ˜¯å°†åŸæ¥çš„é€’å½’å‡½æ•°ï¼Œæ”¹å†™ä¸ºæ¯ä¸€æ­¥è¿”å›å¦ä¸€ä¸ªå‡½æ•°ã€‚1234567function sum(x, y) &#123; if (y &gt; 0) &#123; return sum.bind(null, x + 1, y - 1); &#125; else &#123; return x; &#125;&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"å°†æ•°ç»„å¯¹è±¡ç­›é€‰å¤„ç†åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡","slug":"å°†æ•°ç»„å¯¹è±¡ç­›é€‰å¤„ç†åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡","date":"2018-10-24T02:59:25.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/10/24/å°†æ•°ç»„å¯¹è±¡ç­›é€‰å¤„ç†åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡/","link":"","permalink":"https://xiaojw.xyz/2018/10/24/å°†æ•°ç»„å¯¹è±¡ç­›é€‰å¤„ç†åˆå¹¶æˆä¸€ä¸ªå¯¹è±¡/","excerpt":"","text":"é—®é¢˜æœ‰æ—¶å€™æˆ‘ä»¬è·å–çš„æ•°æ®æ˜¯ä¸€ä¸ªæ•°ç»„å¯¹è±¡,ä½†æ˜¯æäº¤æ•°æ®çš„æ—¶å€™åˆè¦ä½ æŠŠæ•°ç»„è½¬ä¸ºå¯¹è±¡å…¶ä¸­è¿˜è¦ç­›é€‰æ²¡ç”¨çš„key ä¾‹:123456789101112[ &#123; name1: 'æˆ‘çš„', phone1: '122222', ttt1: 'è¿Ÿåˆ°äº†å—' &#125;, &#123; name2: 'æˆ‘çš„', phone2: '122222', ttt2: 'è¿Ÿåˆ°äº†å—' &#125;, &#123; name3: 'æˆ‘çš„', phone3: '122222', ttt3: 'è¿Ÿåˆ°äº†å—' &#125;]å¤„ç†ä¸ºconst obj =&#123; name1: 'æˆ‘çš„', phone1: '122222', name2: 'æˆ‘çš„', phone2: '122222', name3: 'æˆ‘çš„', phone3: '122222' &#125; 12345678910111213141516// filter ä¸ºç­›é€‰ é¡¹(å³æ•°ç»„ä¸­çš„ç¬¦åˆé¡¹)// map ä¸º å¤„ç†æ¯ä¸€é¡¹ä¸­ æ‰€éœ€çš„å†…å®¹(key)const arr = [ &#123; name1: 'æˆ‘çš„', phone1: '122222', ttt1: 'è¿Ÿåˆ°äº†å—' &#125;, &#123; name2: 'æˆ‘çš„', phone2: '122222', ttt2: 'è¿Ÿåˆ°äº†å—' &#125;, &#123; name3: 'æˆ‘çš„', phone3: '122222', ttt3: 'è¿Ÿåˆ°äº†å—' &#125;]let arr1 = arr.map((item, index) =&gt; &#123; let obj = &#123;&#125; obj[`name$&#123;index + 1&#125;`] = item[`name$&#123;index + 1&#125;`] obj[`phone$&#123;index + 1&#125;`] = item[`phone$&#123;index + 1&#125;`] return obj&#125;)// console.log(arr1)let obj = Object.assign(...arr1)console.log(obj)","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"è§£å†³vueä¸èƒ½ä½¿ç”¨é”šæ ‡è®°æ—¶çš„æ–¹æ³•","slug":"è§£å†³vueä¸èƒ½ä½¿ç”¨é”šæ ‡è®°æ—¶çš„æ–¹æ³•","date":"2018-10-23T09:48:24.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/10/23/è§£å†³vueä¸èƒ½ä½¿ç”¨é”šæ ‡è®°æ—¶çš„æ–¹æ³•/","link":"","permalink":"https://xiaojw.xyz/2018/10/23/è§£å†³vueä¸èƒ½ä½¿ç”¨é”šæ ‡è®°æ—¶çš„æ–¹æ³•/","excerpt":"","text":"æ™®é€šçš„é”šæ ‡è®°è½¬è·³123&lt;a href=\"#q\"&gt;è½¬è·³&lt;/a&gt;&lt;a name=\"q\"&gt;è½¬è·³åˆ°è¿™&lt;/a&gt; ä»¥ä¸Šæ–¹æ³•ä¸èƒ½è½¬è·³åˆ°å¯¹åº”ä½ç½®çš„è¯,ç”¨è¿™ç§123456789&lt;div @click=\"returnTo('xxx')\"&gt;è½¬è·³&lt;/div&gt;&lt;div id=\"xxx\"&gt;è½¬è·³åˆ°è¿™&lt;/h3&gt;// methods é‡ŒreturnTo(name) &#123; document.querySelector(`#$&#123;name&#125;`).scrollIntoView(true)&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"ä¸ƒç‰›äº‘ä¸Šä¼ æ–‡ä»¶demo","slug":"ä¸ƒç‰›äº‘ä¸Šä¼ æ–‡ä»¶demo","date":"2018-09-20T08:46:46.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/09/20/ä¸ƒç‰›äº‘ä¸Šä¼ æ–‡ä»¶demo/","link":"","permalink":"https://xiaojw.xyz/2018/09/20/ä¸ƒç‰›äº‘ä¸Šä¼ æ–‡ä»¶demo/","excerpt":"","text":"ä¸ƒç‰›äº‘ä¸Šä¼ æ–‡ä»¶demoè¿™æ˜¯æˆ‘å‰å‡ å¤©å†™çš„ å› ä¸ºä¹‹å‰çš„ä¸Šä¼ ä¼šå‡ºç°æ–‡ä»¶çš„MimeTypeä¸å¯¹ è¿˜æœ‰ä¸€äº›é”™è¯¯ æ‰€ä»¥ç°åœ¨å†™çš„æœ‰äº›å¤æ‚ (åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸æœ¬åœ°ç›¸åŒçš„æ–‡ä»¶-è¿™ä¸€æ­¥å…¶å®å¯ä»¥æ²¡æœ‰,ä½†æˆ‘æ‹…å¿ƒæœ‰é‡å¤æ–‡ä»¶å¯¼è‡´ä¸ä¸Šä¼ ,æ‰€ä»¥è¿˜æ˜¯åˆ é™¤å§) è¯»å–æœ¬åœ°ä¿å­˜çš„ä¸Šä¸€æ¬¡ä¸Šä¼ è®°å½•åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸€æ¬¡ä¸Šä¼ è®°å½•çš„æ–‡ä»¶åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸æœ¬åœ°ç›¸åŒçš„æ–‡ä»¶ä¸Šä¼ æ–‡ä»¶å¹¶æŒ‡å®šæ–‡ä»¶çš„MimeTypeè®°å½•ä¸Šä¼ çš„æ–‡ä»¶ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265const fs = require('fs')const qiniu = require('qiniu')// æˆæƒç§˜é’¥const accessKey = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'const secretKey = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'// å­˜å‚¨ç©ºé—´åç§°const bucket = 'xiaojw'// è¦ä¸Šä¼ çš„èµ„æºç›®å½•const staticPath = '../xxx_trunk/xiaojw'// ä¸Šä¼ åçš„æ–‡ä»¶å‰ç¼€const prefix = 'xiaojw'const cdnPrefix = 'https://cdn.xxxxxxxx.com/'// åˆ›å»ºé‰´æƒå¯¹è±¡const mac = new qiniu.auth.digest.Mac(accessKey, secretKey)// åˆ›å»ºå¹¶ä¿®æ”¹é…ç½®å¯¹è±¡(Zone_z0=åä¸œ Zone_z1=ååŒ— Zone_z2=åå— Zone_na0=åŒ—ç¾)const config = new qiniu.conf.Config()config.zone = qiniu.zone.Zone_z2// åˆ›å»ºé¢å¤–å†…å®¹å¯¹è±¡const putExtra = new qiniu.form_up.PutExtra()// åˆ›å»ºè¡¨å•ä¸Šä¼ å¯¹è±¡const formUploader = new qiniu.form_up.FormUploader(config)// æ–‡ä»¶æ‰¹é‡æ“ä½œå¯¹è±¡const bucketManager = new qiniu.rs.BucketManager(mac, config);const Mime = ['application/javascript', 'text/css', 'image/jpeg', 'image/png', 'text/html']// æ–‡ä»¶ä¸Šä¼ æ–¹æ³•function uploadFile(localFile) &#123; // é…ç½®ä¸Šä¼ åˆ°ä¸ƒç‰›äº‘çš„å®Œæ•´è·¯å¾„ const key = localFile.replace(staticPath, prefix) // console.log('å‡†å¤‡ä¸Šä¼ æ–‡ä»¶: ' + key) const options = &#123; scope: bucket + \":\" + key &#125; const putPolicy = new qiniu.rs.PutPolicy(options) // ç”Ÿæˆä¸Šä¼ å‡­è¯ const uploadToken = putPolicy.uploadToken(mac) // ä¸Šä¼ æ–‡ä»¶ let index = key.lastIndexOf('.') if (index) &#123; let suffix = key.slice(index + 1) switch (suffix) &#123; case 'js': putExtra.mimeType = Mime[0] break case 'css': putExtra.mimeType = Mime[1] break case 'jpeg': case 'jpg': putExtra.mimeType = Mime[2] break case 'png': putExtra.mimeType = Mime[3] break case 'html': putExtra.mimeType = Mime[4] break default: console.log('æœªè®¾ç½®çš„ä¸Šä¼ ç±»å‹') &#125; &#125; // console.log(key) if (!key) &#123; console.log('è·¯å¾„å‡ºé—®é¢˜') return &#125; formUploader.putFile(uploadToken, key, localFile, putExtra, function (respErr, respBody, respInfo) &#123; if (respErr) &#123; console.log('ä¸Šä¼ å‡ºé”™:\\t' + cdnPrefix + key) console.log(respErr) // throw respErr return &#125; // console.log('å·²ä¸Šä¼ : ', respBody.key) appendFile(`$&#123;respBody.key&#125;\\n`) // appendFile(`$&#123;key&#125;\\n`) &#125;)&#125;// ç›®å½•ä¸Šä¼ æ–¹æ³•async function uploadDirectory(dirPath) &#123; fs.readdir(dirPath, function (err, files) &#123; if (err) throw err // éå†ç›®å½•ä¸‹çš„å†…å®¹ files.forEach(item =&gt; &#123; let path = `$&#123;dirPath&#125;/$&#123;item&#125;` fs.stat(path, function (err, stats) &#123; if (err) throw err // æ˜¯ç›®å½•å°±æ¥ç€éå† å¦åˆ™ä¸Šä¼  if (stats.isDirectory()) uploadDirectory(path) else &#123; const key = path.replace(staticPath, prefix) // åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸æœ¬åœ°ç›¸åŒçš„æ–‡ä»¶ // console.log(key) // console.log(path) deleteSigleF(key).then(()=&gt;&#123; uploadFile(path) &#125;).catch(()=&gt;&#123; uploadFile(path) &#125;) &#125; &#125;) &#125;) &#125;)&#125;// æ‰¹é‡åˆ é™¤æ–‡ä»¶æ–¹æ³•function deleteFile(deleteOperations) &#123; return new Promise((resolve, reject) =&gt; &#123; //æ¯ä¸ªoperationsçš„æ•°é‡ä¸å¯ä»¥è¶…è¿‡1000ä¸ªï¼Œå¦‚æœæ€»æ•°é‡è¶…è¿‡1000ï¼Œéœ€è¦åˆ†æ‰¹å‘é€ if (!deleteOperations) &#123; console.log('åˆ é™¤çš„æ–‡ä»¶æ•°ç»„ä¸å­˜åœ¨') return false &#125; bucketManager.batch(deleteOperations, function (err, respBody, respInfo) &#123; if (err) &#123; console.log(\"æ–‡ä»¶æ‰¹é‡åˆ é™¤å‡ºé”™\"); console.log(err); // throw err; &#125; else &#123; // 200 is success, 298 is part success if (parseInt(respInfo.statusCode / 100) == 2) &#123; respBody.forEach(function (item) &#123; if (item.code == 200) &#123; // console.log(item.code + \"\\tsuccess\") console.log(\"åˆ é™¤æˆåŠŸ\") // console.log(respBody) resolve(\"åˆ é™¤æˆåŠŸ\") &#125; else &#123; // console.log(item.code + \"\\t\" + item.data.error) console.log(\"åˆ é™¤å¤±è´¥\" + item.data.error) reject(\"åˆ é™¤å¤±è´¥\" + item.data.error) &#125; &#125;); &#125; else &#123; console.log(respInfo.deleteusCode); console.log(respBody); console.log('é”™è¯¯101--------------------'); reject(respBody) &#125; &#125; &#125;) &#125;)&#125;// åˆ é™¤å•ä¸ªæ–‡ä»¶function deleteSigleF(path) &#123; return new Promise((resolve, reject) =&gt; &#123; bucketManager.delete(bucket, path, function (err, respBody, respInfo) &#123; if (err) &#123; // console.log(\"åˆ é™¤å¤±è´¥\" + err + \"\\t è·¯å¾„:\" + path); console.log(\"åˆ é™¤å¤±è´¥\" + err); reject() //throw err; &#125; else &#123; // console.log(respInfo.statusCode, respBody); console.log(respBody, path) resolve() &#125; &#125;) &#125;)&#125;async function readFile(returnType = false) &#123; return new Promise((resolve, reject) =&gt; &#123; fs.readFile('./file.txt', &#123;flag: 'r+', encoding: 'utf-8'&#125;, function (err, data) &#123; if (err) &#123; reject(err) &#125; else &#123; let dataArr = data.split('\\n') if (returnType) &#123; resolve(dataArr) return &#125; console.log('\\nä¸Šä¸€æ¬¡ä¸Šä¼ æ–‡ä»¶--------------------\\n') console.log(dataArr) let deleteOperations = [] dataArr.forEach((item) =&gt; &#123; if (item) &#123; deleteOperations.push(qiniu.rs.deleteOp(bucket, item)) &#125; &#125;) resolve(deleteOperations) &#125; &#125;) &#125;)&#125;function writeFile(content) &#123; fs.writeFile('./file.txt', content, &#123;flag: 'w', encoding: 'utf-8', mode: '0666'&#125;, function (err) &#123; if (err) &#123; console.log(\"æ–‡ä»¶å†™å…¥å¤±è´¥\") &#125; else &#123; console.log(\"åˆ é™¤æœåŠ¡å™¨ä¸Šç›¸åŒæ–‡ä»¶,è®°å½•æ–‡ä»¶\" + (content ? 'å˜ä¸º' + content + '\\n' : 'æ¸…ç©º,---------------\\n')); &#125; &#125;)&#125;function appendFile(content) &#123; fs.writeFile('./file.txt', content, &#123;flag: 'a', encoding: 'utf-8', mode: '0666'&#125;, function (err) &#123; if (err) &#123; console.log(\"å·²ä¸Šä¼ ä½†æœªè®°å½•:\\t\" + cdnPrefix + content.replace('\\n', '')) &#125; else &#123; console.log(\"å·²ä¸Šä¼ å¹¶è®°å½•:\\t\" + cdnPrefix + content.replace('\\n', '')); &#125; &#125;)&#125;function uploadHome() &#123; // æ¸…ç©ºæ–‡ä»¶å†…å®¹ writeFile('') fs.exists(staticPath, function (exists) &#123; if (!exists) &#123; console.log('ç›®å½•ä¸å­˜åœ¨ï¼') &#125; else &#123; console.log('\\nå¼€å§‹ä¸Šä¼ ...') uploadDirectory(staticPath) &#125; &#125;)&#125;// è¯»å–æœ¬åœ°ä¿å­˜çš„ä¸Šä¸€æ¬¡ä¸Šä¼ è®°å½•// åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸€æ¬¡ä¸Šä¼ è®°å½•çš„æ–‡ä»¶// åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸æœ¬åœ°ç›¸åŒçš„æ–‡ä»¶// ä¸Šä¼ æ–‡ä»¶å¹¶æŒ‡å®šæ–‡ä»¶çš„MimeType// è®°å½•ä¸Šä¼ çš„æ–‡ä»¶async function exec() &#123; // è¯»å– let deleteOperations = await readFile() // console.log(deleteOperations) // åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸€æ¬¡ä¸Šä¼ è®°å½•çš„æ–‡ä»¶ console.log('\\nåˆ é™¤ä¸Šä¸€æ¬¡ä¸Šä¼ æ–‡ä»¶---------------\\n') if (deleteOperations.length) &#123; // let deleteOP = await deleteFile(deleteOperations) // console.log(deleteOP) deleteFile(deleteOperations).then((res) =&gt; &#123; // console.log(res) uploadHome() &#125;).catch((err) =&gt; &#123; // console.log(err) uploadHome() &#125;) &#125; else &#123; uploadHome() &#125;&#125;exec() è¿è¡Œnode qiniuUpload.js ä¿®æ”¹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235const fs = require('fs');const qiniu = require('qiniu');// æˆæƒç§˜é’¥const accessKey = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx';const secretKey = 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxx';// å­˜å‚¨ç©ºé—´åç§°const bucket = \"xiaojw\";const ENV = process.argv[2] === 'prod' ? 'prod' : (process.argv[2] === 'test' ? 'test' : 'dev');const date = new Date();const appendPath = `$&#123;date.getFullYear()&#125;/$&#123;date.getMonth() + 1&#125;/$&#123;date.getDate()&#125;`;// è¦ä¸Šä¼ çš„èµ„æºç›®å½•const staticPath = `./dist`;// ä¸Šä¼ åçš„æ–‡ä»¶å‰ç¼€const prefix = `admin/$&#123;ENV&#125;/$&#123;appendPath&#125;`;// cdnåŸŸåconst cdnPrefix = 'https://cdn.xxxxx.com/';// åˆ›å»ºé‰´æƒå¯¹è±¡const mac = new qiniu.auth.digest.Mac(accessKey, secretKey);// åˆ›å»ºå¹¶ä¿®æ”¹é…ç½®å¯¹è±¡(Zone_z0=åä¸œ Zone_z1=ååŒ— Zone_z2=åå— Zone_na0=åŒ—ç¾)const config = new qiniu.conf.Config();config.zone = qiniu.zone.Zone_z2;// åˆ›å»ºé¢å¤–å†…å®¹å¯¹è±¡const putExtra = new qiniu.form_up.PutExtra();// åˆ›å»ºè¡¨å•ä¸Šä¼ å¯¹è±¡const formUploader = new qiniu.form_up.FormUploader(config);// æ–‡ä»¶æ‰¹é‡æ“ä½œå¯¹è±¡const bucketManager = new qiniu.rs.BucketManager(mac, config);const Mime = &#123; js: 'application/javascript', css: 'text/css', jpeg: 'image/jpeg', jpg: 'image/jpeg', png: 'image/png', html: 'text/html', gz: 'application/x-gzip', gif: 'image/gif'&#125;;const MineKeyArr = Object.keys(Mime);// æ–‡ä»¶ä¸Šä¼ æ–¹æ³•function uploadFile(localFile) &#123; // é…ç½®ä¸Šä¼ åˆ°ä¸ƒç‰›äº‘çš„å®Œæ•´è·¯å¾„ const key = localFile.replace(staticPath, prefix); const options = &#123; scope: bucket + \":\" + key &#125;; const putPolicy = new qiniu.rs.PutPolicy(options); // ç”Ÿæˆä¸Šä¼ å‡­è¯ const uploadToken = putPolicy.uploadToken(mac); // ä¸Šä¼ æ–‡ä»¶ let index = key.lastIndexOf('.'); if (index) &#123; let suffix = key.slice(index + 1); if (MineKeyArr.includes(suffix)) &#123; putExtra.mimeType = Mime[suffix]; &#125; else &#123; console.log('æœªè®¾ç½®çš„ä¸Šä¼ ç±»å‹'); &#125; &#125; if (!key) &#123; console.log('è·¯å¾„å‡ºé—®é¢˜'); return; &#125; formUploader.putFile(uploadToken, key, localFile, putExtra, function (respErr, respBody, respInfo) &#123; if (respErr) &#123; console.log('ä¸Šä¼ å‡ºé”™:\\t' + cdnPrefix + key); console.log(respErr); return; &#125; baseFile(`$&#123;respBody.key&#125;\\n`,true); &#125;)&#125;// ç›®å½•ä¸Šä¼ æ–¹æ³•async function uploadDirectory(dirPath) &#123; fs.readdir(dirPath, function (err, files) &#123; if (err) throw err; // éå†ç›®å½•ä¸‹çš„å†…å®¹ files.forEach(item =&gt; &#123; let path = `$&#123;dirPath&#125;/$&#123;item&#125;`; fs.stat(path, function (err, stats) &#123; if (err) throw err; // æ˜¯ç›®å½•å°±æ¥ç€éå† å¦åˆ™ä¸Šä¼  if (stats.isDirectory()) uploadDirectory(path); else &#123; const key = path.replace(staticPath, prefix); // åˆ é™¤ç›¸åŒç¯å¢ƒä¸‹ä¸ƒç‰›äº‘ä¸Šä¸æœ¬åœ°ç›¸åŒçš„æ–‡ä»¶ if (key.includes(ENV)) &#123; deleteSigleF(key).then(() =&gt; &#123; uploadFile(path); &#125;).catch(() =&gt; &#123; uploadFile(path); &#125;) &#125; &#125; &#125;); &#125;) &#125;);&#125;// æ‰¹é‡åˆ é™¤æ–‡ä»¶æ–¹æ³•function deleteFile(deleteOperations) &#123; return new Promise((resolve, reject) =&gt; &#123; //æ¯ä¸ªoperationsçš„æ•°é‡ä¸å¯ä»¥è¶…è¿‡1000ä¸ªï¼Œå¦‚æœæ€»æ•°é‡è¶…è¿‡1000ï¼Œéœ€è¦åˆ†æ‰¹å‘é€ if (!deleteOperations) &#123; console.log('åˆ é™¤çš„æ–‡ä»¶æ•°ç»„ä¸å­˜åœ¨'); return false; &#125; bucketManager.batch(deleteOperations, function (err, respBody, respInfo) &#123; if (err) &#123; console.log(\"æ–‡ä»¶æ‰¹é‡åˆ é™¤å‡ºé”™\"); console.log(err); &#125; else &#123; // 200 is success, 298 is part success if (parseInt(respInfo.statusCode / 100) === 2) &#123; respBody.forEach(function (item) &#123; if (item.code === 200) &#123; console.log(\"åˆ é™¤æˆåŠŸ\"); // console.log(respBody); resolve(\"åˆ é™¤æˆåŠŸ\"); &#125; else &#123; console.log(\"åˆ é™¤å¤±è´¥\" + item.data.error); reject(\"åˆ é™¤å¤±è´¥\" + item.data.error); &#125; &#125;); &#125; else &#123; console.log(respInfo.deleteusCode); console.log(respBody); console.log('é”™è¯¯101--------------------'); reject(respBody); &#125; &#125; &#125;); &#125;);&#125;// åˆ é™¤å•ä¸ªæ–‡ä»¶function deleteSigleF(path) &#123; return new Promise((resolve, reject) =&gt; &#123; bucketManager.delete(bucket, path, function (err, respBody, respInfo) &#123; if (err) &#123; // console.log(\"åˆ é™¤å¤±è´¥\" + err + \"\\t è·¯å¾„:\" + path); console.log(\"åˆ é™¤å¤±è´¥\" + err); reject(); &#125; else &#123; console.log(respBody, path); resolve(); &#125; &#125;); &#125;);&#125;async function readFile(returnType = false) &#123; return new Promise((resolve, reject) =&gt; &#123; fs.readFile(`./file-$&#123;ENV&#125;.txt`, &#123;flag: 'r+', encoding: 'utf-8'&#125;, function (err, data) &#123; if (err) &#123; reject(err); &#125; else &#123; let dataArr = data.split('\\n'); if (returnType) &#123; resolve(dataArr); return; &#125; console.log('\\nä¸Šä¸€æ¬¡ä¸Šä¼ æ–‡ä»¶--------------------\\n'); console.log(dataArr); let deleteOperations = []; dataArr.forEach((item) =&gt; &#123; if (item) &#123; deleteOperations.push(qiniu.rs.deleteOp(bucket, item)); &#125; &#125;); resolve(deleteOperations); &#125; &#125;); &#125;);&#125;function baseFile(content, isAppend) &#123; fs.writeFile(`./file-$&#123;ENV&#125;.txt`, content, &#123;flag: isAppend ? 'a' : 'w', encoding: 'utf-8', mode: '0666'&#125;, function (err) &#123; let str = \"\"; if (isAppend) &#123; str = (err ? \"å·²ä¸Šä¼ ä½†æœªè®°å½•:\\t\" : \"å·²ä¸Šä¼ å¹¶è®°å½•:\\t\") + cdnPrefix + content.replace('\\n', ''); &#125; else &#123; str = err ? \"æ–‡ä»¶å†™å…¥å¤±è´¥\" : (\"åˆ é™¤æœåŠ¡å™¨ä¸Šç›¸åŒæ–‡ä»¶,è®°å½•æ–‡ä»¶\" + (content ? 'å˜ä¸º' + content + '\\n' : 'æ¸…ç©º---------------\\n')); &#125; console.log(str); &#125;);&#125;function uploadHome() &#123; // æ¸…ç©ºæ–‡ä»¶å†…å®¹ baseFile(''); fs.exists(staticPath, function (exists) &#123; if (!exists) &#123; console.log('ç›®å½•ä¸å­˜åœ¨ï¼'); &#125; else &#123; uploadDirectory(staticPath); console.log('\\nå¼€å§‹ä¸Šä¼ ...'); &#125; &#125;)&#125;// 1.è¯»å–æœ¬åœ°ä¿å­˜çš„ä¸Šä¸€æ¬¡ä¸Šä¼ è®°å½•// 2.åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸€æ¬¡ä¸Šä¼ è®°å½•çš„æ–‡ä»¶// 3.åˆ é™¤ä¸ƒç‰›äº‘ä¸Šä¸æœ¬åœ°ç›¸åŒçš„æ–‡ä»¶// 4.ä¸Šä¼ æ–‡ä»¶å¹¶æŒ‡å®šæ–‡ä»¶çš„MimeType// 5.è®°å½•ä¸Šä¼ çš„æ–‡ä»¶async function exec() &#123; // let deleteOperations = await readFile(); // console.log('\\nåˆ é™¤ä¸Šä¸€æ¬¡ä¸Šä¼ æ–‡ä»¶---------------\\n'); // if (deleteOperations.length) &#123; // // let deleteOP = await deleteFile(deleteOperations); // deleteFile(deleteOperations).then((res) =&gt; &#123; // uploadHome(); // &#125;).catch((err) =&gt; &#123; // uploadHome(); // &#125;) // &#125; else &#123; // uploadHome(); // &#125; uploadHome();&#125;exec(); è¿è¡Œ node qiniuUpload.js devnode qiniuUpload.js prodnode qiniuUpload.js test","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"iOSä¸Šè¾“å…¥æ¡†å…‰æ ‡é”™ä½é—®é¢˜","slug":"iOSä¸Šè¾“å…¥æ¡†å…‰æ ‡é”™ä½é—®é¢˜","date":"2018-09-20T08:26:11.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/09/20/iOSä¸Šè¾“å…¥æ¡†å…‰æ ‡é”™ä½é—®é¢˜/","link":"","permalink":"https://xiaojw.xyz/2018/09/20/iOSä¸Šè¾“å…¥æ¡†å…‰æ ‡é”™ä½é—®é¢˜/","excerpt":"","text":"iOSä¸Š,fixed å…ƒç´ å†…çš„è¾“å…¥å…ƒç´ ,è·å–ç„¦ç‚¹æ—¶çš„å…‰æ ‡é”™ä½é—®é¢˜ è½¬è½½æ¥æºå¦‚æœä¸€ä¸ªè¾“å…¥å…ƒç´ ï¼ˆinput, textarea â€¦ï¼‰çš„çˆ¶å®¹å™¨è®¾ç½®äº† position: fixedï¼Œå½“è¿™ä¸ªå…ƒç´ è·å–ç„¦ç‚¹æ—¶ï¼Œæ»šåŠ¨ç½‘é¡µå…‰æ ‡ä¾¿é”™ä½ é—æ†¾çš„æ˜¯ï¼Œæˆªè‡³ç›®å‰ï¼ŒiOS 11.x ä¸Šä¹Ÿæœ‰è¿™ä¸ªé—®é¢˜ã€‚ è§£å†³æ–¹æ³•ä¸€:ä¸ä½¿ç”¨fixed å¸ƒå±€å¦‚æœä¸€å®šè¦ä½¿ç”¨è¯·çœ‹ä¸‹ä¸€ç§æ–¹æ³• è§£å†³æ–¹æ³•äºŒ:åŠ¨æ€æ”¹å˜å¸ƒå±€æ–¹å¼å½“å…ƒç´ è·å–ç„¦ç‚¹æ—¶ï¼Œæ”¹å˜çˆ¶å®¹å™¨çš„å®šä½æ–¹å¼ï¼šfixed &gt; absolute123456789101112for (let evt of ['focus', 'blur']) &#123; const isFocus = evt === 'focus' const fn = isFocus ? 'add' : 'remove' inputDOMNode.addEventListener(evt, () =&gt; &#123; parentDOMNode.classList[fn]('input-focus') htmlDOMNode.classList[fn]('no-scroll') bodyDOMNode.classList[fn]('no-scroll') isFocus &amp;&amp; setScrollTop(0) &#125;)&#125; 123456789.input-focus &#123; position: absolute; ...&#125;.no-scroll &#123; height: 100%; overflow: hidden;&#125; ç›‘å¬äº†è¾“å…¥å…ƒç´  focus å’Œ blur äº‹ä»¶ï¼Œä¸ºçˆ¶å…ƒç´ æ·»åŠ æˆ–ç§»é™¤æŸäº›æ ·å¼ã€‚ å½“ position: absolute æ—¶ï¼Œè¾“å…¥æ¡†çš„å®šä½æ–¹å¼éœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼ˆè¿™é‡Œé‡‡å–äº†é¡¶éƒ¨å¯¹é½ï¼‰ï¼›.no-scroll æ˜¯ä¸ºäº†ç¦æ­¢ body çš„æ»šåŠ¨ï¼Œä¿è¯è¾“å…¥æ¡†å¯è§ã€‚ ä½†æ˜¯è¿™ä¸ªæ–¹æ¡ˆåœ¨éƒ¨åˆ† Android è®¾å¤‡ä¸Šï¼Œå½“é”®ç›˜æ”¶èµ·æ—¶å¹¶ä¸ä¼šè§¦å‘è¾“å…¥å…ƒç´ çš„ blur äº‹ä»¶ï¼Œå¾€å¾€è¿˜éœ€è¦ç”¨æˆ·ä¸»åŠ¨ç‚¹å‡»é¡µé¢çš„å…¶ä»–åŒºåŸŸï¼Œç®—æ˜¯ä¸€ç‚¹å°é—æ†¾å§ã€‚ æ‰€ä»¥ç›‘å¬æ”¹å˜å‰å…ˆåˆ¤æ–­æ‰‹æœºæ˜¯iosè¿˜æ˜¯android androidå°±ä¸ç›‘å¬ è§£å†³æ–¹æ³•ä¸‰:ç›´æ¥ç»™html, bodyå…ƒç´ è®¾ç½®æ ·å¼(æ¨è)123456html,body &#123; -webkit-overflow-scroll: touch !important; overflow: auto !important; height: 100% !important;&#125; -webkit-overflow-scrollingæ§åˆ¶å…ƒç´ åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¯å¦ä½¿ç”¨æ»šåŠ¨å›å¼¹æ•ˆæœã€‚12-webkit-overflow-scrolling: touch; /* å½“æ‰‹æŒ‡ä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œä¼šä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨ */overflow: auto; /* ç”±æµè§ˆå™¨å®šå¤ºï¼Œå¦‚æœå†…å®¹è¢«ä¿®å‰ªï¼Œå°±ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ */ å½“è¾“å…¥å…ƒç´ è·å–ç„¦ç‚¹æ—¶ï¼Œé”®ç›˜å¼¹èµ·ï¼Œè¾“å…¥å…ƒç´ è¢«é¡¶åˆ°äº†é”®ç›˜çš„ä¸Šæ–¹ï¼Œæ­¤æ—¶ç”¨æˆ·çš„æ‰‹æŒ‡ä¼šä»è§¦æ‘¸å±ä¸Šç§»å¼€ï¼Œè¾“å…¥å…ƒç´ ä¼šä¿æŒä¸€æ®µæ—¶é—´çš„æ»šåŠ¨ï¼Œä»è€Œå…‰æ ‡çš„ä½ç½®å¯ä»¥è¢«æ­£ç¡®è®¡ç®—ã€‚ !important åœ¨è¿™é‡Œæ˜¯ä¸ºäº†é˜²æ­¢è¿™äº›å±æ€§ä¼šå› ä¸ºæµè§ˆå™¨ä¼˜å…ˆçº§è¿‡é«˜è€Œå‘ç”Ÿå˜åŒ–ã€‚æœ‰ç‚¹å°é—æ†¾çš„æ˜¯ï¼Œ!important ä¾µå…¥æ€§æœ‰äº›é«˜ã€‚ è§£å†³æ–¹æ³•å››:IOSç³»ç»Ÿä¿®å¤æ…¢æ…¢ç­‰,è¯´ä¸å®šä¸‹ä¸€æ¬¡æ›´æ–°ä¹Ÿæ²¡æœ‰ä¿®å¤","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"vueçš„urlå»æ‰éš¾çœ‹çš„äº•å·å¹¶è§£å†³ç›¸å…³é—®é¢˜","slug":"å»æ‰vueçš„urlä¸­éš¾çœ‹çš„äº•å·å¹¶è§£å†³ç›¸å…³é—®é¢˜","date":"2018-09-19T08:26:10.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/09/19/å»æ‰vueçš„urlä¸­éš¾çœ‹çš„äº•å·å¹¶è§£å†³ç›¸å…³é—®é¢˜/","link":"","permalink":"https://xiaojw.xyz/2018/09/19/å»æ‰vueçš„urlä¸­éš¾çœ‹çš„äº•å·å¹¶è§£å†³ç›¸å…³é—®é¢˜/","excerpt":"","text":"ä¸€ã€é¦–å…ˆåœ¨è·¯ç”±æ–‡ä»¶é…ç½®historyæ¨¡å¼12345678910// å¢åŠ  mode: 'history'export default new Router(&#123; mode: 'history', routes: [ &#123; path: '/', redirect: '/login' &#125; ]&#125;) äºŒã€ä½¿ç”¨historyåä¸€åˆ‡éƒ½æ­£å¸¸,å”¯æœ‰åˆ·æ–°æµè§ˆå™¨çš„æ—¶å€™å°±ä¸ä¼šåŠ è½½äº†å› ä¸ºåˆ·æ–°å æœåŠ¡å™¨ä¸Šæ²¡æœ‰å¯¹åº”çš„é™æ€é¡µå¯¹åº” è§£å†³ å°†æœåŠ¡å™¨ä¸Šè·¯å¾„è®¾ç½®å¯¹åº”çš„å®šå‘ åç«¯é…ç½®ä¾‹å­Apache12345678&lt;IfModule mod_rewrite.c&gt; RewriteEngine On RewriteBase / RewriteRule ^index\\.html$ - [L] RewriteCond %&#123;REQUEST_FILENAME&#125; !-f RewriteCond %&#123;REQUEST_FILENAME&#125; !-d RewriteRule . /index.html [L]&lt;/IfModule&gt; é™¤äº† mod_rewriteï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ FallbackResource nginx123location / &#123; try_files $uri $uri/ /index.html;&#125; åŸç”Ÿ Node.js12345678910111213141516171819const http = require('http')const fs = require('fs')const httpPort = 80http.createServer((req, res) =&gt; &#123; fs.readFile('index.htm', 'utf-8', (err, content) =&gt; &#123; if (err) &#123; console.log('We cannot open \"index.htm\" file.') &#125; res.writeHead(200, &#123; 'Content-Type': 'text/html; charset=utf-8' &#125;) res.end(content) &#125;)&#125;).listen(httpPort, () =&gt; &#123; console.log('Server listening on: http://localhost:%s', httpPort)&#125;) åŸºäº Node.js çš„ Expresså¯¹äº Node.js/Expressï¼Œè¯·è€ƒè™‘ä½¿ç”¨connect-history-api-fallback ä¸­é—´ä»¶ 12345678910111213const express = require('express');const history = require('connect-history-api-fallback');const app = express();app.use(history( &#123; htmlAcceptHeaders: ['text/html', 'application/xhtml+xml'] &#125;));app.use(express.static('dist'));const server = app.listen(3002, function () &#123; const port = server.address().port; console.log(`listening at http://localhost:$&#123;port&#125;`);&#125;); Internet Information Services (IIS)1.å®‰è£… IIS UrlRewrite2.åœ¨ä½ çš„ç½‘ç«™æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªweb.configæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š1234567891011121314151617&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;configuration&gt; &lt;system.webServer&gt; &lt;rewrite&gt; &lt;rules&gt; &lt;rule name=\"Handle History Mode and custom 404/500\" stopProcessing=\"true\"&gt; &lt;match url=\"(.*)\" /&gt; &lt;conditions logicalGrouping=\"MatchAll\"&gt; &lt;add input=\"&#123;REQUEST_FILENAME&#125;\" matchType=\"IsFile\" negate=\"true\" /&gt; &lt;add input=\"&#123;REQUEST_FILENAME&#125;\" matchType=\"IsDirectory\" negate=\"true\" /&gt; &lt;/conditions&gt; &lt;action type=\"Rewrite\" url=\"/\" /&gt; &lt;/rule&gt; &lt;/rules&gt; &lt;/rewrite&gt; &lt;/system.webServer&gt;&lt;/configuration&gt; Caddy1234rewrite &#123; regexp .* to &#123;path&#125; /&#125; Firebase ä¸»æœºåœ¨ä½ çš„firebase.jsonä¸­åŠ å…¥ï¼š1234567891011&#123; \"hosting\": &#123; \"public\": \"dist\", \"rewrites\": [ &#123; \"source\": \"**\", \"destination\": \"/index.html\" &#125; ] &#125;&#125; è­¦å‘Šå› ä¸ºè¿™ä¹ˆåšä»¥åï¼Œä½ çš„æœåŠ¡å™¨å°±ä¸å†è¿”å› 404 é”™è¯¯é¡µé¢ï¼Œå› ä¸ºå¯¹äºæ‰€æœ‰è·¯å¾„éƒ½ä¼šè¿”å› index.html æ–‡ä»¶ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œä½ åº”è¯¥åœ¨ Vue åº”ç”¨é‡Œé¢è¦†ç›–æ‰€æœ‰çš„è·¯ç”±æƒ…å†µï¼Œç„¶ååœ¨ç»™å‡ºä¸€ä¸ª 404 é¡µé¢ã€‚123456const router = new VueRouter(&#123; mode: 'history', routes: [ &#123; path: '*', component: NotFoundComponent &#125; ]&#125;) æˆ–è€…ï¼Œå¦‚æœä½ ä½¿ç”¨ Node.js æœåŠ¡å™¨ï¼Œä½ å¯ä»¥ç”¨æœåŠ¡ç«¯è·¯ç”±åŒ¹é…åˆ°æ¥çš„ URLï¼Œå¹¶åœ¨æ²¡æœ‰åŒ¹é…åˆ°è·¯ç”±çš„æ—¶å€™è¿”å› 404ï¼Œä»¥å®ç°å›é€€ã€‚æ›´å¤šè¯¦æƒ…è¯·æŸ¥é˜… Vue æœåŠ¡ç«¯æ¸²æŸ“æ–‡æ¡£ã€‚","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"å…³äºvueä¸­ä¿®æ”¹UIåº“æ ·å¼çš„å‘","slug":"å…³äºvueä¸­ä¿®æ”¹UIåº“æ ·å¼çš„å‘","date":"2018-09-19T03:57:01.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/09/19/å…³äºvueä¸­ä¿®æ”¹UIåº“æ ·å¼çš„å‘/","link":"","permalink":"https://xiaojw.xyz/2018/09/19/å…³äºvueä¸­ä¿®æ”¹UIåº“æ ·å¼çš„å‘/","excerpt":"","text":"ä¸€ã€æ€ä¹ˆä¿®æ”¹æ ·å¼éƒ½ä¸ç”Ÿæ•ˆï¼Œåœ¨æµè§ˆå™¨ä¸Šæ”¹å°±èƒ½ç”Ÿæ•ˆåŸå› ä¸€: styleæ ‡ç­¾åŠ äº†scopedå±æ€§&lt;style scoped&gt;,å»æ‰å³å¯12&lt;style&gt;&lt;/style&gt; åŸå› äºŒ: é‚£å°±æ˜¯é€‰æ‹©å™¨æ²¡é€‰ä¸­å’¯,æ£€æŸ¥æ£€æŸ¥äºŒã€ä¿®æ”¹æ ·å¼åå½±å“äº†å…¶ä»–ç»„ä»¶çš„æ ·å¼åŸå› :ç›´æ¥åœ¨UIç»„ä»¶ä¸ŠåŠ çš„æ ·å¼è§£å†³:åœ¨å¤–å±‚å†å¥—ä¸€å±‚æ ‡ç­¾ åŠ ä¸Šé™åˆ¶,ä¾¿ä¸ä¼šå½±å“å…¨å±€äº†ä¾‹:123456789101112131415---------------------template---------------------&lt;div class=\"elinput\"&gt; &lt;el-input v-model=\"form.VerificationCode\" placeholder=\"è¾“å…¥éªŒè¯ç \" auto-complete=\"ture\"&gt;&lt;/el-input&gt;&lt;/div&gt;---------------------style---------------------.elinput .el-input&#123;// å†™æ ·å¼&#125;","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"æ·˜å®ä¸»å›¾æ¢å›¾æŠ€æœ¯","slug":"æ·˜å®ä¸»å›¾æ¢å›¾æŠ€æœ¯","date":"2018-09-12T10:18:39.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/09/12/æ·˜å®ä¸»å›¾æ¢å›¾æŠ€æœ¯/","link":"","permalink":"https://xiaojw.xyz/2018/09/12/æ·˜å®ä¸»å›¾æ¢å›¾æŠ€æœ¯/","excerpt":"","text":"æ·˜å®ä¸»å›¾æ¢å›¾æŠ€æœ¯(åŒ…æ›´æ–°),è®¤å‡†QQ:1058330410ç®€å•åŸç†æŠ“åŒ…ä¿®æ”¹æŠ“åŒ…çš„æäº¤ä¸»å›¾çš„url,æ”¹ä¸ºè®¿é—®æœåŠ¡å™¨æœåŠ¡å™¨æ ¹æ®,æ˜¯å¦ä¸ºpc,mobile,æ˜¾ç¤ºä¸åŒçš„å›¾ç‰‡æäº¤ä¿®æ”¹å†…å®¹åˆ°å¯¹åº”æ¥å£ ä¸€ã€å‘å¸ƒå•†å“å¹¶æŠŠåœ¨æ·˜å®å›¾ç‰‡ç©ºé—´é€‰æ‹©çš„ä¸»å›¾é“¾æ¥å¤åˆ¶åˆ°è¿™ï¼ˆè¿™å›¾å°±æ˜¯pcç«¯æ˜¾ç¤ºçš„ï¼‰pcï¼šhttps://img.alicdn.com/imgextra/i3/4011718250/TB27z3RtEOWBKNjSZKzXXXfWFXa_!!4011718250.jpg åŒæ ·åœ¨æ·˜å®å›¾ç‰‡ç©ºé—´é€‰æ‹©ä¸€å¼ å›¾ç‰‡ï¼ˆç§»åŠ¨ç«¯è¦æ˜¾ç¤ºçš„å›¾ç‰‡ï¼‰å¤åˆ¶é“¾æ¥ï¼Œåˆ°è¿™ mobileï¼šhttps://img.alicdn.com/imgextra/i4/4011718250/TB25IdCpWAoBKNjSZSyXXaHAVXa_!!4011718250.jpg äºŒã€è¿›å…¥æœåŠ¡å™¨åœ°å€: http://web.xiaojw.xyz/taobao_DI ,ç™»å½•è´¦å·å¯†ç (ä¸€ä¸ªåº—é“ºå¯å¤šä¸ªè´¦å·)(éœ€è¦è´¦å·è”ç³»æˆ‘)ï¼Œé€‰æ‹©åˆ›å»ºé“¾æ¥ï¼Œå¡«å†™PCç«¯å›¾ç‰‡åç§°ï¼ˆæ—¢pcç«¯çš„å›¾ç‰‡é“¾æ¥å¯¹åº”çš„éƒ¨åˆ†ï¼‰ï¼šTB27z3RtEOWBKNjSZKzXXXfWFXa_!!4011718250.jpgPCç«¯çš„å›¾ç‰‡ï¼šhttps://img.alicdn.com/imgextra/i3/4011718250/TB27z3RtEOWBKNjSZKzXXXfWFXa_!!4011718250.jpgç§»åŠ¨ç«¯è¦æ˜¾ç¤ºçš„å›¾ç‰‡ï¼š https://img.alicdn.com/imgextra/i4/4011718250/TB25IdCpWAoBKNjSZSyXXaHAVXa_!!4011718250.jpg ç‚¹å‡»ç«‹å³å¢åŠ æŒ‰é’®ï¼Œå¢åŠ æˆåŠŸåç‚¹å‡»å¤åˆ¶ä»£ç ï¼šå¤åˆ¶åˆ°è¿™ä¾‹http://119.29.143.126/alicdn.com/4011718250/TB27z3RtEOWBKNjSZKzXXXfWFXa_!!4011718250.jpg ä¸‰ã€ä¸‹è½½å¹¶æ‰“å¼€fiddlerè½¯ä»¶ï¼ˆç™¾åº¦å°±èƒ½æœç´¢åˆ°ï¼‰ï¼ˆå®‰è£…ååœ¨å¼€å§‹é‚£é‡Œå¯ä»¥æ‰¾åˆ°è½¯ä»¶ï¼‰é…ç½®fiddlerï¼š ç‚¹å‡»é€‰é¡¹Tools-options-Https å‹¾é€‰Decrypt Https traffic å¼¹å‡ºæ—¶å…¨éƒ¨ç‚¹ç¡®è®¤å°±è¡Œ å†å‹¾é€‰ Ignore server certificate errors(unsafe)æ¥ç€è¿›å»æ·˜å®å•†å®¶å‡ºå”®ä¸­å®è´-&gt;ç¼–è¾‘å®è´-&gt;æ¸…ç©ºfiddler-&gt;å†ç‚¹å‡»å‘å¸ƒå®è´,å›åˆ°fiddleræ‰¾åˆ°ç»¿è‰²ç®­å¤´upload.taobao.comè¿™è¡Œ å³é”®é€‰æ‹©Replay-reissue and Edit å³è¾¹é€‰é¡¹å¡ é€‰æ‹©webForm å°†Body é‡Œçš„dataBody çš„å†…å®¹å‰ªåˆ‡å‡ºæ¥ {â€œstuffStatusâ€:5,â€titleâ€:â€2018æµ‹è¯•åŒå›¾â€,â€multiMediaâ€:{â€œimageâ€:[{â€œurlâ€:â€https://img.alicdn.com/imgextra/i3/4011718250/TB27z3RtEOWBKNjSZKzXXXfWFXa_!!4011718250.jpg&quot;,&quot;major&quot;:true,&quot;position&quot;:0}],&quot;imageVideo&quot;:{&quot;interactiveId&quot;:&quot;&quot;,&quot;videoId&quot;:&quot;&quot;}},&quot;price&quot;:&quot;11&quot;,&quot;quantity&quot;:1000,&quot;purchaseLocation&quot;:{&quot;isGlobalStock&quot;:&quot;false&quot;},&quot;descForPC&quot;:&quot; 13213â€œ,â€descForMobileâ€:[{â€œtypeâ€:â€textâ€,â€valueâ€:â€ 13213â€}],â€deliverWayâ€:[1],â€deliverTemplateâ€:15440272050,â€afterSaleâ€:{â€œsellPromiseâ€:[1],â€customâ€:[3]},â€subStockTypeâ€:1,â€startTimeâ€:{â€œstartTypeâ€:0},â€catIdâ€:127666020,â€itemIdâ€:577320607928} å°†url:åé¢çš„é“¾æ¥æ›¿æ¢ä¸ºé‡ç½‘ç«™ä¸Šå¤åˆ¶çš„é“¾æ¥ä¾‹å¦‚:{â€œstuffStatusâ€:5,â€titleâ€:â€2018.9ä¸»å›¾åŒå›¾â€,â€multiMediaâ€:{â€œimageâ€:[{â€œurlâ€:â€http://119.29.143.126/alicdn.com/4011718250/TB27z3RtEOWBKNjSZKzXXXfWFXa_!!4011718250.jpg&quot;,&quot;major&quot;:true,&quot;position&quot;:0}],&quot;imageVideo&quot;:{&quot;interactiveId&quot;:&quot;&quot;,&quot;videoId&quot;:&quot;&quot;}},&quot;price&quot;:&quot;11&quot;,&quot;quantity&quot;:1000,&quot;purchaseLocation&quot;:{&quot;isGlobalStock&quot;:&quot;false&quot;},&quot;descForPC&quot;:&quot; 13213â€œ,â€descForMobileâ€:[{â€œtypeâ€:â€textâ€,â€valueâ€:â€ 13213â€}],â€deliverWayâ€:[1],â€deliverTemplateâ€:15440272050,â€afterSaleâ€:{â€œsellPromiseâ€:[1],â€customâ€:[3]},â€subStockTypeâ€:1,â€startTimeâ€:{â€œstartTypeâ€:0},â€catIdâ€:127666020,â€itemIdâ€:577320607928} æ”¹å®Œåå†å®Œæ•´çš„å¤åˆ¶ä¼šåŸæ¥çš„ä½ç½®ç‚¹å‡»ä¸‹é¢çš„run to complete è¿”å›å®è´é¡µé¢ çš„æ·˜å®è´­ä¹°é¡µ (å®è´è¯¦æƒ…æœ€å³è¾¹æœ‰ä¸ªæ‰‹æœºè´­ä¹°) é¼ æ ‡ç§»è¿‡å» ç”¨æ‰‹æœºæ‰«ç ","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}],"tags":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/tags/å…¶ä»–/"}],"keywords":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}]},{"title":"å…³äºåˆ—è¡¨æ°´å¹³å±•ç¤ºçš„æ–¹æ³•","slug":"å…³äºåˆ—è¡¨æ°´å¹³å±•ç¤ºçš„æ–¹æ³•","date":"2018-09-07T10:38:22.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/09/07/å…³äºåˆ—è¡¨æ°´å¹³å±•ç¤ºçš„æ–¹æ³•/","link":"","permalink":"https://xiaojw.xyz/2018/09/07/å…³äºåˆ—è¡¨æ°´å¹³å±•ç¤ºçš„æ–¹æ³•/","excerpt":"","text":"ä¸€ã€ä½¿ç”¨float:left; æˆ– float:rightè¿™ä¸ªæ–¹æ³•æ°´å¹³æ’åˆ—èµ·æ¥ç®€å• åªéœ€1float:left; ä½†æ˜¯ä¼šå¼•èµ·ä¸€äº›ä¸å¿…è¦çš„é—®é¢˜: çˆ¶çº§ç›’å­æ²¡æœ‰floatéƒ¨åˆ†çš„é«˜åº¦,å› ä¸ºfloatè„±ç¦»äº†æ ‡å‡†æ–‡æ¡£æµè§£å†³åŠæ³•å¯ä»¥è®¾ç½®çˆ¶çº§çš„é«˜,æ¸…ç†æµ®åŠ¨,æ¸…ç†æµ®åŠ¨çš„æ–¹å¼æœ‰å¾ˆå¤š,æ¨èä½¿ç”¨ä¼ªç±»æ¸…ç†æ³•123456789101112&lt;div class ='clearfix'&gt;&lt;/div&gt;.clearfix::after &#123; content: \".\"; clear: both; display: block; overflow: hidden; font-size: 0; height: 0;&#125;// ä¸ºå…¼å®¹IE6,IE7ï¼Œå› ä¸ºie6,ie7ä¸èƒ½ç”¨afterä¼ªç±»ã€‚åŠ ä¸Šä¸‹é¢ä»£ç .clearfix&#123;zoom:1&#125; äºŒã€è®¾ç½®å…ƒç´ ä¸ºè¡Œå†…å—å…ƒç´ åœ¨éœ€è¦æ°´å¹³æ’åˆ—çš„åœ°æ–¹1display: inline-block; é—®é¢˜ ä¸¤ä¸ªå—ä¸­ä¼šæœ‰é—´éš™ä¾‹12&lt;div&gt;ä¸€&lt;/div&gt;&lt;div&gt;äºŒ&lt;/div&gt; è§£å†³ä¸€.å»æ‰ä¸¤ä¸ªä¸­çš„é—´éš™1&lt;div&gt;ä¸€&lt;/div&gt;&lt;div&gt;äºŒ&lt;/div&gt; è§£å†³äºŒè®¾ç½®çˆ¶å…ƒç´ font-sizeä¸º0æˆ–è€…line-heightä¸º0,å­å…ƒç´ å†å¯¹åº”è®¾ç½®font-size.line-height123456789101112131415&lt;div class=\"outer\"&gt; &lt;div&gt;ä¸€&lt;/div&gt; &lt;div&gt;äºŒ&lt;/div&gt;&lt;/div&gt;---------style---------.outer&#123; font-size:0; line-height:0;&#125;.outer div&#123; font-size:18px; line-height:30px;&#125; ä¸‰ã€ä½¿ç”¨flexå¸ƒå±€åœ¨éœ€è¦æ°´å¹³æ’åˆ—çš„çˆ¶å¸ƒå±€ä¸­ 12display: flex;// flex-wrap: wrap; /*è¶…å‡ºå®½åº¦å¼ºåˆ¶æ¢è¡Œ*/ åœ¨å­å¸ƒå±€ä¸­ 12flex: 1;// æ›´å¤šå‚æ•°é€‰æ‹©è¯·è‡ªè¡Œç™¾åº¦ flex","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"æ•°ç»„ä¸å­—ç¬¦ä¸²çš„é‚£äº›ç›¸ä¼¼æ–¹æ³•","slug":"æ•°ç»„ä¸å­—ç¬¦ä¸²çš„é‚£äº›ç›¸ä¼¼æ–¹æ³•","date":"2018-09-04T08:22:16.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/09/04/æ•°ç»„ä¸å­—ç¬¦ä¸²çš„é‚£äº›ç›¸ä¼¼æ–¹æ³•/","link":"","permalink":"https://xiaojw.xyz/2018/09/04/æ•°ç»„ä¸å­—ç¬¦ä¸²çš„é‚£äº›ç›¸ä¼¼æ–¹æ³•/","excerpt":"","text":"ä¸€ã€å­—ç¬¦ä¸²æ–¹æ³•1ã€slice() æå–å­—ç¬¦ä¸²çš„ç‰‡æ–­ï¼Œå¹¶åœ¨æ–°çš„å­—ç¬¦ä¸²ä¸­è¿”å›è¢«æå–çš„éƒ¨åˆ†ã€‚12345678stringObject.slice(start,end) // start èµ·å§‹ä¸‹æ ‡ è´Ÿæ•°æ—¶,ä»å°¾éƒ¨å¼€å§‹ç®—èµ·ä½ç½®: -1 æœ€å,-2 å€’æ•°äºŒ// end ç»“æŸä¸‹æ ‡ çœç•¥æ—¶,è¡¨ç¤ºåˆ°æœ€å,è´Ÿæ•°æ—¶,åŒä¸Š// e.g.var str=\"Hello happy world!\"console.log(str.slice(6))// happy world! 2ã€substr() ä»èµ·å§‹ç´¢å¼•å·æå–å­—ç¬¦ä¸²ä¸­æŒ‡å®šæ•°ç›®çš„å­—ç¬¦ã€‚(ä¸å»ºè®®ä½¿ç”¨ ECMAscriptæ²¡æœ‰å¯¹è¯¥æ–¹æ³•è¿›è¡Œæ ‡å‡†åŒ–)12345678stringObject.substr(start,length)// start å¿…é¡» èµ·å§‹ä¸‹æ ‡,num è´Ÿæ•°æ—¶,ä»å°¾éƒ¨å¼€å§‹ç®—èµ·ä½ç½®: -1 æœ€å,-2 å€’æ•°äºŒ// length å¯é€‰ é•¿åº¦,num çœç•¥æ—¶,è¡¨ç¤ºåˆ°æœ€å// e.g.var str=\"Hello world!\"console.log(str.substr(3))// lo world! 3ã€substring() æå–å­—ç¬¦ä¸²ä¸­ä¸¤ä¸ªæŒ‡å®šçš„ç´¢å¼•å·ä¹‹é—´çš„å­—ç¬¦ã€‚1234567891011stringObject.substring(start,stop)// start å¿…é¡» éè´Ÿæ•´ èµ·å§‹ä¸‹æ ‡,num// stop å¯é€‰ éè´Ÿæ•´ æ¯”è¦æå–ä½ç½®+1 çœç•¥æ—¶,è¡¨ç¤ºåˆ°æœ€å// e.g.var str=\"Hello world!\"console.log(str.substring(3))console.log(str.substring(3,7))// lo world!// lo w 4ã€concat() è¿æ¥å­—ç¬¦ä¸²ã€‚1234567stringObject.concat(stringX,stringX,...,stringX)// e.g.var str1=\"Hello \"var str2=\"world!\"console.log(str1.concat(str2))// Hello world! 5ã€split() æŠŠå­—ç¬¦ä¸²åˆ†å‰²ä¸ºå­—ç¬¦ä¸²æ•°ç»„ã€‚123stringObject.split(separator,howmany)// separator å¿…éœ€ å­—ç¬¦ä¸²æˆ–æ­£åˆ™ åˆ‡å‰²ç¬¦å·// howmany å¯é€‰ æœ€å¤§è¿”å›é•¿åº¦ çœç•¥å¿½è§†æœ€å¤§è¿”å›é•¿åº¦ æ³¨ï¼šå¦‚æœæŠŠç©ºå­—ç¬¦ä¸² (â€œâ€) ç”¨ä½œ separatorï¼Œé‚£ä¹ˆ stringObject ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¹‹é—´éƒ½ä¼šè¢«åˆ†å‰²æ³¨ï¼šString.split()ä¸ Array.join æ‰§è¡Œçš„æ“ä½œæ˜¯ç›¸åçš„ 6ã€others1234567891011121314charAt() è¿”å›åœ¨æŒ‡å®šä½ç½®çš„å­—ç¬¦ã€‚indexOf() æ£€ç´¢å­—ç¬¦ä¸²ã€‚è¿”å›ä½ç½®lastIndexOf() ä»åå‘å‰æœç´¢å­—ç¬¦ä¸²ã€‚è¿”å›ä½ç½®match() æ‰¾åˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚replace() æ›¿æ¢ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å­ä¸²ã€‚search() æ£€ç´¢ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸åŒ¹é…çš„å€¼ã€‚sub() æŠŠå­—ç¬¦ä¸²æ˜¾ç¤ºä¸ºä¸‹æ ‡ã€‚sup() æŠŠå­—ç¬¦ä¸²æ˜¾ç¤ºä¸ºä¸Šæ ‡ã€‚toLocaleLowerCase() æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚toLocaleUpperCase() æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚toLowerCase() æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå°å†™ã€‚toUpperCase() æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºå¤§å†™ã€‚toString() è¿”å›å­—ç¬¦ä¸²ã€‚valueOf() è¿”å›æŸä¸ªå­—ç¬¦ä¸²å¯¹è±¡çš„åŸå§‹å€¼ã€‚ äºŒã€æ•°ç»„æ–¹æ³•1ã€concat() è¿æ¥ä¸¤ä¸ªæˆ–æ›´å¤šçš„æ•°ç»„ï¼Œå¹¶è¿”å›ç»“æœã€‚1234567arrayObject.concat(arrayX,arrayX,......,arrayX)// e.g.var arr1=['hello'];var arr2=['world!'];console.log(arr1.concat(arr2))// ['Hello','world!'] 2ã€slice() ä»æŸä¸ªå·²æœ‰çš„æ•°ç»„è¿”å›é€‰å®šçš„å…ƒç´ (ä¸ä¿®æ”¹åŸæ•°ç»„)1234567891011arrayObject.slice(start,end)// start å¿…éœ€ èµ·å§‹ä¸‹æ ‡ è´Ÿæ•°æ—¶,ä»å°¾éƒ¨å¼€å§‹ç®—èµ·ä½ç½®: -1 æœ€å,-2 å€’æ•°äºŒ// end å¯é€‰ ç»“æŸä¸‹æ ‡ çœç•¥æ—¶,è¡¨ç¤ºåˆ°æœ€å,è´Ÿæ•°æ—¶,åŒä¸Š// e.g.var arr=['thank','you','very','math'];console.log(arr.slice(2,3))console.log(arr)// ['very']// ['thank','you','very','math'] 3ã€splice() åˆ é™¤å…ƒç´ ï¼Œå¹¶å‘æ•°ç»„æ·»åŠ æ–°å…ƒç´ (æ”¹å˜åŸæ•°ç»„)123456789101112arrayObject.splice(index,howmany,item1,.....,itemX)// index å¿…éœ€ èµ·å§‹ä¸‹æ ‡ è´Ÿæ•°æ—¶,ä»å°¾éƒ¨å¼€å§‹ç®—èµ·ä½ç½®: -1 æœ€å,-2 å€’æ•°äºŒ// howmany å¯é€‰ åˆ é™¤æ•°é‡ 0:ä¸åˆ // item1,.....,itemX å¯é€‰ å¢åŠ æ–°é¡¹// e.g.var arr=['thank','you','very','math'];console.log(arr.splice(1,1,'xjw'))console.log(arr)// ['you']// ['thank','xjw','very','math'] 4ã€others123456789join() æŠŠæ•°ç»„çš„æ‰€æœ‰å…ƒç´ æ”¾å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å…ƒç´ é€šè¿‡æŒ‡å®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ†éš”ã€‚pop() åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ push() å‘æ•°ç»„çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ã€‚shift() åˆ é™¤å¹¶è¿”å›æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ unshift() å‘æ•°ç»„çš„å¼€å¤´æ·»åŠ ä¸€ä¸ªæˆ–æ›´å¤šå…ƒç´ ï¼Œå¹¶è¿”å›æ–°çš„é•¿åº¦ã€‚reverse() é¢ å€’æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºã€‚sort() å¯¹æ•°ç»„çš„å…ƒç´ è¿›è¡Œæ’åº æ³¨:a-b æ­£æ•°æ¢ä½ç½®toString() æŠŠæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚valueOf() è¿”å›æ•°ç»„å¯¹è±¡çš„åŸå§‹å€¼ ä¸‰ã€å­—ç¬¦ä¸²ä¸æ•°æ®éƒ½æœ‰çš„æ–¹æ³•1.slice()2.concat()","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"phpMyAdminæ— æ³•ç™»é™†è§£å†³","slug":"phpMyAdminæ— æ³•ç™»é™†è§£å†³","date":"2018-08-31T03:53:39.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/08/31/phpMyAdminæ— æ³•ç™»é™†è§£å†³/","link":"","permalink":"https://xiaojw.xyz/2018/08/31/phpMyAdminæ— æ³•ç™»é™†è§£å†³/","excerpt":"","text":"é—®é¢˜ERROR 1045 (28000): Access denied for user â€˜rootâ€˜@â€™localhostâ€™ (using password: NO)ERROR 1045 (28000): Access denied for user â€˜rootâ€˜@â€™localhostâ€™ (using password: YES) è§£æé€šå¸¸è¿™ç§æƒ…å†µæ˜¯æ²¡æœ‰è®¾ç½®å¯†ç æˆ–è€…å¯†ç é”™è¯¯å¯¼è‡´çš„ è§£å†³é¦–å…ˆç¡®å®š ç›¸å…³ç«¯å£æ‰“å¼€äº† 3306 888(é»˜è®¤) 1.å…³é—­mysql 1/bin/systemctl stop mysql.service or1/etc/init.d/mysql stop 2.åœ¨mysqlå…³é—­çš„æƒ…å†µä¸‹ï¼š 1/bin/systemctl stop mysql.service --skip-grant-tables or1/etc/init.d/mysql start --skip-grant-tables 3.è¿æ¥mysql,è¿›å…¥mysqlå‘½ä»¤è¡Œ12345mysql -u root -p ## å‡ºç°passwordï¼šçš„æ—¶å€™ç›´æ¥å›è½¦å¯ä»¥è¿›å…¥ã€‚mysql&gt; use mysql; Database changedmysql&gt; update user set password=password(\"123456\") where user=\"root\"; # ç»™rootç”¨æˆ·è®¾ç½®æ–°å¯†ç mysql&gt; flush privileges; # åˆ·æ–°æ•°æ®åº“mysql&gt; quitBye # é€€å‡ºmysql æ”¹å¥½ä¹‹å,é‡å¯mysqlæœåŠ¡å°±å¯ä»¥äº†ã€‚å»æ‰è¿™å¥ --skip-grant-tables","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://xiaojw.xyz/categories/åç«¯/"}],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://xiaojw.xyz/tags/åç«¯/"}],"keywords":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://xiaojw.xyz/categories/åç«¯/"}]},{"title":"ä½¿ç”¨canvasç”»ç¯å½¢è¿›åº¦æ¡","slug":"ä½¿ç”¨canvasç”»ç¯å½¢è¿›åº¦æ¡","date":"2018-08-30T11:07:06.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/08/30/ä½¿ç”¨canvasç”»ç¯å½¢è¿›åº¦æ¡/","link":"","permalink":"https://xiaojw.xyz/2018/08/30/ä½¿ç”¨canvasç”»ç¯å½¢è¿›åº¦æ¡/","excerpt":"","text":"æ•ˆæœå±•ç¤º html1234&lt;canvas id=\"myCanvas\" width=\"300\" height=\"150\" style=\"border:1px solid #d3d3d3;\"&gt; Your browser does not support the HTML5 canvas tag.&lt;/canvas&gt; js1234567891011121314151617181920212223242526let canvas = document.getElementById('myCanvas')let ctx = canvas.getContext('2d')// ç»˜åˆ¶ ç°è‰²å±‚ åº•å±‚ctx.beginPath()ctx.arc(100, 75, 50, 0, 2 * Math.PI)ctx.lineWidth = 10ctx.strokeStyle = \"#eee\";ctx.stroke()// ç»˜åˆ¶ è“è‰²å±‚ è¿›åº¦å±‚ctx.beginPath()ctx.arc(100, 75, 50, -Math.PI / 2, 0)ctx.lineWidth = 10ctx.strokeStyle = \"#489cff\";ctx.stroke()// ç»˜åˆ¶æ–‡å­—å±‚ctx.font = \"20px Verdana\";/* æ¸å˜let gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);gradient.addColorStop(0, \"magenta\");gradient.addColorStop(0.5, \"blue\");gradient.addColorStop(1, \"red\");ctx.fillStyle = gradient;*/ctx.fillStyle = \"#666\";ctx.fillText(\"25%\", 80, 84)","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"è‡ªå®šä¹‰ç™¾åº¦äº‘åˆ†äº«å¯†ç ","slug":"è‡ªå®šä¹‰ç™¾åº¦äº‘åˆ†äº«å¯†ç ","date":"2018-08-30T03:39:24.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/08/30/è‡ªå®šä¹‰ç™¾åº¦äº‘åˆ†äº«å¯†ç /","link":"","permalink":"https://xiaojw.xyz/2018/08/30/è‡ªå®šä¹‰ç™¾åº¦äº‘åˆ†äº«å¯†ç /","excerpt":"","text":"åŠ¨æ€å›¾ç‰‡å±•ç¤º 1javascript:require([&quot;function-widget-1:share/util/service/createLinkShare.js&quot;]).prototype.makePrivatePassword=function()&#123;return prompt(&quot;è¯·è¾“å…¥è‡ªå®šä¹‰çš„å¯†ç &quot;,&quot;1234&quot;)&#125; ä½¿ç”¨æ–¹æ³•ï¼šé¦–å…ˆï¼Œé€‰æ‹©è¦åˆ†äº«çš„æ–‡ä»¶ï¼Œç‚¹å‡»åˆ†äº«æŒ‰é’®ã€‚è¿™æ—¶å€™ï¼ŒæŒ‰F12æ‰“å¼€æ§åˆ¶å°ï¼Œåˆ‡æ¢è‡³Consoleï¼Œè¾“å…¥ä»£ç æŒ‰å›è½¦å³å¯ã€‚ ç„¶åç‚¹å‡»åˆ›å»ºç§å¯†é“¾æ¥ï¼Œä¼šå¼¹å‡ºè¾“å…¥æ¡†ï¼Œè¾“å…¥å¯†ç å³å¯ï¼ æ³¨æ„ä½¿ç”¨ä»£ç å‰è¦å…ˆç‚¹ä¸€ä¸‹åˆ†äº«æŒ‰é’®ï¼Œç›¸å…³æ¨¡å—æ‰ä¼šè½½å…¥ï¼Œè¿™æ—¶å€™ç”¨ä»£ç æ‰æœ‰æ•ˆæœã€‚ è½¬è½½è‡ª:æµå¹´ä¼¼æ°´åšå®¢è½¬è½½è‡ª:è¥¿é—¨å¹é›ª","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}],"tags":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/tags/å…¶ä»–/"}],"keywords":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}]},{"title":"åŠ¨æ€è·¯ç”±-è·¯ç”±è®¿é—®æƒé™","slug":"åŠ¨æ€è·¯ç”±-è·¯ç”±è®¿é—®æƒé™","date":"2018-08-30T02:42:53.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/08/30/åŠ¨æ€è·¯ç”±-è·¯ç”±è®¿é—®æƒé™/","link":"","permalink":"https://xiaojw.xyz/2018/08/30/åŠ¨æ€è·¯ç”±-è·¯ç”±è®¿é—®æƒé™/","excerpt":"","text":"åŠ¨æ€è·¯ç”±æ§åˆ¶æƒé™ å‚è€ƒæ–‡ç« 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485login.vuelet dR = new Array();for (let i = 0; i &lt; dynamicRouter.length; i++) &#123; //ç¬¬ä¸€å±‚å¾ªç¯éå†åŠ¨æ€è·¯ç”±è¡¨çš„æ¯ä¸€ä¸ªè·¯ç”± let aside_list = this.aside_list for (let j = 0; j &lt; aside_list.length; j++) &#123; if (dynamicRouter[i].path === aside_list[j].path &amp;&amp; aside_list[j].isShow) &#123; // console.log(dynamicRouter[i]) dR.push(dynamicRouter[i]); // ç¬¦åˆæ¡ä»¶çš„è·¯ç”±ä¿¡æ¯å°±æ”¾è¿›æ•°ç»„é‡Œ if (!this.xjw) &#123; // this.firstShowPath = dynamicRouter[i] dR.push(dynamicRouter[2]); this.xjw = true &#125; &#125; else if (aside_list[j].path.indexOf('x') &amp;&amp; aside_list[j].isShow) &#123; if (!this.first) &#123; // ç¬¦åˆæ¡ä»¶çš„è·¯ç”±çš„ç¦è¢‹å¿…é¡»è®¿é—®çš„è·¯ç”±å°±æ”¾è¿›æ•°ç»„é‡Œ dR.push(dynamicRouter[0]); dR.push(dynamicRouter[1]); this.first = true &#125; &#125; else if ( (aside_list[j].path.indexOf('xx') || aside_list[j].path.indexOf('xxx') || aside_list[j].path.indexOf('xxxx')) &amp;&amp; aside_list[j].isShow) &#123; if (!this.second) &#123; dR.push(dynamicRouter[1]); this.second = true &#125; &#125; &#125;&#125;this.xjw = nullthis.first = nullthis.second = null// console.log(dR)this.$router.addRoutes(dR.concat([&#123; //è¿™é‡Œè°ƒç”¨addRoutesæ–¹æ³•ï¼ŒåŠ¨æ€æ·»åŠ ç¬¦åˆæ¡ä»¶çš„è·¯ç”± path: '*', redirect: '/404' //æ‰€æœ‰ä¸åŒ¹é…è·¯å¾„(*)éƒ½é‡å®šå‘åˆ°404ï¼Œä¸ºä»€ä¹ˆå†™åœ¨è¿™é‡Œè€Œä¸æ”¾åˆ°é™æ€è·¯ç”±è¡¨é‡Œå¯ä»¥æŸ¥çœ‹â€œå‰ç«¯è·¯ä¸Šâ€çš„æ–‡ç« &#125;]));this.$router.push(this.firstShowPath); APP.vue// è·å–ç™»å½•çŠ¶æ€if (!isLogin) &#123; return this.$router.push('/login');&#125; else &#123; let dR = new Array(); for (let i = 0; i &lt; dynamicRouter.length; i++) &#123; let aside_list = this.get_aside_list.aside_list // console.log(dynamicRouter[i]) for (let j = 0; j &lt; aside_list.length; j++) &#123; if (dynamicRouter[i].path === aside_list[j].path &amp;&amp; aside_list[j].isShow) &#123; // console.log(dynamicRouter[i]) dR.push(dynamicRouter[i]); //ç¬¦åˆæ¡ä»¶çš„è·¯ç”±ä¿¡æ¯å°±æ”¾è¿›æ•°ç»„é‡Œ if (!this.xjw) &#123; dR.push(dynamicRouter[2]); this.xjw = true &#125; &#125; else if (aside_list[j].path.indexOf('x') &amp;&amp; aside_list[j].isShow) &#123; if (!this.first) &#123; dR.push(dynamicRouter[0]); dR.push(dynamicRouter[1]); this.first = true &#125; &#125; else if ( (aside_list[j].path.indexOf('xx') || aside_list[j].path.indexOf('xxx') || aside_list[j].path.indexOf('xxxx')) &amp;&amp; aside_list[j].isShow) &#123; if (!this.second) &#123; dR.push(dynamicRouter[1]); this.second = true &#125; &#125; &#125; &#125; this.xjw = null this.first = null this.second = null // console.log(dR) this.$router.addRoutes(dR);","categories":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}],"tags":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/tags/å‰ç«¯/"}],"keywords":[{"name":"å‰ç«¯","slug":"å‰ç«¯","permalink":"https://xiaojw.xyz/categories/å‰ç«¯/"}]},{"title":"hexo å¸¸ç”¨å‘½ä»¤","slug":"hexo å¸¸ç”¨å‘½ä»¤","date":"2018-08-30T02:39:24.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/08/30/hexo å¸¸ç”¨å‘½ä»¤/","link":"","permalink":"https://xiaojw.xyz/2018/08/30/hexo å¸¸ç”¨å‘½ä»¤/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment åˆ—å‡ºå·²å®‰è£…ä¾èµ–(å±€éƒ¨/å…¨å±€)12$ npm ls --depth 0 $ npm ls --depth 0 -g","categories":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}],"tags":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/tags/å…¶ä»–/"}],"keywords":[{"name":"å…¶ä»–","slug":"å…¶ä»–","permalink":"https://xiaojw.xyz/categories/å…¶ä»–/"}]},{"title":"åˆ é™¤æœåŠ¡å™¨ä¹±ç æ–‡ä»¶/ç›®å½•","slug":"åˆ é™¤æœåŠ¡å™¨ä¹±ç æ–‡ä»¶","date":"2018-08-30T02:20:58.000Z","updated":"2019-12-23T02:38:12.424Z","comments":true,"path":"2018/08/30/åˆ é™¤æœåŠ¡å™¨ä¹±ç æ–‡ä»¶/","link":"","permalink":"https://xiaojw.xyz/2018/08/30/åˆ é™¤æœåŠ¡å™¨ä¹±ç æ–‡ä»¶/","excerpt":"","text":"æ–¹æ³•ä¸€1.ä½¿ç”¨ ls -li å‘½ä»¤å¾—åˆ°ä¹±ç æ–‡ä»¶çš„ inode å€¼1$ ls -li 2.ä½¿ç”¨ find . -inum 24609 -exec rm {} -rf \\; å‘½ä»¤åˆ é™¤ä¹±ç æ–‡ä»¶.å…¶ä¸­24609æ›¿æ¢ä¸ºä¹±ç æ–‡ä»¶çš„inodeå€¼. æ³¨æ„ç©ºæ ¼ ä¸­è‹±æ–‡ç¬¦å·\\;ç­‰1$ find . -inum 24609 -exec rm &#123;&#125; -rf \\; æ–¹æ³•äºŒ1.ä½¿ç”¨rm -rf åˆ é™¤ä¸Šä¸€çº§ç›®å½•ï¼Œå½“ç„¶å‰ææ˜¯éœ€è¦å¤‡ä»½ä½ éœ€è¦å¤‡ä»½çš„æ•°æ®.123456789101112131415ä¸€ç§æ€è·¯ï¼š1. æ¯”å¦‚/homeä¸‹æ–‡ä»¶å¤¹å†…å«æœ‰ä¹±ç çš„æ–‡ä»¶2. mkdir tmp3. å°†æ‰€æœ‰çš„æ–‡ä»¶é¦–å…ˆç§»åŠ¨åˆ° mv * tmp/4.åˆ°tmpä¸‹ æŠŠæ‰€æœ‰æœ‰æ­£å¸¸çš„æ˜¾ç¤ºå­—ç¬¦çš„æ–‡ä»¶ç§»åŠ¨å‡ºæ¥cd tmp ;mv [a-zA-Z0-9]* ..5.ç°åœ¨å¯ä»¥ rm -rf tmp äº†","categories":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"https://xiaojw.xyz/categories/æœåŠ¡å™¨/"}],"tags":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"https://xiaojw.xyz/tags/æœåŠ¡å™¨/"}],"keywords":[{"name":"æœåŠ¡å™¨","slug":"æœåŠ¡å™¨","permalink":"https://xiaojw.xyz/categories/æœåŠ¡å™¨/"}]},{"title":"æ–‡ä»¶ç®¡ç†php","slug":"æ–‡ä»¶ç®¡ç†php","date":"2018-08-30T01:27:59.000Z","updated":"2019-12-23T02:38:12.439Z","comments":true,"path":"2018/08/30/æ–‡ä»¶ç®¡ç†php/","link":"","permalink":"https://xiaojw.xyz/2018/08/30/æ–‡ä»¶ç®¡ç†php/","excerpt":"","text":"æœ‰äº›ä»£ç ä¸æ˜¯è‡ªå·±å†™çš„ æ‰€ä»¥æ ¼å¼ä¸å¤ªåŒ123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273&lt;?phpfunction fileAdir($dir) &#123; if (!is_dir($dir))&#123; mkdir($dir); chmod($dir,0777); $data = scandir(&quot;$dir&quot;); $allFile = array(); foreach ($data as $file) &#123; if($file != &apos;.&apos; &amp;&amp; $file != &apos;..&apos;) &#123; //åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶å¤¹ $a = array( &apos;file&apos;=&gt;$file, &apos;isDir&apos;=&gt;is_dir($dir. &apos;/&apos; .$file), &apos;name&apos;=&gt;$dir . &apos;/&apos; .$file ); array_push($allFile, $a); &#125; &#125; return $allFile; &#125; else&#123; $data = scandir(&quot;$dir&quot;); $allFile = array(); foreach ($data as $file) &#123; if($file != &apos;.&apos; &amp;&amp; $file != &apos;..&apos;) &#123; //åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹å†…çš„æ–‡ä»¶å¤¹ $a = array( &apos;file&apos;=&gt;$file, &apos;isDir&apos;=&gt;is_dir($dir. &apos;/&apos; .$file), &apos;name&apos;=&gt;$dir . &apos;/&apos; .$file ); array_push($allFile, $a); &#125; &#125; return $allFile; &#125;&#125;/** è¯»å–æ–‡ä»¶ç±» **/class file &#123; public $file; public $filename; //æ–‡ä»¶åå­— public $filetype; //æ–‡ä»¶ç±»å‹ public $filesize; //æ–‡ä»¶å¤§å° public $fileopen; //æ‰“å¼€æ–‡ä»¶ public $fileread; //è¯»å–æ–‡ä»¶ //å†™å…¥å˜é‡ public $filepath; public $filecontent; //ä¿å­˜æ–‡ä»¶ç”¨åˆ°çš„æ–‡ä»¶å†…å®¹ public $fileput; //æ–‡ä»¶å†™å…¥ public function edits($files)&#123; $this-&gt;file = $files; if(!file_exists($this-&gt;file))&#123; die(&quot;æ–‡ä»¶ä¸å­˜åœ¨ï¼&quot;); &#125; $this-&gt;fileopen = fopen($this-&gt;file, &apos;r&apos;); if(!$this-&gt;fileopen)&#123; die(&quot;æ–‡ä»¶è¯»å–å¤±è´¥&quot;); &#125; //$this-&gt;fileread = htmlspecialchars($this-&gt;fileread); //å¼€å§‹è·å–æ–‡ä»¶çš„åç¼€å $filestr = strlen($this-&gt;file); $filepoint = strrpos($this-&gt;file, &apos;.&apos;); $filesub = substr($this-&gt;file, $filepoint+1); $this-&gt;filetype = $filesub; $this-&gt;filename = basename($this-&gt;file); $this-&gt;filesize = filesize($this-&gt;file); if($this-&gt;filesize===0)&#123; return array( &apos;filetype&apos;=&gt;$this-&gt;filetype, &apos;filename&apos;=&gt;$this-&gt;filename, &apos;filecontent&apos;=&gt;&apos;&apos;, &apos;filepath&apos;=&gt;$this-&gt;file ); exit; &#125; $this-&gt;fileread = fread($this-&gt;fileopen,$this-&gt;filesize); // è¯»å–ä¸­æ–‡ //$this-&gt;fileread =iconv(&apos;gb2312&apos;, &apos;utf-8&apos;, $this-&gt;fileread); //ä»¥æ•°ç»„å½¢å¼è¿”å›ï¼šæ–‡ä»¶ç±»å‹ æ–‡ä»¶åç§° æ–‡ä»¶å†…å®¹ æ–‡ä»¶è·¯å¾„ return array( &apos;filetype&apos;=&gt;$this-&gt;filetype, &apos;filename&apos;=&gt;$this-&gt;filename, &apos;filecontent&apos;=&gt;$this-&gt;fileread, &apos;filepath&apos;=&gt;$this-&gt;file ); //å…³é—­æ–‡ä»¶ fclose($this-&gt;file); &#125; /* ä¿®æ”¹æ–‡ä»¶å‡½æ•° */ public function bc($filepath,$filecontent)&#123; $this-&gt;filepath = $filepath; //è®¿é—®æ–‡ä»¶ $this-&gt;fileopen = file_get_contents($this-&gt;filepath); if(!$this-&gt;fileopen)&#123; //die(&apos;æ–‡ä»¶æ‰“å¼€å¤±è´¥&apos;); &#125; //è·å–ä¼ è¿›æ¥çš„æ–‡ä»¶å†…å®¹ $this-&gt;filecontent = $filecontent; //åè½¬ä¹‰html //$this-&gt;filecontent = htmlspecialchars_decode($this-&gt;filecontent); //å†™å…¥æ–‡ä»¶ $this-&gt;fileput = file_put_contents($this-&gt;filepath, $this-&gt;filecontent); if($this-&gt;fileput)&#123; return &apos;ä¿®æ”¹æ–‡ä»¶æˆåŠŸ&apos;; &#125;else &#123; return &apos;ä¿®æ”¹æ–‡ä»¶å¤±è´¥&apos;; &#125; &#125; // åˆ›å»ºæ–‡ä»¶å¤¹ public function create_folder($dir) &#123; if (!file_exists($dir))&#123; //mkdir($dir,0777,true); mkdir($dir); chmod($dir,0777); return &apos;åˆ›å»ºæ–‡ä»¶å¤¹æˆåŠŸ&apos;; &#125; else &#123; return &apos;åˆ›å»ºæ–‡ä»¶å¤¹å·²å­˜åœ¨&apos;; &#125; &#125; // åˆ›å»ºæ–‡ä»¶ public function create_file($dir) &#123; if (!file_exists($dir))&#123; $handle = fopen($dir, &apos;w&apos;); chmod($dir,0777); if($handle)&#123; return &apos;åˆ›å»ºæ–‡ä»¶æˆåŠŸ&apos;; &#125; else&#123; return &apos;åˆ›å»ºæ–‡ä»¶å¤±è´¥&apos;; &#125; &#125; else &#123; return &apos;éœ€åˆ›å»ºçš„æ–‡ä»¶å·²ç»å­˜åœ¨&apos;; &#125; &#125; // é‡å‘½åæ–‡ä»¶/æ–‡ä»¶å¤¹ public function fileRename($old_name,$new_name) &#123; if(!file_exists($new_name)||file_exists($old_name))&#123; $result = rename($old_name,$new_name); if($result)&#123; return &apos;é‡å‘½åæˆåŠŸ&apos;; &#125; else&#123; return &apos;é‡å‘½åå¤±è´¥&apos;; &#125; &#125; else &#123; return &apos;ç›®æ ‡æ–‡ä»¶å·²å­˜åœ¨æˆ–åŸæ–‡ä»¶ä¸å­˜åœ¨&apos;; &#125; &#125; // å¤åˆ¶æ–‡ä»¶å¤¹åŠæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ public function copyDirAndFile($src,$dst) &#123; // åŸç›®å½•ï¼Œå¤åˆ¶åˆ°çš„ç›®å½• if(file_exists($src))&#123; $dir = opendir($src); @mkdir($dst); chmod($dst,0777); while(false !== ($file = readdir($dir))) &#123; if (( $file != &apos;.&apos; ) &amp;&amp; ( $file != &apos;..&apos; )) &#123; if (is_dir($src . &apos;/&apos; . $file)) &#123; $this-&gt;copyDirAndFile($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file); chmod($dst . &apos;/&apos; . $file,0777); &#125; else &#123; copy($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file); chmod($dst . &apos;/&apos; . $file,0777); &#125; &#125; &#125; closedir($dir); return true; &#125; else &#123; return false; &#125; &#125; // åˆ é™¤æ–‡ä»¶å¤¹åŠæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ public function delDirAndFile($dirName)&#123; if(file_exists($dirName))&#123; if ($handle = opendir(&quot;$dirName&quot; )) &#123; while (false !== ($item=readdir($handle))) &#123; if ($item != &quot;.&quot; &amp;&amp; $item != &quot;..&quot;) &#123; if (is_dir( &quot;$dirName/$item&quot;)) &#123; $this-&gt;delDirAndFile( &quot;$dirName/$item&quot; ); &#125; else &#123; if(unlink( &quot;$dirName/$item&quot; ))&#123; // echo &quot;æˆåŠŸåˆ é™¤æ–‡ä»¶ï¼š $dirName/$item\\n&quot;; &#125; &#125; &#125; &#125; closedir( $handle ); if(rmdir( $dirName )) &#123; // echo &quot;æˆåŠŸåˆ é™¤ç›®å½•ï¼š $dirName\\n&quot;; &#125; &#125; return true; &#125; else&#123; return false; &#125; &#125; // å‰ªåˆ‡æ–‡ä»¶å¤¹åŠæ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶ public function cutDirAndFile($src,$dst) &#123; // åŸç›®å½•ï¼Œå¤åˆ¶åˆ°çš„ç›®å½• if(file_exists($src))&#123; $dir = opendir($src); @mkdir($dst); chmod($dst,0777); while(false !== ($file = readdir($dir))) &#123; if (( $file != &apos;.&apos; ) &amp;&amp; ( $file != &apos;..&apos; )) &#123; if (is_dir($src . &apos;/&apos; . $file)) &#123; $this-&gt;copyDirAndFile($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file); chmod($dst . &apos;/&apos; . $file,0777); &#125; else &#123; copy($src . &apos;/&apos; . $file,$dst . &apos;/&apos; . $file); chmod($dst . &apos;/&apos; . $file,0777); //unlink($src . &apos;/&apos; . $file); &#125; &#125; &#125; $file = new file(); $delete = $file-&gt;delDirAndFile($src); if(!$delete)&#123; return &apos;æ–‡ä»¶å¤¹åˆ é™¤å¤±è´¥&apos;; &#125; $file = null; closedir($dir); return true; &#125; else &#123; return false; &#125; &#125; // å¤åˆ¶å•ä¸ªæ–‡ä»¶ public function fileCopy($source_name,$target_name) &#123; if(!file_exists($target_name)||file_exists($source_name))&#123; //return copy($source_name,$target_name)?true:false; $result = copy($source_name,$target_name); chmod($target_name,0777); return $result; if($result)&#123; return &apos;å¤åˆ¶æ–‡ä»¶æˆåŠŸ&apos;; &#125; else &#123; return &apos;å¤åˆ¶æ–‡ä»¶å¤±è´¥&apos;; &#125; &#125; else &#123; return &apos;ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨æˆ–è€…åŸå§‹æ–‡ä»¶ä¸å­˜åœ¨&apos;; &#125; &#125; // åˆ é™¤å•ä¸ªæ–‡ä»¶ public function fileDelete($del_name) &#123; if(file_exists($del_name))&#123; $result = unlink($del_name); if($result)&#123; return &apos;åˆ é™¤æ–‡ä»¶æˆåŠŸ&apos;; &#125; else &#123; return &apos;åˆ é™¤æ–‡ä»¶å¤±è´¥&apos;; &#125; &#125; else &#123; return &apos;è¦åˆ é™¤çš„æ–‡ä»¶ä¸å­˜åœ¨&apos;; &#125; &#125; // å‰ªåˆ‡å•ä¸ªæ–‡ä»¶ public function fileCut($source_name,$target_name) &#123; if(!file_exists($target_name)||file_exists($source_name))&#123; //return copy($source_name,$target_name)?true:false; $result = copy($source_name,$target_name); chmod($target_name,0777); unlink($source_name); if($result)&#123; return &apos;å‰ªåˆ‡æ–‡ä»¶æˆåŠŸ&apos;; &#125; else &#123; return &apos;å‰ªåˆ‡æ–‡ä»¶å¤±è´¥&apos;; &#125; &#125; else &#123; return &apos;ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨æˆ–è€…åŸå§‹æ–‡ä»¶ä¸å­˜åœ¨&apos;; &#125; &#125;&#125;?&gt;","categories":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://xiaojw.xyz/categories/åç«¯/"}],"tags":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://xiaojw.xyz/tags/åç«¯/"}],"keywords":[{"name":"åç«¯","slug":"åç«¯","permalink":"https://xiaojw.xyz/categories/åç«¯/"}]}]}