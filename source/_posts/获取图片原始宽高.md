---
title: 获取图片原始宽高
date: 2020-6-11 22:00:49
categories: ['前端'] 
tags: 前端
comments: true
---

# 问题
某些场景下数据库中储存的图片的宽高度和图片真实的宽高度不同,直接使用数据库的宽高设置样式就会出现图片被拉伸或者被压缩

# 解决
重新加载了一个未设置宽度的的图片 取出图片的宽高
```javascript
imgLoad(url) {    
     return new Promise((resolve, reject) => {   
          let img = new Image();    
          img.src = url;    
          if (img.complete) {    
               resolve({width:img.width,height:img.height,});          
          } else {       
               img.onload = function() {       
                    resolve({width:img.width,height:img.height,});      
                    img.onload = null;     
               };    
          }    
     });
},
```
成功解决


